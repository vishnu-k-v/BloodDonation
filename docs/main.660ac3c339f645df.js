var BR=Object.defineProperty,jR=Object.defineProperties,HR=Object.getOwnPropertyDescriptors,MS=Object.getOwnPropertySymbols,$R=Object.prototype.hasOwnProperty,WR=Object.prototype.propertyIsEnumerable,PS=(xe,me,x)=>me in xe?BR(xe,me,{enumerable:!0,configurable:!0,writable:!0,value:x}):xe[me]=x,qe=(xe,me)=>{for(var x in me||(me={}))$R.call(me,x)&&PS(xe,x,me[x]);if(MS)for(var x of MS(me))WR.call(me,x)&&PS(xe,x,me[x]);return xe},Lr=(xe,me)=>jR(xe,HR(me));(self.webpackChunkBloodDonation=self.webpackChunkBloodDonation||[]).push([[179],{7905:(xe,me,x)=>{"use strict";x.d(me,{hO:()=>oe,xv:()=>J,Dh:()=>K,GT:()=>Y,cc:()=>ce,on:()=>k,pX:()=>ne});var p=x(3668),X=x(7892),O=x(5940);xe=x.hmd(xe);const ue=["ngOnDestroy"],ne=(te,de,ge,Ie={})=>new Proxy(te,{get:(Ue,ht)=>ge.runOutsideAngular(()=>{var Ct;if(te[ht])return(null===(Ct=null==Ie?void 0:Ie.spy)||void 0===Ct?void 0:Ct.get)&&Ie.spy.get(ht,te[ht]),te[ht];if(ue.indexOf(ht)>-1)return()=>{};const lt=de.toPromise().then(ln=>{const at=ln&&ln[ht];return"function"==typeof at?at.bind(ln):at&&at.then?at.then(Qe=>ge.run(()=>Qe)):ge.run(()=>at)});return new Proxy(()=>{},{get:(ln,at)=>lt[at],apply:(ln,at,Qe)=>lt.then(xt=>{var Je;const bt=xt&&xt(...Qe);return(null===(Je=null==Ie?void 0:Ie.spy)||void 0===Je?void 0:Je.apply)&&Ie.spy.apply(ht,Qe,bt),bt})})})}),Y=(te,de)=>{de.forEach(ge=>{Object.getOwnPropertyNames(ge.prototype||ge).forEach(Ie=>{Object.defineProperty(te.prototype,Ie,Object.getOwnPropertyDescriptor(ge.prototype||ge,Ie))})})};class fe{constructor(de){return de}}const K=new p.OlP("angularfire2.app.options"),J=new p.OlP("angularfire2.app.name");function k(te,de,ge){const Ue="object"==typeof ge&&ge||{};Ue.name=Ue.name||"string"==typeof ge&&ge||"[DEFAULT]";const Ct=X.Z.apps.filter(lt=>lt&&lt.name===Ue.name)[0]||de.runOutsideAngular(()=>X.Z.initializeApp(te,Ue));try{JSON.stringify(te)!==JSON.stringify(Ct.options)&&U("error",`${Ct.name} Firebase App already initialized with different options${xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(lt){}return new fe(Ct)}const U=(te,...de)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[te](...de)},H={provide:fe,useFactory:k,deps:[K,p.R0b,[new p.FiY,J]]};let oe=(()=>{class te{constructor(ge){X.Z.registerVersion("angularfire",O.q4.full,"core"),X.Z.registerVersion("angularfire",O.q4.full,"app-compat"),X.Z.registerVersion("angular",p.q4F.full,ge.toString())}static initializeApp(ge,Ie){return{ngModule:te,providers:[{provide:K,useValue:ge},{provide:J,useValue:Ie}]}}}return te.\u0275fac=function(ge){return new(ge||te)(p.LFG(p.Lbi))},te.\u0275mod=p.oAB({type:te}),te.\u0275inj=p.cJS({providers:[H]}),te})();function ce(te,de,ge,Ie,Ue){const[,ht,Ct]=globalThis.\u0275AngularfireInstanceCache.find(lt=>lt[0]===te)||[];if(ht)return function(te,de){try{return te.toString()===de.toString()}catch(ge){return te===de}}(Ue,Ct)||(he("error",`${de} was already initialized on the ${ge} Firebase App with different settings.${pe?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:Ue,was:Ct})),ht;{const lt=Ie();return globalThis.\u0275AngularfireInstanceCache.push([te,lt,Ue]),lt}}const pe=!!xe.hot,he=(te,...de)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[te](...de)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5940:(xe,me,x)=>{"use strict";x.d(me,{q4:()=>hr,iC:()=>yo,HU:()=>Os,vb:()=>Fi,JM:()=>Pc});var p=x(3668),X=x(7713),O=x(8239),ue=x(1572),ne=x(4213),Y=x(1177),fe=x(3855),K=x(4995);const J="@firebase/installations",k="0.5.4",H=`w:${k}`,oe="FIS_v2",de=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ge(b){return b instanceof ne.ZR&&b.code.includes("request-failed")}function Ie({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function Ue(b){return{token:b.token,requestStatus:2,expiresIn:xt(b.expiresIn),creationTime:Date.now()}}function ht(b,T){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,O.Z)(function*(b,T){const L=(yield T.json()).error;return de.create("request-failed",{requestName:b,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function lt({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function ln(b,{refreshToken:T}){const R=lt(b);return R.append("Authorization",function(b){return`${oe} ${b}`}(T)),R}function at(b){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,O.Z)(function*(b){const T=yield b();return T.status>=500&&T.status<600?b():T})).apply(this,arguments)}function xt(b){return Number(b.replace("s","000"))}function bt(b,T){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,O.Z)(function*(b,{fid:T}){const R=Ie(b),ae={method:"POST",headers:lt(b),body:JSON.stringify({fid:T,authVersion:oe,appId:b.appId,sdkVersion:H})},Ee=yield at(()=>fetch(R,ae));if(Ee.ok){const Me=yield Ee.json();return{fid:Me.fid||T,registrationStatus:2,refreshToken:Me.refreshToken,authToken:Ue(Me.authToken)}}throw yield ht("Create Installation",Ee)})).apply(this,arguments)}function Ha(b){return new Promise(T=>{setTimeout(T,b)})}const Ti=/^[cdef][\w-]{21}$/;function Dt(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const R=function(b){return function(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Ti.test(R)?R:""}catch(b){return""}}function Ai(b){return`${b.appName}!${b.appId}`}const Ki=new Map;function ii(b,T){const R=Ai(b);un(R,T),function(b,T){const R=(!wt&&"BroadcastChannel"in self&&(wt=new BroadcastChannel("[Firebase] FID Change"),wt.onmessage=b=>{un(b.data.key,b.data.fid)}),wt);R&&R.postMessage({key:b,fid:T}),0===Ki.size&&wt&&(wt.close(),wt=null)}(R,T)}function un(b,T){const R=Ki.get(b);if(R)for(const L of R)L(T)}let wt=null;const be="firebase-installations-store";let xn=null;function Cn(){return xn||(xn=(0,K.openDb)("firebase-installations-database",1,b=>{0===b.oldVersion&&b.createObjectStore(be)})),xn}function ke(b,T){return At.apply(this,arguments)}function At(){return(At=(0,O.Z)(function*(b,T){const R=Ai(b),q=(yield Cn()).transaction(be,"readwrite"),ae=q.objectStore(be),Ee=yield ae.get(R);return yield ae.put(T,R),yield q.complete,(!Ee||Ee.fid!==T.fid)&&ii(b,T.fid),T})).apply(this,arguments)}function Ur(b){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,O.Z)(function*(b){const T=Ai(b),L=(yield Cn()).transaction(be,"readwrite");yield L.objectStore(be).delete(T),yield L.complete})).apply(this,arguments)}function je(b,T){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,O.Z)(function*(b,T){const R=Ai(b),q=(yield Cn()).transaction(be,"readwrite"),ae=q.objectStore(be),Ee=yield ae.get(R),Me=T(Ee);return void 0===Me?yield ae.delete(R):yield ae.put(Me,R),yield q.complete,Me&&(!Ee||Ee.fid!==Me.fid)&&ii(b,Me.fid),Me})).apply(this,arguments)}function ft(b){return pt.apply(this,arguments)}function pt(){return(pt=(0,O.Z)(function*(b){let T;const R=yield je(b,L=>{const q=Xn(L),ae=Rt(b,q);return T=ae.registrationPromise,ae.installationEntry});return""===R.fid?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}})).apply(this,arguments)}function Xn(b){return Xe(b||{fid:Dt(),registrationStatus:0})}function Rt(b,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(de.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},L=function(b,T){return Be.apply(this,arguments)}(b,R);return{installationEntry:R,registrationPromise:L}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Ql(b)}:{installationEntry:T}}function Be(){return(Be=(0,O.Z)(function*(b,T){try{return ke(b,yield bt(b,T))}catch(R){throw ge(R)&&409===R.customData.serverCode?yield Ur(b):yield ke(b,{fid:T.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Ql(b){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,O.Z)(function*(b){let T=yield kt(b);for(;1===T.registrationStatus;)yield Ha(100),T=yield kt(b);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield ft(b);return L||R}return T})).apply(this,arguments)}function kt(b){return je(b,T=>{if(!T)throw de.create("installation-not-found");return Xe(T)})}function Xe(b){return function(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Jl(b,T){return G.apply(this,arguments)}function G(){return(G=(0,O.Z)(function*({appConfig:b,platformLoggerProvider:T},R){const L=B(b,R),q=ln(b,R),ae=T.getImmediate({optional:!0});ae&&q.append("x-firebase-client",ae.getPlatformInfoString());const Me={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:H}})},Pe=yield at(()=>fetch(L,Me));if(Pe.ok)return Ue(yield Pe.json());throw yield ht("Generate Auth Token",Pe)})).apply(this,arguments)}function B(b,{fid:T}){return`${Ie(b)}/${T}/authTokens:generate`}function z(b){return ve.apply(this,arguments)}function ve(){return(ve=(0,O.Z)(function*(b,T=!1){let R;const L=yield je(b.appConfig,ae=>{if(!dn(ae))throw de.create("not-registered");const Ee=ae.authToken;if(!T&&tr(Ee))return ae;if(1===Ee.requestStatus)return R=re(b,T),ae;{if(!navigator.onLine)throw de.create("app-offline");const Me=jn(ae);return R=Ft(b,Me),Me}});return R?yield R:L.authToken})).apply(this,arguments)}function re(b,T){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,O.Z)(function*(b,T){let R=yield We(b.appConfig);for(;1===R.authToken.requestStatus;)yield Ha(100),R=yield We(b.appConfig);const L=R.authToken;return 0===L.requestStatus?z(b,T):L})).apply(this,arguments)}function We(b){return je(b,T=>{if(!dn(T))throw de.create("not-registered");return function(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ft(b,T){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,O.Z)(function*(b,T){try{const R=yield Jl(b,T),L=Object.assign(Object.assign({},T),{authToken:R});return yield ke(b.appConfig,L),R}catch(R){if(!ge(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ke(b.appConfig,L)}else yield Ur(b.appConfig);throw R}})).apply(this,arguments)}function dn(b){return void 0!==b&&2===b.registrationStatus}function tr(b){return 2===b.requestStatus&&!function(b){const T=Date.now();return T<b.creationTime||b.creationTime+b.expiresIn<T+36e5}(b)}function jn(b){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:T})}function zo(){return(zo=(0,O.Z)(function*(b){const T=b,{installationEntry:R,registrationPromise:L}=yield ft(T.appConfig);return L?L.catch(console.error):z(T).catch(console.error),R.fid})).apply(this,arguments)}function bs(){return(bs=(0,O.Z)(function*(b,T=!1){const R=b;return yield Xl(R.appConfig),(yield z(R,T)).token})).apply(this,arguments)}function Xl(b){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,O.Z)(function*(b){const{registrationPromise:T}=yield ft(b);T&&(yield T)})).apply(this,arguments)}function jr(b){return de.create("missing-app-config-values",{valueName:b})}const bn="installations";(0,ue._registerComponent)(new Y.wA(bn,b=>{const T=b.getProvider("app").getImmediate(),R=function(b){if(!b||!b.options)throw jr("App Configuration");if(!b.name)throw jr("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!b.options[R])throw jr(R);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(T);return{app:T,appConfig:R,platformLoggerProvider:(0,ue._getProvider)(T,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ue._registerComponent)(new Y.wA("installations-internal",b=>{const T=b.getProvider("app").getImmediate(),R=(0,ue._getProvider)(T,bn).getImmediate();return{getId:()=>function(b){return zo.apply(this,arguments)}(R),getToken:q=>function(b){return bs.apply(this,arguments)}(R,q)}},"PRIVATE")),(0,ue.registerVersion)(J,k),(0,ue.registerVersion)(J,k,"esm2017");const Ze="@firebase/remote-config",Bt=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ud{constructor(T,R,L,q){this.client=T,this.storage=R,this.storageCache=L,this.logger=q}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,q=L<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${q}.`),q}fetch(T){var R=this;return(0,O.Z)(function*(){const[L,q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(q&&R.isCachedDataFresh(T.cacheMaxAgeMillis,L))return q;T.eTag=q&&q.eTag;const ae=yield R.client.fetch(T),Ee=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&Ee.push(R.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(Ee),ae})()}}function Uf(b=navigator){return b.languages&&b.languages[0]||b.language}class $r{constructor(T,R,L,q,ae,Ee){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=L,this.projectId=q,this.apiKey=ae,this.appId=Ee}fetch(T){var R=this;return(0,O.Z)(function*(){const[L,q]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Ee=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Me={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Pe={sdk_version:R.sdkVersion,app_instance_id:L,app_instance_id_token:q,app_id:R.appId,language_code:Uf()},ut={method:"POST",headers:Me,body:JSON.stringify(Pe)},Ot=fetch(Ee,ut),vn=new Promise((or,ks)=>{T.signal.addEventListener(()=>{const Eo=new Error("The operation was aborted.");Eo.name="AbortError",ks(Eo)})});let Ln;try{yield Promise.race([Ot,vn]),Ln=yield Ot}catch(or){let ks="fetch-client-network";throw"AbortError"===or.name&&(ks="fetch-timeout"),Bt.create(ks,{originalErrorMessage:or.message})}let gt=Ln.status;const vo=Ln.headers.get("ETag")||void 0;let ya,Rr;if(200===Ln.status){let or;try{or=yield Ln.json()}catch(ks){throw Bt.create("fetch-client-parse",{originalErrorMessage:ks.message})}ya=or.entries,Rr=or.state}if("INSTANCE_STATE_UNSPECIFIED"===Rr?gt=500:"NO_CHANGE"===Rr?gt=304:("NO_TEMPLATE"===Rr||"EMPTY_CONFIG"===Rr)&&(ya={}),304!==gt&&200!==gt)throw Bt.create("fetch-status",{httpStatus:gt});return{status:gt,eTag:vo,config:ya}})()}}class pc{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,O.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,L)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:L}){var q=this;return(0,O.Z)(function*(){yield function(b,T){return new Promise((R,L)=>{const q=Math.max(T-Date.now(),0),ae=setTimeout(R,q);b.addEventListener(()=>{clearTimeout(ae),L(Bt.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const ae=yield q.client.fetch(T);return yield q.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function(b){if(!(b instanceof ne.ZR&&b.customData))return!1;const T=Number(b.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ae))throw ae;const Ee={throttleEndTimeMillis:Date.now()+(0,ne.$s)(L),backoffCount:L+1};return yield q.storage.setThrottleMetadata(Ee),q.attemptFetch(T,Ee)}})()}}class Bf{constructor(T,R,L,q,ae){this.app=T,this._client=R,this._storageCache=L,this._storage=q,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qo(b,T){const R=b.target.error||void 0;return Bt.create(T,{originalErrorMessage:R&&R.message})}const Js="app_namespace_store";class jf{constructor(T,R,L,q=function(){return new Promise((b,T)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=L=>{T(Qo(L,"storage-open"))},R.onsuccess=L=>{b(L.target.result)},R.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Js,{keyPath:"compositeKey"})}}catch(R){T(Bt.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=T,this.appName=R,this.namespace=L,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,O.Z)(function*(){const L=yield R.openDbPromise;return new Promise((q,ae)=>{const Me=L.transaction([Js],"readonly").objectStore(Js),Pe=R.createCompositeKey(T);try{const ut=Me.get(Pe);ut.onerror=Ot=>{ae(Qo(Ot,"storage-get"))},ut.onsuccess=Ot=>{const vn=Ot.target.result;q(vn?vn.value:void 0)}}catch(ut){ae(Bt.create("storage-get",{originalErrorMessage:ut&&ut.message}))}})})()}set(T,R){var L=this;return(0,O.Z)(function*(){const q=yield L.openDbPromise;return new Promise((ae,Ee)=>{const Pe=q.transaction([Js],"readwrite").objectStore(Js),ut=L.createCompositeKey(T);try{const Ot=Pe.put({compositeKey:ut,value:R});Ot.onerror=vn=>{Ee(Qo(vn,"storage-set"))},Ot.onsuccess=()=>{ae()}}catch(Ot){Ee(Bt.create("storage-set",{originalErrorMessage:Ot&&Ot.message}))}})})()}delete(T){var R=this;return(0,O.Z)(function*(){const L=yield R.openDbPromise;return new Promise((q,ae)=>{const Me=L.transaction([Js],"readwrite").objectStore(Js),Pe=R.createCompositeKey(T);try{const ut=Me.delete(Pe);ut.onerror=Ot=>{ae(Qo(Ot,"storage-delete"))},ut.onsuccess=()=>{q()}}catch(ut){ae(Bt.create("storage-delete",{originalErrorMessage:ut&&ut.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class mc{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,O.Z)(function*(){const R=T.storage.getLastFetchStatus(),L=T.storage.getLastSuccessfulFetchTimestampMillis(),q=T.storage.getActiveConfig(),ae=yield R;ae&&(T.lastFetchStatus=ae);const Ee=yield L;Ee&&(T.lastSuccessfulFetchTimestampMillis=Ee);const Me=yield q;Me&&(T.activeConfig=Me)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Jo(){return ru.apply(this,arguments)}function ru(){return(ru=(0,O.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(b){return!1}})).apply(this,arguments)}(0,ue._registerComponent)(new Y.wA("remote-config",function(T,{instanceIdentifier:R}){const L=T.getProvider("app").getImmediate(),q=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Bt.create("registration-window");if(!(0,ne.hl)())throw Bt.create("indexed-db-unavailable");const{projectId:ae,apiKey:Ee,appId:Me}=L.options;if(!ae)throw Bt.create("registration-project-id");if(!Ee)throw Bt.create("registration-api-key");if(!Me)throw Bt.create("registration-app-id");const Pe=new jf(Me,L.name,R=R||"firebase"),ut=new mc(Pe),Ot=new fe.Yd(Ze);Ot.logLevel=fe.in.ERROR;const vn=new $r(q,ue.SDK_VERSION,R,ae,Ee,Me),Ln=new pc(vn,Pe),gt=new Ud(Ln,Pe,ut,Ot),vo=new Bf(L,gt,ut,Pe,Ot);return function(b){const T=(0,ne.m9)(b);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(vo),vo},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Ze,"0.3.3"),(0,ue.registerVersion)(Ze,"0.3.3","esm2017");const _c="/firebase-messaging-sw.js",$f="/firebase-cloud-messaging-push-scope",li="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xi="google.c.a.c_id",Xs="google.c.a.c_l",es="google.c.a.ts",iu="google.c.a.e";var $n=(()=>{return(b=$n||($n={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",$n;var b})();function Mi(b){const T=new Uint8Array(b);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xo(b){const R=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),q=new Uint8Array(L.length);for(let ae=0;ae<L.length;++ae)q[ae]=L.charCodeAt(ae);return q}const vc="fcm_token_details_db",Ec="fcm_token_object_Store";function su(b){return Ka.apply(this,arguments)}function Ka(){return Ka=(0,O.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(vc))return null;let T=null;return(yield(0,K.openDb)(vc,5,function(){var L=(0,O.Z)(function*(q){var ae;if(q.oldVersion<2||!q.objectStoreNames.contains(Ec))return;const Ee=q.transaction.objectStore(Ec),Me=yield Ee.index("fcmSenderId").get(b);if(yield Ee.clear(),Me)if(2===q.oldVersion){const Pe=Me;if(!Pe.auth||!Pe.p256dh||!Pe.endpoint)return;T={token:Pe.fcmToken,createTime:null!==(ae=Pe.createTime)&&void 0!==ae?ae:Date.now(),subscriptionOptions:{auth:Pe.auth,p256dh:Pe.p256dh,endpoint:Pe.endpoint,swScope:Pe.swScope,vapidKey:"string"==typeof Pe.vapidKey?Pe.vapidKey:Mi(Pe.vapidKey)}}}else if(3===q.oldVersion){const Pe=Me;T={token:Pe.fcmToken,createTime:Pe.createTime,subscriptionOptions:{auth:Mi(Pe.auth),p256dh:Mi(Pe.p256dh),endpoint:Pe.endpoint,swScope:Pe.swScope,vapidKey:Mi(Pe.vapidKey)}}}else if(4===q.oldVersion){const Pe=Me;T={token:Pe.fcmToken,createTime:Pe.createTime,subscriptionOptions:{auth:Mi(Pe.auth),p256dh:Mi(Pe.p256dh),endpoint:Pe.endpoint,swScope:Pe.swScope,vapidKey:Mi(Pe.vapidKey)}}}});return function(q){return L.apply(this,arguments)}}())).close(),yield(0,K.deleteDb)(vc),yield(0,K.deleteDb)("fcm_vapid_details_db"),yield(0,K.deleteDb)("undefined"),$d(T)?T:null}),Ka.apply(this,arguments)}function $d(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:T}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Ht="firebase-messaging-store";let ou=null;function ts(){return ou||(ou=(0,K.openDb)("firebase-messaging-database",1,b=>{0===b.oldVersion&&b.createObjectStore(Ht)})),ou}function mn(b){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,O.Z)(function*(b){const T=As(b),L=yield(yield ts()).transaction(Ht).objectStore(Ht).get(T);if(L)return L;{const q=yield su(b.appConfig.senderId);if(q)return yield rr(b,q),q}})).apply(this,arguments)}function rr(b,T){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,O.Z)(function*(b,T){const R=As(b),q=(yield ts()).transaction(Ht,"readwrite");return yield q.objectStore(Ht).put(T,R),yield q.complete,T})).apply(this,arguments)}function _n(b){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,O.Z)(function*(b){const T=As(b),L=(yield ts()).transaction(Ht,"readwrite");yield L.objectStore(Ht).delete(T),yield L.complete})).apply(this,arguments)}function As({appConfig:b}){return b.appId}const Lt=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pi(b,T){return ta.apply(this,arguments)}function ta(){return(ta=(0,O.Z)(function*(b,T){const R=yield lu(b),L=Ja(T),q={method:"POST",headers:R,body:JSON.stringify(L)};let ae;try{ae=yield(yield fetch(Oe(b.appConfig),q)).json()}catch(Ee){throw Lt.create("token-subscribe-failed",{errorInfo:Ee})}if(ae.error)throw Lt.create("token-subscribe-failed",{errorInfo:ae.error.message});if(!ae.token)throw Lt.create("token-subscribe-no-token");return ae.token})).apply(this,arguments)}function Qa(b,T){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,O.Z)(function*(b,T){const R=yield lu(b),L=Ja(T.subscriptionOptions),q={method:"PATCH",headers:R,body:JSON.stringify(L)};let ae;try{ae=yield(yield fetch(`${Oe(b.appConfig)}/${T.token}`,q)).json()}catch(Ee){throw Lt.create("token-update-failed",{errorInfo:Ee})}if(ae.error)throw Lt.create("token-update-failed",{errorInfo:ae.error.message});if(!ae.token)throw Lt.create("token-update-no-token");return ae.token})).apply(this,arguments)}function au(b,T){return eo.apply(this,arguments)}function eo(){return(eo=(0,O.Z)(function*(b,T){const L={method:"DELETE",headers:yield lu(b)};try{const ae=yield(yield fetch(`${Oe(b.appConfig)}/${T}`,L)).json();if(ae.error)throw Lt.create("token-unsubscribe-failed",{errorInfo:ae.error.message})}catch(q){throw Lt.create("token-unsubscribe-failed",{errorInfo:q})}})).apply(this,arguments)}function Oe({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function lu(b){return uu.apply(this,arguments)}function uu(){return(uu=(0,O.Z)(function*({appConfig:b,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Ja({p256dh:b,auth:T,endpoint:R,vapidKey:L}){const q={web:{endpoint:R,auth:T,p256dh:b}};return L!==li&&(q.web.applicationPubKey=L),q}const na=6048e5;function cu(b){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,O.Z)(function*(b){const T=yield Rs(b.swRegistration,b.vapidKey),R={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:T.endpoint,auth:Mi(T.getKey("auth")),p256dh:Mi(T.getKey("p256dh"))},L=yield mn(b.firebaseDependencies);if(L){if(ra(L.subscriptionOptions,R))return Date.now()>=L.createTime+na?mt(b,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield au(b.firebaseDependencies,L.token)}catch(q){console.warn(q)}return zt(b.firebaseDependencies,R)}return zt(b.firebaseDependencies,R)})).apply(this,arguments)}function Cc(b){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.Z)(function*(b){const T=yield mn(b.firebaseDependencies);T&&(yield au(b.firebaseDependencies,T.token),yield _n(b.firebaseDependencies));const R=yield b.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function mt(b,T){return ui.apply(this,arguments)}function ui(){return(ui=(0,O.Z)(function*(b,T){try{const R=yield Qa(b.firebaseDependencies,T),L=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield rr(b.firebaseDependencies,L),R}catch(R){throw yield Cc(b),R}})).apply(this,arguments)}function zt(b,T){return ns.apply(this,arguments)}function ns(){return(ns=(0,O.Z)(function*(b,T){const L={token:yield Pi(b,T),createTime:Date.now(),subscriptionOptions:T};return yield rr(b,L),L.token})).apply(this,arguments)}function Rs(b,T){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,O.Z)(function*(b,T){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xo(T)})})).apply(this,arguments)}function ra(b,T){return T.vapidKey===b.vapidKey&&T.endpoint===b.endpoint&&T.auth===b.auth&&T.p256dh===b.p256dh}function rs(b){const T={from:b.from,collapseKey:b.collapse_key,messageId:b.fcm_message_id};return function(b,T){if(!T.notification)return;b.notification={};const R=T.notification.title;R&&(b.notification.title=R);const L=T.notification.body;L&&(b.notification.body=L);const q=T.notification.image;q&&(b.notification.image=q)}(T,b),function(b,T){!T.data||(b.data=T.data)}(T,b),function(b,T){if(!T.fcmOptions)return;b.fcmOptions={};const R=T.fcmOptions.link;R&&(b.fcmOptions.link=R);const L=T.fcmOptions.analytics_label;L&&(b.fcmOptions.analyticsLabel=L)}(T,b),T}function no(b){return"object"==typeof b&&!!b&&Xi in b}function On(b,T){const R=[];for(let L=0;L<b.length;L++)R.push(b.charAt(L)),L<T.length&&R.push(T.charAt(L));return R.join("")}function tl(b){return Lt.create("missing-app-config-values",{valueName:b})}On("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),On("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zr{constructor(T,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function(b){if(!b||!b.options)throw tl("App Configuration Object");if(!b.name)throw tl("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=b;for(const L of T)if(!R[L])throw tl(L);return{appName:b.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:q,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function qr(b){return nl.apply(this,arguments)}function nl(){return(nl=(0,O.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(_c,{scope:$f}),b.swRegistration.update().catch(()=>{})}catch(T){throw Lt.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function Ms(b,T){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,O.Z)(function*(b,T){if(!T&&!b.swRegistration&&(yield qr(b)),T||!b.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Lt.create("invalid-sw-registration");b.swRegistration=T}})).apply(this,arguments)}function rl(b,T){return ro.apply(this,arguments)}function ro(){return(ro=(0,O.Z)(function*(b,T){T?b.vapidKey=T:b.vapidKey||(b.vapidKey=li)})).apply(this,arguments)}function il(){return(il=(0,O.Z)(function*(b,T){if(!navigator)throw Lt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Lt.create("permission-blocked");return yield rl(b,null==T?void 0:T.vapidKey),yield Ms(b,null==T?void 0:T.serviceWorkerRegistration),cu(b)})).apply(this,arguments)}function sa(b,T,R){return du.apply(this,arguments)}function du(){return(du=(0,O.Z)(function*(b,T,R){const L=so(T);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[Xi],message_name:R[Xs],message_time:R[es],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function so(b){switch(b){case $n.NOTIFICATION_CLICKED:return"notification_open";case $n.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ao(){return(ao=(0,O.Z)(function*(b,T){const R=T.data;if(!R.isFirebaseMessaging)return;b.onMessageHandler&&R.messageType===$n.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(rs(R)):b.onMessageHandler.next(rs(R)));const L=R.data;no(L)&&"1"===L[iu]&&(yield sa(b,R.messageType,L))})).apply(this,arguments)}const hu="@firebase/messaging";function fu(){return wn.apply(this,arguments)}function wn(){return(wn=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,ne.hl)()&&(yield(0,ne.eu)())&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ue._registerComponent)(new Y.wA("messaging",b=>{const T=new Zr(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function(b,T){return ao.apply(this,arguments)}(T,R)),T},"PUBLIC")),(0,ue._registerComponent)(new Y.wA("messaging-internal",b=>{const T=b.getProvider("messaging").getImmediate();return{getToken:L=>function(b,T){return il.apply(this,arguments)}(T,L)}},"PRIVATE")),(0,ue.registerVersion)(hu,"0.9.4"),(0,ue.registerVersion)(hu,"0.9.4","esm2017");const Ni="analytics",sl="firebase_id",mu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gd="https://www.googletagmanager.com/gtag/js",Zt=new fe.Yd("@firebase/analytics");function co(b){return Promise.all(b.map(T=>T.catch(R=>R)))}function zd(b,T){const R=document.createElement("script");R.src=`${Gd}?l=${b}&id=${T}`,R.async=!0,document.head.appendChild(R)}function ho(b,T,R,L,q,ae){return la.apply(this,arguments)}function la(){return(la=(0,O.Z)(function*(b,T,R,L,q,ae){const Ee=L[q];try{if(Ee)yield T[Ee];else{const Pe=(yield co(R)).find(ut=>ut.measurementId===q);Pe&&(yield T[Pe.appId])}}catch(Me){Zt.error(Me)}b("config",q,ae)})).apply(this,arguments)}function ua(b,T,R,L,q){return _u.apply(this,arguments)}function _u(){return(_u=(0,O.Z)(function*(b,T,R,L,q){try{let ae=[];if(q&&q.send_to){let Ee=q.send_to;Array.isArray(Ee)||(Ee=[Ee]);const Me=yield co(R);for(const Pe of Ee){const ut=Me.find(vn=>vn.measurementId===Pe),Ot=ut&&T[ut.appId];if(!Ot){ae=[];break}ae.push(Ot)}}0===ae.length&&(ae=Object.values(T)),yield Promise.all(ae),b("event",L,q||{})}catch(ae){Zt.error(ae)}})).apply(this,arguments)}function ol(){const b=window.document.getElementsByTagName("script");for(const T of Object.values(b))if(T.src&&T.src.includes(Gd))return T;return null}const kn=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ca=new class{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Kf(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function ll(b){return ul.apply(this,arguments)}function ul(){return(ul=(0,O.Z)(function*(b){var T;const{appId:R,apiKey:L}=b,q={method:"GET",headers:Kf(L)},ae=mu.replace("{app-id}",R),Ee=yield fetch(ae,q);if(200!==Ee.status&&304!==Ee.status){let Me="";try{const Pe=yield Ee.json();(null===(T=Pe.error)||void 0===T?void 0:T.message)&&(Me=Pe.error.message)}catch(Pe){}throw kn.create("config-fetch-failed",{httpStatus:Ee.status,responseMessage:Me})}return Ee.json()})).apply(this,arguments)}function da(b){return xs.apply(this,arguments)}function xs(){return(xs=(0,O.Z)(function*(b,T=ca,R){const{appId:L,apiKey:q,measurementId:ae}=b.options;if(!L)throw kn.create("no-app-id");if(!q){if(ae)return{measurementId:ae,appId:L};throw kn.create("no-api-key")}const Ee=T.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Me=new qn;return setTimeout((0,O.Z)(function*(){Me.abort()}),void 0!==R?R:6e4),cl({appId:L,apiKey:q,measurementId:ae},Ee,Me,T)})).apply(this,arguments)}function cl(b,T,R){return dl.apply(this,arguments)}function dl(){return(dl=(0,O.Z)(function*(b,{throttleEndTimeMillis:T,backoffCount:R},L,q=ca){const{appId:ae,measurementId:Ee}=b;try{yield Yf(L,T)}catch(Me){if(Ee)return Zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ee} provided in the "measurementId" field in the local Firebase config. [${Me.message}]`),{appId:ae,measurementId:Ee};throw Me}try{const Me=yield ll(b);return q.deleteThrottleMetadata(ae),Me}catch(Me){if(!ha(Me)){if(q.deleteThrottleMetadata(ae),Ee)return Zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ee} provided in the "measurementId" field in the local Firebase config. [${Me.message}]`),{appId:ae,measurementId:Ee};throw Me}const Pe=503===Number(Me.customData.httpStatus)?(0,ne.$s)(R,q.intervalMillis,30):(0,ne.$s)(R,q.intervalMillis),ut={throttleEndTimeMillis:Date.now()+Pe,backoffCount:R+1};return q.setThrottleMetadata(ae,ut),Zt.debug(`Calling attemptFetch again in ${Pe} millis`),cl(b,ut,L,q)}})).apply(this,arguments)}function Yf(b,T){return new Promise((R,L)=>{const q=Math.max(T-Date.now(),0),ae=setTimeout(R,q);b.addEventListener(()=>{clearTimeout(ae),L(kn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function ha(b){if(!(b instanceof ne.ZR&&b.customData))return!1;const T=Number(b.customData.httpStatus);return 429===T||500===T||503===T||504===T}class qn{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function fa(){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,O.Z)(function*(){if(!(0,ne.hl)())return Zt.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(b){return Zt.warn(kn.create("indexeddb-unavailable",{errorInfo:b}).message),!1}return!0})).apply(this,arguments)}function Kr(){return(Kr=(0,O.Z)(function*(b,T,R,L,q,ae,Ee){var Me;const Pe=da(b);Pe.then(gt=>{R[gt.measurementId]=gt.appId,b.options.measurementId&&gt.measurementId!==b.options.measurementId&&Zt.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${gt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(gt=>Zt.error(gt)),T.push(Pe);const ut=fa().then(gt=>{if(gt)return L.getId()}),[Ot,vn]=yield Promise.all([Pe,ut]);ol()||zd(ae,Ot.measurementId),q("js",new Date);const Ln=null!==(Me=null==Ee?void 0:Ee.config)&&void 0!==Me?Me:{};return Ln.origin="firebase",Ln.update=!0,null!=vn&&(Ln[sl]=vn),q("config",Ot.measurementId,Ln),Ot.measurementId})).apply(this,arguments)}class et{constructor(T){this.app=T}_delete(){return delete ci[this.app.options.appId],Promise.resolve()}}let ci={},In=[];const ss={};let Zd,Xt,yn="dataLayer",di=!1;function Ac(b,T,R){!function(){const b=[];if((0,ne.ru)()&&b.push("This is a browser extension environment."),(0,ne.zI)()||b.push("Cookies are not available."),b.length>0){const T=b.map((L,q)=>`(${q+1}) ${L}`).join(" "),R=kn.create("invalid-analytics-context",{errorInfo:T});Zt.warn(R.message)}}();const L=b.options.appId;if(!L)throw kn.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw kn.create("no-api-key");Zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ci[L])throw kn.create("already-exists",{id:L});if(!di){!function(b){let T=[];Array.isArray(window[b])?T=window[b]:window[b]=T}(yn);const{wrappedGtag:ae,gtagCore:Ee}=function(b,T,R,L,q){let ae=function(...Ee){window[L].push(arguments)};return window[q]&&"function"==typeof window[q]&&(ae=window[q]),window[q]=function(b,T,R,L){function ae(){return(ae=(0,O.Z)(function*(Ee,Me,Pe){try{"event"===Ee?yield ua(b,T,R,Me,Pe):"config"===Ee?yield ho(b,T,R,L,Me,Pe):b("set",Me)}catch(ut){Zt.error(ut)}})).apply(this,arguments)}return function(Ee,Me,Pe){return ae.apply(this,arguments)}}(ae,b,T,R),{gtagCore:ae,wrappedGtag:window[q]}}(ci,In,ss,yn,"gtag");Xt=ae,Zd=Ee,di=!0}return ci[L]=function(b,T,R,L,q,ae,Ee){return Kr.apply(this,arguments)}(b,In,ss,T,Zd,yn,R),new et(b)}function hl(){return(hl=(0,O.Z)(function*(b,T,R,L,q){if(q&&q.global)b("event",R,L);else{const ae=yield T;b("event",R,Object.assign(Object.assign({},L),{send_to:ae}))}})).apply(this,arguments)}function Kn(){return qd.apply(this,arguments)}function qd(){return(qd=(0,O.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(b){return!1}})).apply(this,arguments)}const _a="@firebase/analytics";(0,ue._registerComponent)(new Y.wA(Ni,(T,{options:R})=>Ac(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ue._registerComponent)(new Y.wA("analytics-internal",function(T){try{const R=T.getProvider(Ni).getImmediate();return{logEvent:(L,q,ae)=>function(b,T,R,L){b=(0,ne.m9)(b),function(b,T,R,L,q){return hl.apply(this,arguments)}(Xt,ci[b.app.options.appId],T,R,L).catch(q=>Zt.error(q))}(R,L,q,ae)}}catch(R){throw kn.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ue.registerVersion)(_a,"0.7.4"),(0,ue.registerVersion)(_a,"0.7.4","esm2017");var Yd=x(7575),hi=x(8178),Xf=x(5722),Dn=x(2698),pl=x(9254);const hr=new p.GfV("7.2.0"),Oi="__angularfire_symbol__analyticsIsSupported",fr="__angularfire_symbol__remoteConfigIsSupported",Pn="__angularfire_symbol__messagingIsSupported";function Pc(b,T,R){if(T){if(1===T.length)return T[0];const ae=T.filter(Ee=>Ee.app===R);if(1===ae.length)return ae[0]}return R.container.getProvider(b).getImmediate({optional:!0})}globalThis[Oi]||(globalThis[Oi]=Kn().then(b=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=b)),globalThis[Pn]||(globalThis[Pn]=fu().then(b=>globalThis.__angularfire_symbol__messagingIsSupportedValue=b)),globalThis[fr]||(globalThis[fr]=Jo().then(b=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=b));const Fi=(b,T)=>{const R=T?[T]:(0,X.C6)(),L=[];return R.forEach(q=>{q.container.getProvider(b).instances.forEach(Ee=>{L.includes(Ee)||L.push(Ee)})}),L};function gn(){}class ir{constructor(T,R=Yd.N){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,L){const q=this.zone;return this.delegate.schedule(function(Ee){q.runGuarded(()=>{T.apply(this,[Ee])})},R,L)}}class _o{constructor(T){this.zone=T,this.task=null}call(T,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gn,{},gn,gn)),R.pipe((0,Xf.b)({next:L,complete:L,error:L})).subscribe(T).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Os=(()=>{class b{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new ir(Zone.current)),this.insideAngular=R.run(()=>new ir(Zone.current,hi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(R){return new(R||b)(p.LFG(p.R0b))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function sr(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function yo(b){return sr(),function(b){return function(R){return(R=R.lift(new _o(b.ngZone))).pipe((0,Dn.R)(b.outsideAngular),(0,pl.QV)(b.insideAngular))}}(sr())(b)}},4213:(xe,me,x)=>{"use strict";x.d(me,{BH:()=>oe,LL:()=>Ve,ZR:()=>bt,gQ:()=>be,zI:()=>Qe,hu:()=>X,g5:()=>O,US:()=>Y,tV:()=>J,h$:()=>fe,$s:()=>kt,r3:()=>Qt,Sg:()=>ce,ne:()=>xn,p$:()=>k,vZ:()=>wt,ZB:()=>U,gK:()=>je,pd:()=>si,m9:()=>Jl,z$:()=>ye,GJ:()=>ii,jU:()=>te,ru:()=>de,xb:()=>un,w1:()=>Ue,hl:()=>ln,uI:()=>pe,UG:()=>he,Yr:()=>Ct,b$:()=>ge,w9:()=>Ki,cI:()=>Ti,UI:()=>An,xO:()=>Ys,zd:()=>Vr,DV:()=>Ks,ug:()=>Rt,dS:()=>Xn,Pz:()=>Wo,Dv:()=>Jn,Wj:()=>ft,lb:()=>pt,eu:()=>at});const X=function(G,B){if(!G)throw O(B)},O=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},ue=function(G){const B=[];let z=0;for(let ve=0;ve<G.length;ve++){let re=G.charCodeAt(ve);re<128?B[z++]=re:re<2048?(B[z++]=re>>6|192,B[z++]=63&re|128):55296==(64512&re)&&ve+1<G.length&&56320==(64512&G.charCodeAt(ve+1))?(re=65536+((1023&re)<<10)+(1023&G.charCodeAt(++ve)),B[z++]=re>>18|240,B[z++]=re>>12&63|128,B[z++]=re>>6&63|128,B[z++]=63&re|128):(B[z++]=re>>12|224,B[z++]=re>>6&63|128,B[z++]=63&re|128)}return B},Y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,B){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let re=0;re<G.length;re+=3){const Ne=G[re],We=re+1<G.length,Ft=We?G[re+1]:0,Bn=re+2<G.length,dn=Bn?G[re+2]:0;let jn=(15&Ft)<<2|dn>>6,Cs=63&dn;Bn||(Cs=64,We||(jn=64)),ve.push(z[Ne>>2],z[(3&Ne)<<4|Ft>>4],z[jn],z[Cs])}return ve.join("")},encodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(G):this.encodeByteArray(ue(G),B)},decodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(G):function(G){const B=[];let z=0,ve=0;for(;z<G.length;){const re=G[z++];if(re<128)B[ve++]=String.fromCharCode(re);else if(re>191&&re<224){const Ne=G[z++];B[ve++]=String.fromCharCode((31&re)<<6|63&Ne)}else if(re>239&&re<365){const Bn=((7&re)<<18|(63&G[z++])<<12|(63&G[z++])<<6|63&G[z++])-65536;B[ve++]=String.fromCharCode(55296+(Bn>>10)),B[ve++]=String.fromCharCode(56320+(1023&Bn))}else{const Ne=G[z++],We=G[z++];B[ve++]=String.fromCharCode((15&re)<<12|(63&Ne)<<6|63&We)}}return B.join("")}(this.decodeStringToByteArray(G,B))},decodeStringToByteArray(G,B){this.init_();const z=B?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let re=0;re<G.length;){const Ne=z[G.charAt(re++)],Ft=re<G.length?z[G.charAt(re)]:0;++re;const dn=re<G.length?z[G.charAt(re)]:64;++re;const yt=re<G.length?z[G.charAt(re)]:64;if(++re,null==Ne||null==Ft||null==dn||null==yt)throw Error();ve.push(Ne<<2|Ft>>4),64!==dn&&(ve.push(Ft<<4&240|dn>>2),64!==yt&&ve.push(dn<<6&192|yt))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},fe=function(G){const B=ue(G);return Y.encodeByteArray(B,!0)},K=function(G){return fe(G).replace(/\./g,"")},J=function(G){try{return Y.decodeString(G,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function k(G){return U(void 0,G)}function U(G,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return B}for(const z in B)!B.hasOwnProperty(z)||!H(z)||(G[z]=U(G[z],B[z]));return G}function H(G){return"__proto__"!==G}class oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,z)=>{this.resolve=B,this.reject=z})}wrapCallback(B){return(z,ve)=>{z?this.reject(z):this.resolve(ve),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(z):B(z,ve))}}}function ce(G,B){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=B||"demo-project",re=G.iat||0,Ne=G.sub||G.user_id;if(!Ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:re,exp:re+3600,auth_time:re,sub:Ne,user_id:Ne,firebase:{sign_in_provider:"custom",identities:{}}},G);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(We)),""].join(".")}function ye(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ye())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function te(){return"object"==typeof self&&self.self===self}function de(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){const G=ye();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ct(){return!1}function ln(){return"object"==typeof indexedDB}function at(){return new Promise((G,B)=>{try{let z=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(ve);re.onsuccess=()=>{re.result.close(),z||self.indexedDB.deleteDatabase(ve),G(!0)},re.onupgradeneeded=()=>{z=!1},re.onerror=()=>{var Ne;B((null===(Ne=re.error)||void 0===Ne?void 0:Ne.message)||"")}}catch(z){B(z)}})}function Qe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class bt extends Error{constructor(B,z,ve){super(z),this.code=B,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor(B,z,ve){this.service=B,this.serviceName=z,this.errors=ve}create(B,...z){const ve=z[0]||{},re=`${this.service}/${B}`,Ne=this.errors[B],We=Ne?function(G,B){return G.replace(qi,(z,ve)=>{const re=B[ve];return null!=re?String(re):`<${ve}?>`})}(Ne,ve):"Error";return new bt(re,`${this.serviceName}: ${We} (${re}).`,ve)}}const qi=/\{\$([^}]+)}/g;function Ti(G){return JSON.parse(G)}function Wo(G){return JSON.stringify(G)}const Dt=function(G){let B={},z={},ve={},re="";try{const Ne=G.split(".");B=Ti(J(Ne[0])||""),z=Ti(J(Ne[1])||""),re=Ne[2],ve=z.d||{},delete z.d}catch(Ne){}return{header:B,claims:z,data:ve,signature:re}},Ki=function(G){const z=Dt(G).claims;return!!z&&"object"==typeof z&&z.hasOwnProperty("iat")},ii=function(G){const B=Dt(G).claims;return"object"==typeof B&&!0===B.admin};function Qt(G,B){return Object.prototype.hasOwnProperty.call(G,B)}function Ks(G,B){if(Object.prototype.hasOwnProperty.call(G,B))return G[B]}function un(G){for(const B in G)if(Object.prototype.hasOwnProperty.call(G,B))return!1;return!0}function An(G,B,z){const ve={};for(const re in G)Object.prototype.hasOwnProperty.call(G,re)&&(ve[re]=B.call(z,G[re],re,G));return ve}function wt(G,B){if(G===B)return!0;const z=Object.keys(G),ve=Object.keys(B);for(const re of z){if(!ve.includes(re))return!1;const Ne=G[re],We=B[re];if(cn(Ne)&&cn(We)){if(!wt(Ne,We))return!1}else if(Ne!==We)return!1}for(const re of ve)if(!z.includes(re))return!1;return!0}function cn(G){return null!==G&&"object"==typeof G}function Ys(G){const B=[];for(const[z,ve]of Object.entries(G))Array.isArray(ve)?ve.forEach(re=>{B.push(encodeURIComponent(z)+"="+encodeURIComponent(re))}):B.push(encodeURIComponent(z)+"="+encodeURIComponent(ve));return B.length?"&"+B.join("&"):""}function Vr(G){const B={};return G.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[re,Ne]=ve.split("=");B[decodeURIComponent(re)]=decodeURIComponent(Ne)}}),B}function si(G){const B=G.indexOf("?");if(!B)return"";const z=G.indexOf("#",B);return G.substring(B,z>0?z:void 0)}class be{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,z){z||(z=0);const ve=this.W_;if("string"==typeof B)for(let yt=0;yt<16;yt++)ve[yt]=B.charCodeAt(z)<<24|B.charCodeAt(z+1)<<16|B.charCodeAt(z+2)<<8|B.charCodeAt(z+3),z+=4;else for(let yt=0;yt<16;yt++)ve[yt]=B[z]<<24|B[z+1]<<16|B[z+2]<<8|B[z+3],z+=4;for(let yt=16;yt<80;yt++){const jn=ve[yt-3]^ve[yt-8]^ve[yt-14]^ve[yt-16];ve[yt]=4294967295&(jn<<1|jn>>>31)}let dn,tr,re=this.chain_[0],Ne=this.chain_[1],We=this.chain_[2],Ft=this.chain_[3],Bn=this.chain_[4];for(let yt=0;yt<80;yt++){yt<40?yt<20?(dn=Ft^Ne&(We^Ft),tr=1518500249):(dn=Ne^We^Ft,tr=1859775393):yt<60?(dn=Ne&We|Ft&(Ne|We),tr=2400959708):(dn=Ne^We^Ft,tr=3395469782);const jn=(re<<5|re>>>27)+dn+Bn+tr+ve[yt]&4294967295;Bn=Ft,Ft=We,We=4294967295&(Ne<<30|Ne>>>2),Ne=re,re=jn}this.chain_[0]=this.chain_[0]+re&4294967295,this.chain_[1]=this.chain_[1]+Ne&4294967295,this.chain_[2]=this.chain_[2]+We&4294967295,this.chain_[3]=this.chain_[3]+Ft&4294967295,this.chain_[4]=this.chain_[4]+Bn&4294967295}update(B,z){if(null==B)return;void 0===z&&(z=B.length);const ve=z-this.blockSize;let re=0;const Ne=this.buf_;let We=this.inbuf_;for(;re<z;){if(0===We)for(;re<=ve;)this.compress_(B,re),re+=this.blockSize;if("string"==typeof B){for(;re<z;)if(Ne[We]=B.charCodeAt(re),++We,++re,We===this.blockSize){this.compress_(Ne),We=0;break}}else for(;re<z;)if(Ne[We]=B[re],++We,++re,We===this.blockSize){this.compress_(Ne),We=0;break}}this.inbuf_=We,this.total_+=z}digest(){const B=[];let z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let re=this.blockSize-1;re>=56;re--)this.buf_[re]=255&z,z/=256;this.compress_(this.buf_);let ve=0;for(let re=0;re<5;re++)for(let Ne=24;Ne>=0;Ne-=8)B[ve]=this.chain_[re]>>Ne&255,++ve;return B}}function xn(G,B){const z=new Cn(G,B);return z.subscribe.bind(z)}class Cn{constructor(B,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{B(this)}).catch(ve=>{this.error(ve)})}next(B){this.forEachObserver(z=>{z.next(B)})}error(B){this.forEachObserver(z=>{z.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,z,ve){let re;if(void 0===B&&void 0===z&&void 0===ve)throw new Error("Missing Observer.");re=function(G,B){if("object"!=typeof G||null===G)return!1;for(const z of["next","error","complete"])if(z in G&&"function"==typeof G[z])return!0;return!1}(B)?B:{next:B,error:z,complete:ve},void 0===re.next&&(re.next=Ur),void 0===re.error&&(re.error=Ur),void 0===re.complete&&(re.complete=Ur);const Ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch(We){}}),this.observers.push(re),Ne}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,B)}sendOne(B,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{z(this.observers[B])}catch(ve){"undefined"!=typeof console&&console.error&&console.error(ve)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ur(){}const Jn=function(G,B,z,ve){let re;if(ve<B?re="at least "+B:ve>z&&(re=0===z?"none":"no more than "+z),re)throw new Error(G+" failed: Was called with "+ve+(1===ve?" argument.":" arguments.")+" Expects "+re+".")};function je(G,B){return`${G} failed: ${B} argument `}function ft(G,B,z,ve){if((!ve||z)&&"function"!=typeof z)throw new Error(je(G,B)+"must be a valid function.")}function pt(G,B,z,ve){if((!ve||z)&&("object"!=typeof z||null===z))throw new Error(je(G,B)+"must be a valid context object.")}const Xn=function(G){const B=[];let z=0;for(let ve=0;ve<G.length;ve++){let re=G.charCodeAt(ve);if(re>=55296&&re<=56319){const Ne=re-55296;ve++,X(ve<G.length,"Surrogate pair missing trail surrogate."),re=65536+(Ne<<10)+(G.charCodeAt(ve)-56320)}re<128?B[z++]=re:re<2048?(B[z++]=re>>6|192,B[z++]=63&re|128):re<65536?(B[z++]=re>>12|224,B[z++]=re>>6&63|128,B[z++]=63&re|128):(B[z++]=re>>18|240,B[z++]=re>>12&63|128,B[z++]=re>>6&63|128,B[z++]=63&re|128)}return B},Rt=function(G){let B=0;for(let z=0;z<G.length;z++){const ve=G.charCodeAt(z);ve<128?B++:ve<2048?B+=2:ve>=55296&&ve<=56319?(B+=4,z++):B+=3}return B};function kt(G,B=1e3,z=2){const ve=B*Math.pow(z,G),re=Math.round(.5*ve*(Math.random()-.5)*2);return Math.min(144e5,ve+re)}function Jl(G){return G&&G._delegate?G._delegate:G}},7713:(xe,me,x)=>{"use strict";x.d(me,{Mq:()=>p.getApp,C6:()=>p.getApps});var p=x(1572);(0,p.registerVersion)("firebase","9.5.0","app")},7892:(xe,me,x)=>{"use strict";x.d(me,{Z:()=>p.Z});var p=x(6293);p.Z.registerVersion("firebase","9.5.0","app-compat")},9777:(xe,me,x)=>{"use strict";x.r(me);var p=x(8239),X=x(6293),O=x(4213),ue=x(1572);function K(_,d){var f={};for(var v in _)Object.prototype.hasOwnProperty.call(_,v)&&d.indexOf(v)<0&&(f[v]=_[v]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(v=Object.getOwnPropertySymbols(_);D<v.length;D++)d.indexOf(v[D])<0&&Object.prototype.propertyIsEnumerable.call(_,v[D])&&(f[v[D]]=_[v[D]])}return f}var bt=x(3855),Ve=x(1177);const Ki=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ii=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qt=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),un=new bt.Yd("@firebase/auth");function An(_,...d){un.logLevel<=bt.in.ERROR&&un.error(`Auth (${ue.SDK_VERSION}): ${_}`,...d)}function wt(_,...d){throw si(_,...d)}function cn(_,...d){return si(_,...d)}function Ys(_,d,f){const v=Object.assign(Object.assign({},ii()),{[d]:f});return new O.LL("auth","Firebase",v).create(d,{appName:_.name})}function Vr(_,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&wt(_,"argument-error"),Ys(_,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function si(_,...d){if("string"!=typeof _){const f=d[0],v=[...d.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(f,...v)}return Qt.create(_,...d)}function be(_,d,...f){if(!_)throw si(d,...f)}function xn(_){const d="INTERNAL ASSERTION FAILED: "+_;throw An(d),new Error(d)}function Cn(_,d){_||xn(d)}const ke=new Map;function At(_){Cn(_ instanceof Function,"Expected a class definition");let d=ke.get(_);return d?(Cn(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,ke.set(_,d),d)}function je(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Ge(){return"http:"===ft()||"https:"===ft()}function ft(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Rt{constructor(d,f){this.shortDelay=d,this.longDelay=f,Cn(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ge()||(0,O.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Re(_,d){Cn(_.emulator,"Emulator should always be set here");const{url:f}=_.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class Be{static initialize(d,f,v){this.fetchImpl=d,f&&(this.headersImpl=f),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ql={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Yi=new Rt(3e4,6e4);function kt(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function Xe(_,d,f,v){return er.apply(this,arguments)}function er(){return(er=(0,p.Z)(function*(_,d,f,v,D={}){return Jl(_,D,()=>{let S={},$={};v&&("GET"===d?$=v:S={body:JSON.stringify(v)});const ie=(0,O.xO)(Object.assign({key:_.config.apiKey},$)).slice(1),Ae=new(Be.headers());return Ae.set("Content-Type","application/json"),Ae.set("X-Client-Version",_._getSdkClientVersion()),_.languageCode&&Ae.set("X-Firebase-Locale",_.languageCode),Be.fetch()(ve(_,_.config.apiHost,f,ie),Object.assign({method:d,headers:Ae,referrerPolicy:"no-referrer"},S))})})).apply(this,arguments)}function Jl(_,d,f){return G.apply(this,arguments)}function G(){return(G=(0,p.Z)(function*(_,d,f){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},Ql),d);try{const D=new re(_),S=yield Promise.race([f(),D.promise]);D.clearNetworkTimeout();const $=yield S.json();if("needConfirmation"in $)throw Ne(_,"account-exists-with-different-credential",$);if(S.ok&&!("errorMessage"in $))return $;{const ie=S.ok?$.errorMessage:$.error.message,[Ae,De]=ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw Ne(_,"credential-already-in-use",$);if("EMAIL_EXISTS"===Ae)throw Ne(_,"email-already-in-use",$);const Fe=v[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(De)throw Ys(_,Fe,De);wt(_,Fe)}}catch(D){if(D instanceof O.ZR)throw D;wt(_,"network-request-failed")}})).apply(this,arguments)}function B(_,d,f,v){return z.apply(this,arguments)}function z(){return(z=(0,p.Z)(function*(_,d,f,v,D={}){const S=yield Xe(_,d,f,v,D);return"mfaPendingCredential"in S&&wt(_,"multi-factor-auth-required",{_serverResponse:S}),S})).apply(this,arguments)}function ve(_,d,f,v){const D=`${d}${f}?${v}`;return _.config.emulator?Re(_.config,D):`${_.config.apiScheme}://${D}`}class re{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,v)=>{this.timer=setTimeout(()=>v(cn(this.auth,"timeout")),Yi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ne(_,d,f){const v={appName:_.name};f.email&&(v.email=f.email),f.phoneNumber&&(v.phoneNumber=f.phoneNumber);const D=cn(_,d,v);return D.customData._tokenResponse=f,D}function Ft(){return(Ft=(0,p.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Bn(_,d){return dn.apply(this,arguments)}function dn(){return(dn=(0,p.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function tr(_,d){return yt.apply(this,arguments)}function yt(){return(yt=(0,p.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function jn(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function zo(){return(zo=(0,p.Z)(function*(_,d=!1){const f=(0,O.m9)(_),v=yield f.getIdToken(d),D=bs(v);be(D&&D.exp&&D.auth_time&&D.iat,f.auth,"internal-error");const S="object"==typeof D.firebase?D.firebase:void 0,$=null==S?void 0:S.sign_in_provider;return{claims:D,token:v,authTime:jn($a(D.auth_time)),issuedAtTime:jn($a(D.iat)),expirationTime:jn($a(D.exp)),signInProvider:$||null,signInSecondFactor:(null==S?void 0:S.sign_in_second_factor)||null}})).apply(this,arguments)}function $a(_){return 1e3*Number(_)}function bs(_){const[d,f,v]=_.split(".");if(void 0===d||void 0===f||void 0===v)return An("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,O.tV)(f);return D?JSON.parse(D):(An("Failed to decode base64 JWT payload"),null)}catch(D){return An("Caught error parsing JWT payload as JSON",D),null}}function Gt(_,d){return Br.apply(this,arguments)}function Br(){return(Br=(0,p.Z)(function*(_,d,f=!1){if(f)return d;try{return yield d}catch(v){throw v instanceof O.ZR&&br(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}function br({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Hn{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const D=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const v=this.getInterval(d);this.timerId=setTimeout((0,p.Z)(function*(){yield f.iteration()}),v)}iteration(){var d=this;return(0,p.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&d.schedule(!0))}d.schedule()})()}}class wr{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=jn(this.lastLoginAt),this.creationTime=jn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Se(_){return ot.apply(this,arguments)}function ot(){return(ot=(0,p.Z)(function*(_){var d;const f=_.auth,v=yield _.getIdToken(),D=yield Gt(_,tr(f,{idToken:v}));be(null==D?void 0:D.users.length,f,"internal-error");const S=D.users[0];_._notifyReloadListener(S);const $=(null===(d=S.providerUserInfo)||void 0===d?void 0:d.length)?bn(S.providerUserInfo):[],ie=jr(_.providerData,$),Fe=!!_.isAnonymous&&!(_.email&&S.passwordHash||(null==ie?void 0:ie.length)),Le={uid:S.localId,displayName:S.displayName||null,photoURL:S.photoUrl||null,email:S.email||null,emailVerified:S.emailVerified||!1,phoneNumber:S.phoneNumber||null,tenantId:S.tenantId||null,providerData:ie,metadata:new wr(S.createdAt,S.lastLoginAt),isAnonymous:Fe};Object.assign(_,Le)})).apply(this,arguments)}function Zn(){return(Zn=(0,p.Z)(function*(_){const d=(0,O.m9)(_);yield Se(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function jr(_,d){return[..._.filter(v=>!d.some(D=>D.providerId===v.providerId)),...d]}function bn(_){return _.map(d=>{var{providerId:f}=d,v=K(d,["providerId"]);return{providerId:f,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function on(){return(on=(0,p.Z)(function*(_,d){const f=yield Jl(_,{},()=>{const v=(0,O.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:D,apiKey:S}=_.config,$=ve(_,D,"/v1/token",`key=${S}`);return Be.fetch()($,{method:"POST",headers:{"X-Client-Version":_._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:v})});return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Hr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){be(d.idToken,"internal-error"),be(void 0!==d.idToken,"internal-error"),be(void 0!==d.refreshToken,"internal-error");const f="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function(_){const d=bs(_);return be(d,"internal-error"),be(void 0!==d.exp,"internal-error"),be(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var v=this;return(0,p.Z)(function*(){return be(!v.accessToken||v.refreshToken,d,"user-token-expired"),f||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(d,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var v=this;return(0,p.Z)(function*(){const{accessToken:D,refreshToken:S,expiresIn:$}=yield function(_,d){return on.apply(this,arguments)}(d,f);v.updateTokensAndExpiration(D,S,Number($))})()}updateTokensAndExpiration(d,f,v){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(d,f){const{refreshToken:v,accessToken:D,expirationTime:S}=f,$=new Hr;return v&&(be("string"==typeof v,"internal-error",{appName:d}),$.refreshToken=v),D&&(be("string"==typeof D,"internal-error",{appName:d}),$.accessToken=D),S&&(be("number"==typeof S,"internal-error",{appName:d}),$.expirationTime=S),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Hr,this.toJSON())}_performRefresh(){return xn("not implemented")}}function cr(_,d){be("string"==typeof _||void 0===_,"internal-error",{appName:d})}class Ze{constructor(d){var{uid:f,auth:v,stsTokenManager:D}=d,S=K(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=v,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=S.displayName||null,this.email=S.email||null,this.emailVerified=S.emailVerified||!1,this.phoneNumber=S.phoneNumber||null,this.photoURL=S.photoURL||null,this.isAnonymous=S.isAnonymous||!1,this.tenantId=S.tenantId||null,this.metadata=new wr(S.createdAt||void 0,S.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,p.Z)(function*(){const v=yield Gt(f,f.stsTokenManager.getToken(f.auth,d));return be(v,f.auth,"internal-error"),f.accessToken!==v&&(f.accessToken=v,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),v})()}getIdTokenResult(d){return function(_){return zo.apply(this,arguments)}(this,d)}reload(){return function(_){return Zn.apply(this,arguments)}(this)}_assign(d){this!==d&&(be(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new Ze(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var v=this;return(0,p.Z)(function*(){let D=!1;d.idToken&&d.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(d),D=!0),f&&(yield Se(v)),yield v.auth._persistUserIfCurrent(v),D&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var d=this;return(0,p.Z)(function*(){const f=yield d.getIdToken();return yield Gt(d,function(_,d){return Ft.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var v,D,S,$,ie,Ae,De,Fe;const Le=null!==(v=f.displayName)&&void 0!==v?v:void 0,vt=null!==(D=f.email)&&void 0!==D?D:void 0,Vt=null!==(S=f.phoneNumber)&&void 0!==S?S:void 0,Bi=null!==($=f.photoURL)&&void 0!==$?$:void 0,Ao=null!==(ie=f.tenantId)&&void 0!==ie?ie:void 0,Vu=null!==(Ae=f._redirectEventId)&&void 0!==Ae?Ae:void 0,Uu=null!==(De=f.createdAt)&&void 0!==De?De:void 0,Ma=null!==(Fe=f.lastLoginAt)&&void 0!==Fe?Fe:void 0,{uid:ds,emailVerified:Xr,isAnonymous:hs,providerData:Kc,stsTokenManager:_p}=f;be(ds&&_p,d,"internal-error");const So=Hr.fromJSON(this.name,_p);be("string"==typeof ds,d,"internal-error"),cr(Le,d.name),cr(vt,d.name),be("boolean"==typeof Xr,d,"internal-error"),be("boolean"==typeof hs,d,"internal-error"),cr(Vt,d.name),cr(Bi,d.name),cr(Ao,d.name),cr(Vu,d.name),cr(Uu,d.name),cr(Ma,d.name);const _h=new Ze({uid:ds,auth:d,email:vt,emailVerified:Xr,displayName:Le,isAnonymous:hs,photoURL:Bi,phoneNumber:Vt,tenantId:Ao,stsTokenManager:So,createdAt:Uu,lastLoginAt:Ma});return Kc&&Array.isArray(Kc)&&(_h.providerData=Kc.map(yp=>Object.assign({},yp))),Vu&&(_h._redirectEventId=Vu),_h}static _fromIdTokenResponse(d,f,v=!1){return(0,p.Z)(function*(){const D=new Hr;D.updateFromServerResponse(f);const S=new Ze({uid:f.localId,auth:d,stsTokenManager:D,isAnonymous:v});return yield Se(S),S})()}}const Ir=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(f,v){var D=this;return(0,p.Z)(function*(){D.storage[f]=v})()}_get(f){var v=this;return(0,p.Z)(function*(){const D=v.storage[f];return void 0===D?null:D})()}_remove(f){var v=this;return(0,p.Z)(function*(){delete v.storage[f]})()}_addListener(f,v){}_removeListener(f,v){}}return _.type="NONE",_})();function dr(_,d,f){return`firebase:${_}:${d}:${f}`}class Dr{constructor(d,f,v){this.persistence=d,this.auth=f,this.userKey=v;const{config:D,name:S}=this.auth;this.fullUserKey=dr(this.userKey,D.apiKey,S),this.fullPersistenceKey=dr("persistence",D.apiKey,S),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,p.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?Ze._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,p.Z)(function*(){if(f.persistence===d)return;const v=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,v?f.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,v="authUser"){return(0,p.Z)(function*(){if(!f.length)return new Dr(At(Ir),d,v);const D=(yield Promise.all(f.map(function(){var De=(0,p.Z)(function*(Fe){if(yield Fe._isAvailable())return Fe});return function(Fe){return De.apply(this,arguments)}}()))).filter(De=>De);let S=D[0]||At(Ir);const $=dr(v,d.config.apiKey,d.name);let ie=null;for(const De of f)try{const Fe=yield De._get($);if(Fe){const Le=Ze._fromJSON(d,Fe);De!==S&&(ie=Le),S=De;break}}catch(Fe){}const Ae=D.filter(De=>De._shouldAllowMigration);return S._shouldAllowMigration&&Ae.length?(S=Ae[0],ie&&(yield S._set($,ie.toJSON())),yield Promise.all(f.map(function(){var De=(0,p.Z)(function*(Fe){if(Fe!==S)try{yield Fe._remove($)}catch(Le){}});return function(Fe){return De.apply(this,arguments)}}())),new Dr(S,d,v)):new Dr(S,d,v)})()}}function Bt(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(jt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Zo(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Ko(d))return"Blackberry";if(Yo(d))return"Webos";if(Si(d))return"Safari";if((d.includes("chrome/")||Tr(d))&&!d.includes("edge/"))return"Chrome";if(qo(d))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function Zo(_=(0,O.z$)()){return/firefox\//i.test(_)}function Si(_=(0,O.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Tr(_=(0,O.z$)()){return/crios\//i.test(_)}function jt(_=(0,O.z$)()){return/iemobile/i.test(_)}function qo(_=(0,O.z$)()){return/android/i.test(_)}function Ko(_=(0,O.z$)()){return/blackberry/i.test(_)}function Yo(_=(0,O.z$)()){return/webos/i.test(_)}function Qi(_=(0,O.z$)()){return/iphone|ipad|ipod/i.test(_)}function pn(_=(0,O.z$)()){return Qi(_)||qo(_)||Yo(_)||Ko(_)||/windows phone/i.test(_)||jt(_)}function oi(_,d=[]){let f;switch(_){case"Browser":f=Bt((0,O.z$)());break;case"Worker":f=`${Bt((0,O.z$)())}-${_}`;break;default:f=_}const v=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${ue.SDK_VERSION}/${v}`}class ai{constructor(d,f){this.app=d,this.config=f,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ri(this),this.idTokenSubscription=new Ri(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=f.sdkClientVersion}_initializeWithPersistence(d,f){var v=this;return f&&(this._popupRedirectResolver=At(f)),this._initializationPromise=this.queue((0,p.Z)(function*(){var D,S;v._deleted||(v.persistenceManager=yield Dr.create(v,d),!v._deleted&&((null===(D=v._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)&&(yield v._popupRedirectResolver._initialize(v)),yield v.initializeCurrentUser(f),v.lastNotifiedUid=(null===(S=v.currentUser)||void 0===S?void 0:S.uid)||null,!v._deleted&&(v._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,p.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f)}})()}initializeCurrentUser(d){var f=this;return(0,p.Z)(function*(){var v;let D=yield f.assertedPersistence.getCurrentUser();if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const S=null===(v=f.redirectUser)||void 0===v?void 0:v._redirectEventId,$=null==D?void 0:D._redirectEventId,ie=yield f.tryRedirectSignIn(d);(!S||S===$)&&(null==ie?void 0:ie.user)&&(D=ie.user)}return D?D._redirectEventId?(be(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===D._redirectEventId?f.directlySetCurrentUser(D):f.reloadAndSetCurrentUserOrClear(D)):f.reloadAndSetCurrentUserOrClear(D):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(d){var f=this;return(0,p.Z)(function*(){let v=null;try{v=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch(D){yield f._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,p.Z)(function*(){try{yield Se(d)}catch(v){if("auth/network-request-failed"!==v.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,p.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,p.Z)(function*(){const v=d?(0,O.m9)(d):null;return v&&be(v.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(v&&v._clone(f))})()}_updateCurrentUser(d){var f=this;return(0,p.Z)(function*(){if(!f._deleted)return d&&be(f.tenantId===d.tenantId,f,"tenant-id-mismatch"),f.queue((0,p.Z)(function*(){yield f.directlySetCurrentUser(d),f.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,p.Z)(function*(){return(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null)})()}setPersistence(d){var f=this;return this.queue((0,p.Z)(function*(){yield f.assertedPersistence.setPersistence(At(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new O.LL("auth","Firebase",d())}onAuthStateChanged(d,f,v){return this.registerStateListener(this.authStateSubscription,d,f,v)}onIdTokenChanged(d,f,v){return this.registerStateListener(this.idTokenSubscription,d,f,v)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var v=this;return(0,p.Z)(function*(){const D=yield v.getOrInitRedirectPersistenceManager(f);return null===d?D.removeCurrentUser():D.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,p.Z)(function*(){if(!f.redirectPersistenceManager){const v=d&&At(d)||f._popupRedirectResolver;be(v,f,"argument-error"),f.redirectPersistenceManager=yield Dr.create(f,[At(v._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,p.Z)(function*(){var v,D;return f._isInitialized&&(yield f.queue((0,p.Z)(function*(){}))),(null===(v=f._currentUser)||void 0===v?void 0:v._redirectEventId)===d?f._currentUser:(null===(D=f.redirectUser)||void 0===D?void 0:D._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,p.Z)(function*(){if(d===f.currentUser)return f.queue((0,p.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,v,D){if(this._deleted)return()=>{};const S="function"==typeof f?f:f.next.bind(f),$=this._isInitialized?Promise.resolve():this._initializationPromise;return be($,this,"internal-error"),$.then(()=>S(this.currentUser)),"function"==typeof f?d.addObserver(f,v,D):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,p.Z)(function*(){f.currentUser&&f.currentUser!==d&&(f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh()),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=oi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Sn(_){return(0,O.m9)(_)}class Ri{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,O.ne)(f=>this.observer=f)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ar(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function Uf(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class Qs{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return xn("not implemented")}_getIdTokenResponse(d){return xn("not implemented")}_linkToIdToken(d,f){return xn("not implemented")}_getReauthenticationResolver(d){return xn("not implemented")}}function Bd(_,d){return pc.apply(this,arguments)}function pc(){return(pc=(0,p.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:resetPassword",kt(_,d))})).apply(this,arguments)}function jd(_,d){return gc.apply(this,arguments)}function gc(){return(gc=(0,p.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Bf(_,d){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,p.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:update",kt(_,d))})).apply(this,arguments)}function tu(){return(tu=(0,p.Z)(function*(_,d){return B(_,"POST","/v1/accounts:signInWithPassword",kt(_,d))})).apply(this,arguments)}function nu(_,d){return za.apply(this,arguments)}function za(){return(za=(0,p.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:sendOobCode",kt(_,d))})).apply(this,arguments)}function jf(_,d){return mc.apply(this,arguments)}function mc(){return(mc=(0,p.Z)(function*(_,d){return nu(_,d)})).apply(this,arguments)}function Hf(_,d){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,p.Z)(function*(_,d){return nu(_,d)})).apply(this,arguments)}function Za(_,d){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,p.Z)(function*(_,d){return nu(_,d)})).apply(this,arguments)}function ru(_,d){return _c.apply(this,arguments)}function _c(){return(_c=(0,p.Z)(function*(_,d){return nu(_,d)})).apply(this,arguments)}function li(){return(li=(0,p.Z)(function*(_,d){return B(_,"POST","/v1/accounts:signInWithEmailLink",kt(_,d))})).apply(this,arguments)}function Xi(){return(Xi=(0,p.Z)(function*(_,d){return B(_,"POST","/v1/accounts:signInWithEmailLink",kt(_,d))})).apply(this,arguments)}class Xs extends Qs{constructor(d,f,v,D=null){super("password",v),this._email=d,this._password=f,this._tenantId=D}static _fromEmailAndPassword(d,f){return new Xs(d,f,"password")}static _fromEmailAndCode(d,f,v=null){return new Xs(d,f,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,p.Z)(function*(){switch(f.signInMethod){case"password":return function(_,d){return tu.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function(_,d){return li.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:wt(d,"internal-error")}})()}_linkToIdToken(d,f){var v=this;return(0,p.Z)(function*(){switch(v.signInMethod){case"password":return jd(d,{idToken:f,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(_,d){return Xi.apply(this,arguments)}(d,{idToken:f,email:v._email,oobCode:v._password});default:wt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function es(_,d){return iu.apply(this,arguments)}function iu(){return(iu=(0,p.Z)(function*(_,d){return B(_,"POST","/v1/accounts:signInWithIdp",kt(_,d))})).apply(this,arguments)}class $n extends Qs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new $n(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):wt("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:D}=f,S=K(f,["providerId","signInMethod"]);if(!v||!D)return null;const $=new $n(v,D);return $.idToken=S.idToken||void 0,$.accessToken=S.accessToken||void 0,$.secret=S.secret,$.nonce=S.nonce,$.pendingToken=S.pendingToken||null,$}_getIdTokenResponse(d){return es(d,this.buildRequest())}_linkToIdToken(d,f){const v=this.buildRequest();return v.idToken=f,es(d,v)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,es(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,O.xO)(f)}return d}}function Mi(_,d){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,p.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:sendVerificationCode",kt(_,d))})).apply(this,arguments)}function nr(){return(nr=(0,p.Z)(function*(_,d){return B(_,"POST","/v1/accounts:signInWithPhoneNumber",kt(_,d))})).apply(this,arguments)}function su(){return(su=(0,p.Z)(function*(_,d){const f=yield B(_,"POST","/v1/accounts:signInWithPhoneNumber",kt(_,d));if(f.temporaryProof)throw Ne(_,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Ka={USER_NOT_FOUND:"user-not-found"};function ea(){return(ea=(0,p.Z)(function*(_,d){return B(_,"POST","/v1/accounts:signInWithPhoneNumber",kt(_,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Ka)})).apply(this,arguments)}class Ds extends Qs{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new Ds({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new Ds({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function(_,d){return nr.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function(_,d){return su.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function(_,d){return ea.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:v,verificationCode:D}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:v,code:D}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:v,phoneNumber:D,temporaryProof:S}=d;return v||f||D||S?new Ds({verificationId:f,verificationCode:v,phoneNumber:D,temporaryProof:S}):null}}class ts{constructor(d){var f,v,D,S,$,ie;const Ae=(0,O.zd)((0,O.pd)(d)),De=null!==(f=Ae.apiKey)&&void 0!==f?f:null,Fe=null!==(v=Ae.oobCode)&&void 0!==v?v:null,Le=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Ae.mode)&&void 0!==D?D:null);be(De&&Fe&&Le,"argument-error"),this.apiKey=De,this.operation=Le,this.code=Fe,this.continueUrl=null!==(S=Ae.continueUrl)&&void 0!==S?S:null,this.languageCode=null!==($=Ae.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(ie=Ae.tenantId)&&void 0!==ie?ie:null}static parseLink(d){const f=function(_){const d=(0,O.zd)((0,O.pd)(_)).link,f=d?(0,O.zd)((0,O.pd)(d)).deep_link_id:null,v=(0,O.zd)((0,O.pd)(_)).deep_link_id;return(v?(0,O.zd)((0,O.pd)(v)).link:null)||v||f||d||_}(d);try{return new ts(f)}catch(v){return null}}}let Ts=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(f,v){return Xs._fromEmailAndPassword(f,v)}static credentialWithLink(f,v){const D=ts.parseLink(v);return be(D,"argument-error"),Xs._fromEmailAndCode(f,D.code,D.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class rr{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Wr extends rr{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class _n extends Wr{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return be("providerId"in f&&"signInMethod"in f,"argument-error"),$n._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return be(d.idToken||d.accessToken,"argument-error"),$n._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return _n.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return _n.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:v,oauthTokenSecret:D,pendingToken:S,nonce:$,providerId:ie}=d;if(!v&&!D&&!f&&!S||!ie)return null;try{return new _n(ie)._credential({idToken:f,accessToken:v,nonce:$,pendingToken:S})}catch(Ae){return null}}}let Ya=(()=>{class _ extends Wr{constructor(){super("facebook.com")}static credential(f){return $n._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return _.credential(f.oauthAccessToken)}catch(v){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),As=(()=>{class _ extends Wr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,v){return $n._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:v})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:v,oauthAccessToken:D}=f;if(!v&&!D)return null;try{return _.credential(v,D)}catch(S){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ss=(()=>{class _ extends Wr{constructor(){super("github.com")}static credential(f){return $n._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return _.credential(f.oauthAccessToken)}catch(v){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Pi extends Qs{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return es(d,this.buildRequest())}_linkToIdToken(d,f){const v=this.buildRequest();return v.idToken=f,es(d,v)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,es(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:v,signInMethod:D,pendingToken:S}=f;return v&&D&&S&&v===D?new Pi(v,S):null}static _create(d,f){return new Pi(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qa extends rr{constructor(d){be(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Qa.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Qa.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=Pi.fromJSON(d);return be(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:v}=d;if(!f||!v)return null;try{return Pi._create(v,f)}catch(D){return null}}}let Gr=(()=>{class _ extends Wr{constructor(){super("twitter.com")}static credential(f,v){return $n._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:v})}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:v,oauthTokenSecret:D}=f;if(!v||!D)return null;try{return _.credential(v,D)}catch(S){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function au(_,d){return eo.apply(this,arguments)}function eo(){return(eo=(0,p.Z)(function*(_,d){return B(_,"POST","/v1/accounts:signUp",kt(_,d))})).apply(this,arguments)}class Oe{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,v,D=!1){return(0,p.Z)(function*(){const S=yield Ze._fromIdTokenResponse(d,v,D),$=lu(v);return new Oe({user:S,providerId:$,_tokenResponse:v,operationType:f})})()}static _forOperation(d,f,v){return(0,p.Z)(function*(){yield d._updateTokensIfNecessary(v,!0);const D=lu(v);return new Oe({user:d,providerId:D,_tokenResponse:v,operationType:f})})()}}function lu(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Ja(){return(Ja=(0,p.Z)(function*(_){var d;const f=Sn(_);if(yield f._initializationPromise,null===(d=f.currentUser)||void 0===d?void 0:d.isAnonymous)return new Oe({user:f.currentUser,providerId:null,operationType:"signIn"});const v=yield au(f,{returnSecureToken:!0}),D=yield Oe._fromIdTokenResponse(f,"signIn",v,!0);return yield f._updateCurrentUser(D.user),D})).apply(this,arguments)}class na extends O.ZR{constructor(d,f,v,D){var S;super(f.code,f.message),this.operationType=v,this.user=D,Object.setPrototypeOf(this,na.prototype),this.customData={appName:d.name,tenantId:null!==(S=d.tenantId)&&void 0!==S?S:void 0,_serverResponse:f.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(d,f,v,D){return new na(d,f,v,D)}}function cu(_,d,f,v){return("reauthenticate"===d?f._getReauthenticationResolver(_):f._getIdTokenResponse(_)).catch(S=>{throw"auth/multi-factor-auth-required"===S.code?na._fromErrorAndOperation(_,S,d,v):S})}function Xa(_){return new Set(_.map(({providerId:d})=>d).filter(d=>!!d))}function Ce(){return(Ce=(0,p.Z)(function*(_,d){const f=(0,O.m9)(_);yield zt(!0,f,d);const{providerUserInfo:v}=yield Bn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),D=Xa(v||[]);return f.providerData=f.providerData.filter(S=>D.has(S.providerId)),D.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function mt(_,d){return ui.apply(this,arguments)}function ui(){return(ui=(0,p.Z)(function*(_,d,f=!1){const v=yield Gt(_,d._linkToIdToken(_.auth,yield _.getIdToken()),f);return Oe._forOperation(_,"link",v)})).apply(this,arguments)}function zt(_,d,f){return ns.apply(this,arguments)}function ns(){return(ns=(0,p.Z)(function*(_,d,f){yield Se(d);const D=!1===_?"provider-already-linked":"no-such-provider";be(Xa(d.providerData).has(f)===_,d.auth,D)})).apply(this,arguments)}function Rs(_,d){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,p.Z)(function*(_,d,f=!1){const{auth:v}=_,D="reauthenticate";try{const S=yield Gt(_,cu(v,D,d,_),f);be(S.idToken,v,"internal-error");const $=bs(S.idToken);be($,v,"internal-error");const{sub:ie}=$;return be(_.uid===ie,v,"user-mismatch"),Oe._forOperation(_,D,S)}catch(S){throw"auth/user-not-found"===(null==S?void 0:S.code)&&wt(v,"user-mismatch"),S}})).apply(this,arguments)}function ra(_,d){return rs.apply(this,arguments)}function rs(){return(rs=(0,p.Z)(function*(_,d,f=!1){const v="signIn",D=yield cu(_,v,d),S=yield Oe._fromIdTokenResponse(_,v,D);return f||(yield _._updateCurrentUser(S.user)),S})).apply(this,arguments)}function ia(_,d){return el.apply(this,arguments)}function el(){return(el=(0,p.Z)(function*(_,d){return ra(Sn(_),d)})).apply(this,arguments)}function to(_,d){return no.apply(this,arguments)}function no(){return(no=(0,p.Z)(function*(_,d){const f=(0,O.m9)(_);return yield zt(!1,f,d.providerId),mt(f,d)})).apply(this,arguments)}function On(_,d){return zr.apply(this,arguments)}function zr(){return(zr=(0,p.Z)(function*(_,d){return Rs((0,O.m9)(_),d)})).apply(this,arguments)}function tl(_,d){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,p.Z)(function*(_,d){return B(_,"POST","/v1/accounts:signInWithCustomToken",kt(_,d))})).apply(this,arguments)}function nl(){return(nl=(0,p.Z)(function*(_,d){const f=Sn(_),v=yield tl(f,{token:d,returnSecureToken:!0}),D=yield Oe._fromIdTokenResponse(f,"signIn",v);return yield f._updateCurrentUser(D.user),D})).apply(this,arguments)}class Ms{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?Ps._fromServerResponse(d,f):wt(d,"internal-error")}}class Ps extends Ms{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new Ps(f)}}function rl(_,d,f){var v;be((null===(v=f.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),be(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(be(f.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(be(f.android.packageName.length>0,_,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function io(){return(io=(0,p.Z)(function*(_,d,f){const v=(0,O.m9)(_),D={requestType:"PASSWORD_RESET",email:d};f&&rl(v,D,f),yield Hf(v,D)})).apply(this,arguments)}function sa(){return(sa=(0,p.Z)(function*(_,d,f){yield Bd((0,O.m9)(_),{oobCode:d,newPassword:f})})).apply(this,arguments)}function so(){return(so=(0,p.Z)(function*(_,d){yield Bf((0,O.m9)(_),{oobCode:d})})).apply(this,arguments)}function oo(_,d){return ao.apply(this,arguments)}function ao(){return(ao=(0,p.Z)(function*(_,d){const f=(0,O.m9)(_),v=yield Bd(f,{oobCode:d}),D=v.requestType;switch(be(D,f,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be(v.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be(v.mfaInfo,f,"internal-error");default:be(v.email,f,"internal-error")}let S=null;return v.mfaInfo&&(S=Ms._fromServerResponse(Sn(f),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:S},operation:D}})).apply(this,arguments)}function oa(){return(oa=(0,p.Z)(function*(_,d){const{data:f}=yield oo((0,O.m9)(_),d);return f.email})).apply(this,arguments)}function lo(){return(lo=(0,p.Z)(function*(_,d,f){const v=Sn(_),D=yield au(v,{returnSecureToken:!0,email:d,password:f}),S=yield Oe._fromIdTokenResponse(v,"signIn",D);return yield v._updateCurrentUser(S.user),S})).apply(this,arguments)}function wn(){return(wn=(0,p.Z)(function*(_,d,f){const v=(0,O.m9)(_),D={requestType:"EMAIL_SIGNIN",email:d};be(f.handleCodeInApp,v,"argument-error"),f&&rl(v,D,f),yield Za(v,D)})).apply(this,arguments)}function pu(){return(pu=(0,p.Z)(function*(_,d,f){const v=(0,O.m9)(_),D=Ts.credentialWithLink(d,f||je());return be(D._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),ia(v,D)})).apply(this,arguments)}function Gf(_,d){return bc.apply(this,arguments)}function bc(){return(bc=(0,p.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:createAuthUri",kt(_,d))})).apply(this,arguments)}function wc(){return(wc=(0,p.Z)(function*(_,d){const v={identifier:d,continueUri:Ge()?je():"http://localhost"},{signinMethods:D}=yield Gf((0,O.m9)(_),v);return D||[]})).apply(this,arguments)}function Ni(){return(Ni=(0,p.Z)(function*(_,d){const f=(0,O.m9)(_),D={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};d&&rl(f.auth,D,d);const{email:S}=yield jf(f.auth,D);S!==_.email&&(yield _.reload())})).apply(this,arguments)}function uo(){return(uo=(0,p.Z)(function*(_,d,f){const v=(0,O.m9)(_),S={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:d};f&&rl(v.auth,S,f);const{email:$}=yield ru(v.auth,S);$!==_.email&&(yield _.reload())})).apply(this,arguments)}function gu(_,d){return mu.apply(this,arguments)}function mu(){return(mu=(0,p.Z)(function*(_,d){return Xe(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Zt(){return(Zt=(0,p.Z)(function*(_,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const v=(0,O.m9)(_),S={idToken:yield v.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},$=yield Gt(v,gu(v.auth,S));v.displayName=$.displayName||null,v.photoURL=$.photoUrl||null;const ie=v.providerData.find(({providerId:Ae})=>"password"===Ae);ie&&(ie.displayName=v.displayName,ie.photoURL=v.photoURL),yield v._updateTokensIfNecessary($)})).apply(this,arguments)}function Dc(_,d,f){return ho.apply(this,arguments)}function ho(){return(ho=(0,p.Z)(function*(_,d,f){const{auth:v}=_,S={idToken:yield _.getIdToken(),returnSecureToken:!0};d&&(S.email=d),f&&(S.password=f);const $=yield Gt(_,jd(v,S));yield _._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class ua{constructor(d,f,v={}){this.isNewUser=d,this.providerId=f,this.profile=v}}class _u extends ua{constructor(d,f,v,D){super(d,f,v),this.username=D}}class zf extends ua{constructor(d,f){super(d,"facebook.com",f)}}class Ns extends _u{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class ol extends ua{constructor(d,f){super(d,"google.com",f)}}class Tc extends _u{constructor(d,f,v){super(d,"twitter.com",f,v)}}function kn(_){const{user:d,_tokenResponse:f}=_;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function(_){var d,f;if(!_)return null;const{providerId:v}=_,D=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},S=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&(null==_?void 0:_.idToken)){const $=null===(f=null===(d=bs(_.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if($)return new ua(S,"anonymous"!==$&&"custom"!==$?$:null)}if(!v)return null;switch(v){case"facebook.com":return new zf(S,D);case"github.com":return new Ns(S,D);case"google.com":return new ol(S,D);case"twitter.com":return new Tc(S,D,_.screenName||null);case"custom":case"anonymous":return new ua(S,null);default:return new ua(S,v,D)}}(f)}class xs{constructor(d,f){this.type=d,this.credential=f}static _fromIdtoken(d){return new xs("enroll",d)}static _fromMfaPendingCredential(d){return new xs("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,v;if(null==d?void 0:d.multiFactorSession){if(null===(f=d.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return xs._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(v=d.multiFactorSession)||void 0===v?void 0:v.idToken)return xs._fromIdtoken(d.multiFactorSession.idToken)}return null}}class cl{constructor(d,f,v){this.session=d,this.hints=f,this.signInResolver=v}static _fromError(d,f){const v=Sn(d),D=f.customData._serverResponse,S=(D.mfaInfo||[]).map(ie=>Ms._fromServerResponse(v,ie));be(D.mfaPendingCredential,v,"internal-error");const $=xs._fromMfaPendingCredential(D.mfaPendingCredential);return new cl($,S,function(){var ie=(0,p.Z)(function*(Ae){const De=yield Ae._process(v,$);delete D.mfaInfo,delete D.mfaPendingCredential;const Fe=Object.assign(Object.assign({},D),{idToken:De.idToken,refreshToken:De.refreshToken});switch(f.operationType){case"signIn":const Le=yield Oe._fromIdTokenResponse(v,f.operationType,Fe);return yield v._updateCurrentUser(Le.user),Le;case"reauthenticate":return be(f.user,v,"internal-error"),Oe._forOperation(f.user,f.operationType,Fe);default:wt(v,"internal-error")}});return function(Ae){return ie.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,p.Z)(function*(){return f.signInResolver(d)})()}}function Yf(_,d){return Xe(_,"POST","/v2/accounts/mfaEnrollment:start",kt(_,d))}class fa{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(v=>Ms._fromServerResponse(d.auth,v)))})}static _fromUser(d){return new fa(d)}getSession(){var d=this;return(0,p.Z)(function*(){return xs._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,f){var v=this;return(0,p.Z)(function*(){const D=d,S=yield v.getSession(),$=yield Gt(v.user,D._process(v.user.auth,S,f));return yield v.user._updateTokensIfNecessary($),v.user.reload()})()}unenroll(d){var f=this;return(0,p.Z)(function*(){const v="string"==typeof d?d:d.uid,D=yield f.user.getIdToken(),S=yield Gt(f.user,function(_,d){return Xe(_,"POST","/v2/accounts/mfaEnrollment:withdraw",kt(_,d))}(f.user.auth,{idToken:D,mfaEnrollmentId:v}));f.enrolledFactors=f.enrolledFactors.filter(({uid:$})=>$!==v),yield f.user._updateTokensIfNecessary(S);try{yield f.user.reload()}catch($){if("auth/user-token-expired"!==$.code)throw $}})()}}const Mn=new WeakMap,Kr="__sak";class et{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Kr,"1"),this.storage.removeItem(Kr),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const pa=(()=>{class _ extends et{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,v)=>this.onStorageEvent(f,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,O.z$)();return Si(_)||Qi(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=pn(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const v of Object.keys(this.listeners)){const D=this.storage.getItem(v),S=this.localCache[v];D!==S&&f(v,S,D)}}onStorageEvent(f,v=!1){if(!f.key)return void this.forAllChangedKeys((ie,Ae,De)=>{this.notifyListeners(ie,De)});const D=f.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ie=this.storage.getItem(D);if(f.newValue!==ie)null!==f.newValue?this.storage.setItem(D,f.newValue):this.storage.removeItem(D);else if(this.localCache[D]===f.newValue&&!v)return}const S=()=>{const ie=this.storage.getItem(D);!v&&this.localCache[D]===ie||this.notifyListeners(D,ie)},$=this.storage.getItem(D);(0,O.w1)()&&10===document.documentMode&&$!==f.newValue&&f.newValue!==f.oldValue?setTimeout(S,10):S()}notifyListeners(f,v){this.localCache[f]=v;const D=this.listeners[f];if(D)for(const S of Array.from(D))S(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,v,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:v,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,v){var D=()=>super._set,S=this;return(0,p.Z)(function*(){yield D().call(S,f,v),S.localCache[f]=JSON.stringify(v)})()}_get(f){var v=()=>super._get,D=this;return(0,p.Z)(function*(){const S=yield v().call(D,f);return D.localCache[f]=JSON.stringify(S),S})()}_remove(f){var v=()=>super._remove,D=this;return(0,p.Z)(function*(){yield v().call(D,f),delete D.localCache[f]})()}}return _.type="LOCAL",_})(),Xt=(()=>{class _ extends et{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,v){}_removeListener(f,v){}}return _.type="SESSION",_})();let Qf=(()=>{class _{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const v=this.receivers.find(S=>S.isListeningto(f));if(v)return v;const D=new _(f);return this.receivers.push(D),D}isListeningto(f){return this.eventTarget===f}handleEvent(f){var v=this;return(0,p.Z)(function*(){const D=f,{eventId:S,eventType:$,data:ie}=D.data,Ae=v.handlersMap[$];if(!(null==Ae?void 0:Ae.size))return;D.ports[0].postMessage({status:"ack",eventId:S,eventType:$});const De=Array.from(Ae).map(function(){var Le=(0,p.Z)(function*(vt){return vt(D.origin,ie)});return function(vt){return Le.apply(this,arguments)}}()),Fe=yield function(_){return Promise.all(_.map(function(){var d=(0,p.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(v){return{fulfilled:!1,reason:v}}});return function(f){return d.apply(this,arguments)}}()))}(De);D.ports[0].postMessage({status:"done",eventId:S,eventType:$,response:Fe})})()}_subscribe(f,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(v)}_unsubscribe(f,v){this.handlersMap[f]&&v&&this.handlersMap[f].delete(v),(!v||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function fo(_="",d=10){let f="";for(let v=0;v<d;v++)f+=Math.floor(10*Math.random());return _+f}class Ac{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,v=50){var D=this;return(0,p.Z)(function*(){const S="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!S)throw new Error("connection_unavailable");let $,ie;return new Promise((Ae,De)=>{const Fe=fo("",20);S.port1.start();const Le=setTimeout(()=>{De(new Error("unsupported_event"))},v);ie={messageChannel:S,onMessage(vt){const Vt=vt;if(Vt.data.eventId===Fe)switch(Vt.data.status){case"ack":clearTimeout(Le),$=setTimeout(()=>{De(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Ae(Vt.data.response);break;default:clearTimeout(Le),clearTimeout($),De(new Error("invalid_response"))}}},D.handlers.add(ie),S.port1.addEventListener("message",ie.onMessage),D.target.postMessage({eventType:d,eventId:Fe,data:f},[S.port2])}).finally(()=>{ie&&D.removeMessageHandler(ie)})})()}}function tn(){return window}function po(){return void 0!==tn().WorkerGlobalScope&&"function"==typeof tn().importScripts}function os(){return(os=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const as="firebaseLocalStorageDb",Sr="firebaseLocalStorage",Jf="fbase_key";class fl{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Kn(_,d){return _.transaction([Sr],d?"readwrite":"readonly").objectStore(Sr)}function Sc(){const _=indexedDB.open(as,1);return new Promise((d,f)=>{_.addEventListener("error",()=>{f(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(Sr,{keyPath:Jf})}catch(D){f(D)}}),_.addEventListener("success",(0,p.Z)(function*(){const v=_.result;v.objectStoreNames.contains(Sr)?d(v):(v.close(),yield function(){const _=indexedDB.deleteDatabase(as);return new fl(_).toPromise()}(),d(yield Sc()))}))})}function $t(_,d,f){return ls.apply(this,arguments)}function ls(){return(ls=(0,p.Z)(function*(_,d,f){const v=Kn(_,!0).put({[Jf]:d,value:f});return new fl(v).toPromise()})).apply(this,arguments)}function F(){return(F=(0,p.Z)(function*(_,d){const f=Kn(_,!1).get(d),v=yield new fl(f).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function _a(_,d){const f=Kn(_,!0).delete(d);return new fl(f).toPromise()}const hi=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,p.Z)(function*(){return f.db||(f.db=yield Sc()),f.db})()}_withRetries(f){var v=this;return(0,p.Z)(function*(){let D=0;for(;;)try{const S=yield v._openDb();return yield f(S)}catch(S){if(D++>3)throw S;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,p.Z)(function*(){return po()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,p.Z)(function*(){f.receiver=Qf._getInstance(po()?self:null),f.receiver._subscribe("keyChanged",function(){var v=(0,p.Z)(function*(D,S){return{keyProcessed:(yield f._poll()).includes(S.key)}});return function(D,S){return v.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var v=(0,p.Z)(function*(D,S){return["keyChanged"]});return function(D,S){return v.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,p.Z)(function*(){var v,D;if(f.activeServiceWorker=yield function(){return os.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Ac(f.activeServiceWorker);const S=yield f.sender._send("ping",{},800);!S||(null===(v=S[0])||void 0===v?void 0:v.fulfilled)&&(null===(D=S[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var v=this;return(0,p.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:f},v.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Sc();return yield $t(f,Kr,"1"),yield _a(f,Kr),!0}catch(f){}return!1})()}_withPendingWrite(f){var v=this;return(0,p.Z)(function*(){v.pendingWrites++;try{yield f()}finally{v.pendingWrites--}})()}_set(f,v){var D=this;return(0,p.Z)(function*(){return D._withPendingWrite((0,p.Z)(function*(){return yield D._withRetries(S=>$t(S,f,v)),D.localCache[f]=v,D.notifyServiceWorker(f)}))})()}_get(f){var v=this;return(0,p.Z)(function*(){const D=yield v._withRetries(S=>function(_,d){return F.apply(this,arguments)}(S,f));return v.localCache[f]=D,D})()}_remove(f){var v=this;return(0,p.Z)(function*(){return v._withPendingWrite((0,p.Z)(function*(){return yield v._withRetries(D=>_a(D,f)),delete v.localCache[f],v.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,p.Z)(function*(){const v=yield f._withRetries($=>{const ie=Kn($,!1).getAll();return new fl(ie).toPromise()});if(!v)return[];if(0!==f.pendingWrites)return[];const D=[],S=new Set;for(const{fbase_key:$,value:ie}of v)S.add($),JSON.stringify(f.localCache[$])!==JSON.stringify(ie)&&(f.notifyListeners($,ie),D.push($));for(const $ of Object.keys(f.localCache))f.localCache[$]&&!S.has($)&&(f.notifyListeners($,null),D.push($));return D})()}notifyListeners(f,v){this.localCache[f]=v;const D=this.listeners[f];if(D)for(const S of Array.from(D))S(v)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(v)}_removeListener(f,v){this.listeners[f]&&(this.listeners[f].delete(v),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Xf(_,d){return Xe(_,"POST","/v2/accounts/mfaSignIn:start",kt(_,d))}function hr(){return(hr=(0,p.Z)(function*(_){return(yield Xe(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Oi(_){return new Promise((d,f)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=d,v.onerror=D=>{const S=cn("internal-error");S.customData=D,f(S)},v.type="text/javascript",v.charset="UTF-8",function(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(v)})}function Yn(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Pn=1e12;class Yr{constructor(d){this.auth=d,this.counter=Pn,this._widgets=new Map}render(d,f){const v=this.counter;return this._widgets.set(v,new Mc(d,this.auth.name,f||{})),this.counter++,v}reset(d){var f;const v=d||Pn;null===(f=this._widgets.get(v))||void 0===f||f.delete(),this._widgets.delete(v)}getResponse(d){var f;return(null===(f=this._widgets.get(d||Pn))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,p.Z)(function*(){var v;return null===(v=f._widgets.get(d||Pn))||void 0===v||v.execute(),""})()}}class Mc{constructor(d,f,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof d?document.getElementById(d):d;be(D,"argument-error",{appName:f}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<50;v++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}();const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mo=Yn("rcb"),Pc=new Rt(3e4,6e4);class gn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!tn().grecaptcha}load(d,f=""){return be((_=f).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(tn().grecaptcha):new Promise((v,D)=>{const S=tn().setTimeout(()=>{D(cn(d,"network-request-failed"))},Pc.get());tn()[mo]=()=>{tn().clearTimeout(S),delete tn()[mo];const ie=tn().grecaptcha;if(!ie)return void D(cn(d,"internal-error"));const Ae=ie.render;ie.render=(De,Fe)=>{const Le=Ae(De,Fe);return this.counter++,Le},this.hostLanguage=f,v(ie)},Oi(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:mo,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(S),D(cn(d,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!tn().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _o{load(d){return(0,p.Z)(function*(){return new Yr(d)})()}clearedOneInstance(){}}const Os="recaptcha",sr={theme:"light",type:"image"};class Qr{constructor(d,f=Object.assign({},sr),v){this.parameters=f,this.type=Os,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sn(v),this.isInvisible="invisible"===this.parameters.size,be("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof d?document.getElementById(d):d;be(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _o:new gn,this.validateStartingState()}verify(){var d=this;return(0,p.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),v=d.getAssertedRecaptcha();return v.getResponse(f)||new Promise(S=>{const $=ie=>{!ie||(d.tokenChangeListeners.delete($),S(ie))};d.tokenChangeListeners.add($),d.isInvisible&&v.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(v=>v(f)),"function"==typeof d)d(f);else if("string"==typeof d){const v=tn()[d];"function"==typeof v&&v(f)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,p.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const v=document.createElement("div");f.appendChild(v),f=v}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,p.Z)(function*(){be(Ge()&&!po(),d.auth,"internal-error"),yield function(){let _=null;return new Promise(d=>{"complete"!==document.readyState?(_=()=>d(),window.addEventListener("load",_)):d()}).catch(d=>{throw _&&window.removeEventListener("load",_),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function(_){return hr.apply(this,arguments)}(d.auth);be(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nc{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=Ds._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function yo(){return(yo=(0,p.Z)(function*(_,d,f){const v=Sn(_),D=yield T(v,d,(0,O.m9)(f));return new Nc(D,S=>ia(v,S))})).apply(this,arguments)}function nn(){return(nn=(0,p.Z)(function*(_,d,f){const v=(0,O.m9)(_);yield zt(!1,v,"phone");const D=yield T(v.auth,d,(0,O.m9)(f));return new Nc(D,S=>to(v,S))})).apply(this,arguments)}function b(){return(b=(0,p.Z)(function*(_,d,f){const v=(0,O.m9)(_),D=yield T(v.auth,d,(0,O.m9)(f));return new Nc(D,S=>On(v,S))})).apply(this,arguments)}function T(_,d,f){return R.apply(this,arguments)}function R(){return(R=(0,p.Z)(function*(_,d,f){var v;const D=yield f.verify();try{let S;if(be("string"==typeof D,_,"argument-error"),be(f.type===Os,_,"argument-error"),S="string"==typeof d?{phoneNumber:d}:d,"session"in S){const $=S.session;if("phoneNumber"in S)return be("enroll"===$.type,_,"internal-error"),(yield Yf(_,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:S.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{be("signin"===$.type,_,"internal-error");const ie=(null===(v=S.multiFactorHint)||void 0===v?void 0:v.uid)||S.multiFactorUid;return be(ie,_,"missing-multi-factor-info"),(yield Xf(_,{mfaPendingCredential:$.credential,mfaEnrollmentId:ie,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield Mi(_,{phoneNumber:S.phoneNumber,recaptchaToken:D});return $}}finally{f._reset()}})).apply(this,arguments)}function q(){return(q=(0,p.Z)(function*(_,d){yield mt((0,O.m9)(_),d)})).apply(this,arguments)}let ae=(()=>{class _{constructor(f){this.providerId=_.PROVIDER_ID,this.auth=Sn(f)}verifyPhoneNumber(f,v){return T(this.auth,f,(0,O.m9)(v))}static credential(f,v){return Ds._fromVerification(f,v)}static credentialFromResult(f){return _.credentialFromTaggedObject(f)}static credentialFromError(f){return _.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:v,temporaryProof:D}=f;return v&&D?Ds._fromTokenResponse(v,D):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ee(_,d){return d?At(d):(be(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Me extends Qs{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return es(d,this._buildIdpRequest())}_linkToIdToken(d,f){return es(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return es(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function Pe(_){return ra(_.auth,new Me(_),_.bypassAuthState)}function ut(_){const{auth:d,user:f}=_;return be(f,d,"internal-error"),Rs(f,new Me(_),_.bypassAuthState)}function Ot(_){return vn.apply(this,arguments)}function vn(){return(vn=(0,p.Z)(function*(_){const{auth:d,user:f}=_;return be(f,d,"internal-error"),mt(f,new Me(_),_.bypassAuthState)})).apply(this,arguments)}class Ln{constructor(d,f,v,D,S=!1){this.auth=d,this.resolver=v,this.user=D,this.bypassAuthState=S,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,p.Z)(function*(v,D){d.pendingPromise={resolve:v,reject:D};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(S){d.reject(S)}});return function(v,D){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,p.Z)(function*(){const{urlResponse:v,sessionId:D,postBody:S,tenantId:$,error:ie,type:Ae}=d;if(ie)return void f.reject(ie);const De={auth:f.auth,requestUri:v,sessionId:D,tenantId:$||void 0,postBody:S||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Ae)(De))}catch(Fe){f.reject(Fe)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Pe;case"linkViaPopup":case"linkViaRedirect":return Ot;case"reauthViaPopup":case"reauthViaRedirect":return ut;default:wt(this.auth,"internal-error")}}resolve(d){Cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Cn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gt=new Rt(2e3,1e4);function ya(){return(ya=(0,p.Z)(function*(_,d,f){const v=Sn(_);Vr(_,d,rr);const D=Ee(v,f);return new Oc(v,"signInViaPopup",d,D).executeNotNull()})).apply(this,arguments)}function or(){return(or=(0,p.Z)(function*(_,d,f){const v=(0,O.m9)(_);Vr(v.auth,d,rr);const D=Ee(v.auth,f);return new Oc(v.auth,"reauthViaPopup",d,D,v).executeNotNull()})).apply(this,arguments)}function Eo(){return(Eo=(0,p.Z)(function*(_,d,f){const v=(0,O.m9)(_);Vr(v.auth,d,rr);const D=Ee(v.auth,f);return new Oc(v.auth,"linkViaPopup",d,D,v).executeNotNull()})).apply(this,arguments)}let Oc=(()=>{class _ extends Ln{constructor(f,v,D,S,$){super(f,v,S,$),this.provider=D,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var f=this;return(0,p.Z)(function*(){const v=yield f.execute();return be(v,f.auth,"internal-error"),v})()}onExecution(){var f=this;return(0,p.Z)(function*(){Cn(1===f.filter.length,"Popup operations only handle one event");const v=fo();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],v),f.authWindow.associatedEvent=v,f.resolver._originValidation(f.auth).catch(D=>{f.reject(D)}),f.resolver._isIframeWebStorageSupported(f.auth,D=>{D||f.reject(cn(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const f=()=>{var v,D;this.pollId=(null===(D=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(cn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,gt.get())};f()}}return _.currentPopupAction=null,_})();const Jr=new Map;class Cu extends Ln{constructor(d,f,v=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,v),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,p.Z)(function*(){let v=Jr.get(f.auth._key());if(!v){try{const S=(yield function(_,d){return Qd.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;v=()=>Promise.resolve(S)}catch(D){v=()=>Promise.reject(D)}Jr.set(f.auth._key(),v)}return f.bypassAuthState||Jr.set(f.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,v=this;return(0,p.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(v,d);if("unknown"!==d.type){if(d.eventId){const D=yield v.auth._redirectUserForId(d.eventId);if(D)return v.user=D,f().call(v,d);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Qd(){return(Qd=(0,p.Z)(function*(_,d){const f=kc(d),v=Iu(_);if(!(yield v._isAvailable()))return!1;const D="true"===(yield v._get(f));return yield v._remove(f),D})).apply(this,arguments)}function bu(_,d){return wu.apply(this,arguments)}function wu(){return(wu=(0,p.Z)(function*(_,d){return Iu(_)._set(kc(d),"true")})).apply(this,arguments)}function Iu(_){return At(_._redirectPersistence)}function kc(_){return dr("pendingRedirect",_.config.apiKey,_.name)}function bo(){return(bo=(0,p.Z)(function*(_,d,f){const v=Sn(_);Vr(_,d,rr);const D=Ee(v,f);return yield bu(D,v),D._openRedirect(v,d,"signInViaRedirect")})).apply(this,arguments)}function Fc(){return(Fc=(0,p.Z)(function*(_,d,f){const v=(0,O.m9)(_);Vr(v.auth,d,rr);const D=Ee(v.auth,f);yield bu(D,v.auth);const S=yield Ea(v);return D._openRedirect(v.auth,d,"reauthViaRedirect",S)})).apply(this,arguments)}function Lc(){return(Lc=(0,p.Z)(function*(_,d,f){const v=(0,O.m9)(_);Vr(v.auth,d,rr);const D=Ee(v.auth,f);yield zt(!1,v,d.providerId),yield bu(D,v.auth);const S=yield Ea(v);return D._openRedirect(v.auth,d,"linkViaRedirect",S)})).apply(this,arguments)}function Jd(){return(Jd=(0,p.Z)(function*(_,d){return yield Sn(_)._initializationPromise,va(_,d,!1)})).apply(this,arguments)}function va(_,d){return Du.apply(this,arguments)}function Du(){return(Du=(0,p.Z)(function*(_,d,f=!1){const v=Sn(_),D=Ee(v,d),$=yield new Cu(v,D,f).execute();return $&&!f&&(delete $.user._redirectEventId,yield v._persistUserIfCurrent($.user),yield v._setRedirectUser(null,d)),$})).apply(this,arguments)}function Ea(_){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,p.Z)(function*(_){const d=fo(`${_.uid}:::`);return _._redirectEventId=d,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),d})).apply(this,arguments)}class um{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(d,v)&&(f=!0,this.sendToConsumer(d,v),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uc(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var v;if(d.error&&!Uc(d)){const D=(null===(v=d.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";f.onError(cn(this.auth,D))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const v=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&v}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tu(d))}saveEventToCache(d){this.cachedEventUids.add(Tu(d)),this.lastProcessedEventTime=Date.now()}}function Tu(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function Uc({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Au(_){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,p.Z)(function*(_,d={}){return Xe(_,"GET","/v1/projects",d)})).apply(this,arguments)}const ba=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Su=/^https?/;function Mu(){return(Mu=(0,p.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield Au(_);for(const f of d)try{if(cm(f))return}catch(v){}wt(_,"unauthorized-domain")})).apply(this,arguments)}function cm(_){const d=je(),{protocol:f,hostname:v}=new URL(d);if(_.startsWith("chrome-extension://")){const $=new URL(_);return""===$.hostname&&""===v?"chrome-extension:"===f&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&$.hostname===v}if(!Su.test(f))return!1;if(ba.test(_))return v===_;const D=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(v)}const dm=new Rt(3e4,6e4);function cs(){const _=tn().___jsl;if(null==_?void 0:_.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let f=0;f<_.CP.length;f++)_.CP[f]=null}let wa=null;function np(_){return wa=wa||function(_){return new Promise((d,f)=>{var v,D,S;function $(){cs(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{cs(),f(cn(_,"network-request-failed"))},timeout:dm.get()})}if(null===(D=null===(v=tn().gapi)||void 0===v?void 0:v.iframes)||void 0===D?void 0:D.Iframe)d(gapi.iframes.getContext());else{if(!(null===(S=tn().gapi)||void 0===S?void 0:S.load)){const ie=Yn("iframefcb");return tn()[ie]=()=>{gapi.load?$():f(cn(_,"network-request-failed"))},Oi(`https://apis.google.com/js/api.js?onload=${ie}`)}$()}}).catch(d=>{throw wa=null,d})}(_),wa}const hm=new Rt(5e3,15e3),ip={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sp(_){const d=_.config;be(d.authDomain,_,"auth-domain-config-required");const f=d.emulator?Re(d,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,v={apiKey:d.apiKey,appName:_.name,v:ue.SDK_VERSION},D=Xd.get(_.config.apiHost);D&&(v.eid=D);const S=_._getFrameworks();return S.length&&(v.fw=S.join(",")),`${f}?${(0,O.xO)(v).slice(1)}`}function eh(){return eh=(0,p.Z)(function*(_){const d=yield np(_),f=tn().gapi;return be(f,_,"internal-error"),d.open({where:document.body,url:sp(_),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ip,dontclear:!0},v=>new Promise(function(){var D=(0,p.Z)(function*(S,$){yield v.restyle({setHideOnLeave:!1});const ie=cn(_,"network-request-failed"),Ae=tn().setTimeout(()=>{$(ie)},hm.get());function De(){tn().clearTimeout(Ae),S(v)}v.ping(De).then(De,()=>{$(ie)})});return function(S,$){return D.apply(this,arguments)}}()))}),eh.apply(this,arguments)}const ap={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fi{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function qt(_,d,f,v,D,S){be(_.config.authDomain,_,"auth-domain-config-required"),be(_.config.apiKey,_,"invalid-api-key");const $={apiKey:_.config.apiKey,appName:_.name,authType:f,redirectUrl:v,v:ue.SDK_VERSION,eventId:D};if(d instanceof rr){d.setDefaultLanguage(_.languageCode),$.providerId=d.providerId||"",(0,O.xb)(d.getCustomParameters())||($.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Ae,De]of Object.entries(S||{}))$[Ae]=De}if(d instanceof Wr){const Ae=d.getScopes().filter(De=>""!==De);Ae.length>0&&($.scopes=Ae.join(","))}_.tenantId&&($.tid=_.tenantId);const ie=$;for(const Ae of Object.keys(ie))void 0===ie[Ae]&&delete ie[Ae];return`${function({config:_}){return _.emulator?Re(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,O.xO)(ie).slice(1)}`}const cp="webStorageSupport";class dt extends class{constructor(d){this.factorId=d}_process(d,f,v){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,v);case"signin":return this._finalizeSignIn(d,f.credential);default:return xn("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new dt(d)}_finalizeEnroll(d,f,v){return function(_,d){return Xe(_,"POST","/v2/accounts/mfaEnrollment:finalize",kt(_,d))}(d,{idToken:f,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function(_,d){return Xe(_,"POST","/v2/accounts/mfaSignIn:finalize",kt(_,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Mr=(()=>{class _{constructor(){}static assertion(f){return dt._fromCredential(f)}}return _.FACTOR_ID="phone",_})();var _,nh="@firebase/auth";class pi{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,p.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(v=>{var D;d((null===(D=v)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Li(){return window}function Da(){return Da=(0,p.Z)(function*(_,d,f){var v;const{BuildInfo:D}=Li();Cn(d.sessionId,"AuthEvent did not contain a session ID");const S=yield hp(d.sessionId),$={};return Qi()?$.ibi=D.packageName:qo()?$.apn=D.packageName:wt(_,"operation-not-supported-in-this-environment"),D.displayName&&($.appDisplayName=D.displayName),$.sessionId=S,qt(_,f,d.type,void 0,null!==(v=d.eventId)&&void 0!==v?v:void 0,$)}),Da.apply(this,arguments)}function rh(){return rh=(0,p.Z)(function*(_){const{BuildInfo:d}=Li(),f={};Qi()?f.iosBundleId=d.packageName:qo()?f.androidPackageName=d.packageName:wt(_,"operation-not-supported-in-this-environment"),yield Au(_,f)}),rh.apply(this,arguments)}function Hc(){return Hc=(0,p.Z)(function*(_,d,f){const{cordova:v}=Li();let D=()=>{};try{yield new Promise((S,$)=>{let ie=null;function Ae(){var Le;S();const vt=null===(Le=v.plugins.browsertab)||void 0===Le?void 0:Le.close;"function"==typeof vt&&vt(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function De(){ie||(ie=window.setTimeout(()=>{$(cn(_,"redirect-cancelled-by-user"))},2e3))}function Fe(){"visible"===(null==document?void 0:document.visibilityState)&&De()}d.addPassiveListener(Ae),document.addEventListener("resume",De,!1),qo()&&document.addEventListener("visibilitychange",Fe,!1),D=()=>{d.removePassiveListener(Ae),document.removeEventListener("resume",De,!1),document.removeEventListener("visibilitychange",Fe,!1),ie&&window.clearTimeout(ie)}})}finally{D()}}),Hc.apply(this,arguments)}function hp(_){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,p.Z)(function*(_){const d=_t(_),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(D=>D.toString(16).padStart(2,"0")).join("")}),Ls.apply(this,arguments)}function _t(_){if(Cn(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const d=new ArrayBuffer(_.length),f=new Uint8Array(d);for(let v=0;v<_.length;v++)f[v]=_.charCodeAt(v);return f}_="Browser",(0,ue._registerComponent)(new Ve.wA("auth",(d,{options:f})=>{const v=d.getProvider("app").getImmediate(),{apiKey:D,authDomain:S}=v.options;return($=>{be(D&&!D.includes(":"),"invalid-api-key",{appName:$.name}),be(!(null==S?void 0:S.includes(":")),"argument-error",{appName:$.name});const ie={apiKey:D,authDomain:S,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oi(_)},Ae=new ai($,ie);return function(_,d){const f=(null==d?void 0:d.persistence)||[],v=(Array.isArray(f)?f:[f]).map(At);(null==d?void 0:d.errorMap)&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(v,null==d?void 0:d.popupRedirectResolver)}(Ae,f),Ae})(v)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,v)=>{d.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new Ve.wA("auth-internal",d=>{const f=Sn(d.getProvider("auth").getImmediate());return new pi(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(nh,"0.19.3",void 0),(0,ue.registerVersion)(nh,"0.19.3","esm2017");class sh extends um{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,p.Z)(function*(){yield d.initPromise})()}}function Vn(_){return gr.apply(this,arguments)}function gr(){return gr=(0,p.Z)(function*(_){const d=yield Wn()._get(Vs(_));return d&&(yield Wn()._remove(Vs(_))),d}),gr.apply(this,arguments)}function mr(){const _=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const v=Math.floor(Math.random()*d.length);_.push(d.charAt(v))}return _.join("")}function Wn(){return At(pa)}function Vs(_){return dr("authEvent",_.config.apiKey,_.name)}function Ou(_){if(!(null==_?void 0:_.includes("?")))return{};const[d,...f]=_.split("?");return(0,O.zd)(f.join("?"))}function ah(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:cn("no-auth-event")}}function Wt(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function ch(_=(0,O.z$)()){return!("file:"!==Wt()&&"ionic:"!==Wt()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function vl(){try{const _=self.localStorage,d=fo();if(_)return _.setItem(d,"1"),_.removeItem(d),!function(_=(0,O.z$)()){return(0,O.w1)()&&11===(null==document?void 0:document.documentMode)||function(_=(0,O.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,O.hl)()}catch(_){return tt()&&(0,O.hl)()}return!1}function tt(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Do(){return("http:"===Wt()||"https:"===Wt()||(0,O.ru)()||ch())&&!((0,O.b$)()||(0,O.UG)())&&vl()&&!tt()}function El(){return ch()&&"undefined"!=typeof document}function an(){return an=(0,p.Z)(function*(){return!!El()&&new Promise(_=>{const d=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),_(!0)})})}),an.apply(this,arguments)}const _r={LOCAL:"local",NONE:"none",SESSION:"session"},ku=be,Sa="persistence";function Fu(_){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,p.Z)(function*(_){yield _._initializationPromise;const d=hh(),f=dr(Sa,_.config.apiKey,_.name);(null==d?void 0:d.sessionStorage)&&d.sessionStorage.setItem(f,_._getPersistence())}),Gc.apply(this,arguments)}function hh(){return"undefined"!=typeof window?window:null}const mp=be;class Us{constructor(){this.browserResolver=At(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xt,this._completeRedirectFn=va}_openPopup(d,f,v,D){var S=this;return(0,p.Z)(function*(){var $;Cn(null===($=S.eventManagers[d._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const ie=qt(d,f,v,je(),D);return function(_,d,f,v=500,D=600){const S=Math.max((window.screen.availHeight-D)/2,0).toString(),$=Math.max((window.screen.availWidth-v)/2,0).toString();let ie="";const Ae=Object.assign(Object.assign({},ap),{width:v.toString(),height:D.toString(),top:S,left:$}),De=(0,O.z$)().toLowerCase();f&&(ie=Tr(De)?"_blank":f),Zo(De)&&(d=d||"http://localhost",Ae.scrollbars="yes");const Fe=Object.entries(Ae).reduce((vt,[Vt,Bi])=>`${vt}${Vt}=${Bi},`,"");if(function(_=(0,O.z$)()){var d;return Qi(_)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(De)&&"_self"!==ie)return function(_,d){const f=document.createElement("a");f.href=_,f.target=d;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(v)}(d||"",ie),new fi(null);const Le=window.open(d||"",ie,Fe);be(Le,_,"popup-blocked");try{Le.focus()}catch(vt){}return new fi(Le)}(d,ie,fo())})()}_openRedirect(d,f,v,D){var S=this;return(0,p.Z)(function*(){return yield S._originValidation(d),_=qt(d,f,v,je(),D),tn().location.href=_,new Promise(()=>{});var _})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:D,promise:S}=this.eventManagers[f];return D?Promise.resolve(D):(Cn(S,"If manager is not set, promise should be"),S)}const v=this.initAndGetManager(d);return this.eventManagers[f]={promise:v},v}initAndGetManager(d){var f=this;return(0,p.Z)(function*(){const v=yield function(_){return eh.apply(this,arguments)}(d),D=new um(d);return v.register("authEvent",S=>(be(null==S?void 0:S.authEvent,d,"invalid-auth-event"),{status:D.onEvent(S.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:D},f.iframes[d._key()]=v,D})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(cp,{type:cp},D=>{var S;const $=null===(S=null==D?void 0:D[0])||void 0===S?void 0:S[cp];void 0!==$&&f(!!$),wt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(_){return Mu.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return pn()||Si()||Qi()}}),this.cordovaResolver=At(class{constructor(){this._redirectPersistence=Xt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=va}_initialize(d){var f=this;return(0,p.Z)(function*(){const v=d._key();let D=f.eventManagers.get(v);return D||(D=new sh(d),f.eventManagers.set(v,D),f.attachCallbackListeners(d,D)),D})()}_openPopup(d){wt(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,v,D){var S=this;return(0,p.Z)(function*(){!function(_){var d,f,v,D,S,$,ie,Ae,De,Fe;const Le=Li();be("function"==typeof(null===(d=null==Le?void 0:Le.universalLinks)||void 0===d?void 0:d.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),be(void 0!==(null===(f=null==Le?void 0:Le.BuildInfo)||void 0===f?void 0:f.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),be("function"==typeof(null===(S=null===(D=null===(v=null==Le?void 0:Le.cordova)||void 0===v?void 0:v.plugins)||void 0===D?void 0:D.browsertab)||void 0===S?void 0:S.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),be("function"==typeof(null===(Ae=null===(ie=null===($=null==Le?void 0:Le.cordova)||void 0===$?void 0:$.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===Ae?void 0:Ae.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),be("function"==typeof(null===(Fe=null===(De=null==Le?void 0:Le.cordova)||void 0===De?void 0:De.InAppBrowser)||void 0===Fe?void 0:Fe.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const $=yield S._initialize(d);yield $.initialized(),$.resetRedirect(),Jr.clear(),yield S._originValidation(d);const ie=function(_,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:mr(),postBody:null,tenantId:_.tenantId,error:cn(_,"no-auth-event")}}(d,v,D);yield function(_,d){return Wn()._set(Vs(_),d)}(d,ie);const Ae=yield function(_,d,f){return Da.apply(this,arguments)}(d,ie,f),De=yield function(_){const{cordova:d}=Li();return new Promise(f=>{d.plugins.browsertab.isAvailable(v=>{let D=null;v?d.plugins.browsertab.openUrl(_):D=d.InAppBrowser.open(_,function(_=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),f(D)})})}(Ae);return function(_,d,f){return Hc.apply(this,arguments)}(d,$,De)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function(_){return rh.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:v,handleOpenURL:D,BuildInfo:S}=Li(),$=setTimeout((0,p.Z)(function*(){yield Vn(d),f.onEvent(ah())}),500),ie=function(){var Fe=(0,p.Z)(function*(Le){clearTimeout($);const vt=yield Vn(d);let Vt=null;vt&&(null==Le?void 0:Le.url)&&(Vt=function(_,d){var f,v;const D=function(_){const d=Ou(_),f=d.link?decodeURIComponent(d.link):void 0,v=Ou(f).link,D=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Ou(D).link||D||v||f||_}(d);if(D.includes("/__/auth/callback")){const S=Ou(D),$=S.firebaseError?function(_){try{return JSON.parse(_)}catch(d){return null}}(decodeURIComponent(S.firebaseError)):null,ie=null===(v=null===(f=null==$?void 0:$.code)||void 0===f?void 0:f.split("auth/"))||void 0===v?void 0:v[1],Ae=ie?cn(ie):null;return Ae?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:D,postBody:null}}return null}(vt,Le.url)),f.onEvent(Vt||ah())});return function(vt){return Fe.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,ie);const Ae=D,De=`${S.packageName.toLowerCase()}://`;Li().handleOpenURL=function(){var Fe=(0,p.Z)(function*(Le){if(Le.toLowerCase().startsWith(De)&&ie({url:Le}),"function"==typeof Ae)try{Ae(Le)}catch(vt){console.error(vt)}});return function(Le){return Fe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Xt,this._completeRedirectFn=va}_initialize(d){var f=this;return(0,p.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,v,D){var S=this;return(0,p.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openPopup(d,f,v,D)})()}_openRedirect(d,f,v,D){var S=this;return(0,p.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openRedirect(d,f,v,D)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return El()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,p.Z)(function*(){if(d.underlyingResolver)return;const f=yield function(){return an.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function fh(_){return _.unwrap()}function Nr(_){return Dm(_)}function Dm(_){const{_tokenResponse:d}=_ instanceof O.ZR?_.customData:_;if(!d)return null;if(!(_ instanceof O.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return ae.credentialFromResult(_);const f=d.providerId;if(!f||"password"===f)return null;let v;switch(f){case"google.com":v=As;break;case"facebook.com":v=Ya;break;case"github.com":v=Ss;break;case"twitter.com":v=Gr;break;default:const{oauthIdToken:D,oauthAccessToken:S,oauthTokenSecret:$,pendingToken:ie,nonce:Ae}=d;return S||$||D||ie?ie?f.startsWith("saml.")?Pi._create(f,ie):$n._fromParams({providerId:f,signInMethod:f,pendingToken:ie,idToken:D,accessToken:S}):new _n(f).credential({idToken:D,accessToken:S,rawNonce:Ae}):null}return _ instanceof O.ZR?v.credentialFromError(_):v.credentialFromResult(_)}function Qn(_,d){return d.catch(f=>{throw f instanceof O.ZR&&function(_,d){var f;const v=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new bl(_,function(_,d){var f;const v=(0,O.m9)(_),D=d;return be(d.customData.operationType,v,"argument-error"),be(null===(f=D.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,v,"argument-error"),cl._fromError(v,D)}(_,d));else if(v){const D=Dm(d),S=d;D&&(S.credential=D,S.tenantId=v.tenantId||void 0,S.email=v.email||void 0,S.phoneNumber=v.phoneNumber||void 0)}}(_,f),f}).then(f=>{const D=f.user;return{operationType:f.operationType,credential:Nr(f),additionalUserInfo:kn(f),user:Ui.getOrCreate(D)}})}function Cl(_,d){return mi.apply(this,arguments)}function mi(){return mi=(0,p.Z)(function*(_,d){const f=yield d;return{verificationId:f.verificationId,confirm:v=>Qn(_,f.confirm(v))}}),mi.apply(this,arguments)}class bl{constructor(d,f){this.resolver=f,this.auth=function(_){return _.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Qn(fh(this.auth),this.resolver.resolveSignIn(d))}}class Ui{constructor(d){this._delegate=d,this.multiFactor=function(_){const d=(0,O.m9)(_);return Mn.has(d)||Mn.set(d,fa._fromUser(d)),Mn.get(d)}(d)}static getOrCreate(d){return Ui.USER_MAP.has(d)||Ui.USER_MAP.set(d,new Ui(d)),Ui.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,p.Z)(function*(){return Qn(f.auth,to(f._delegate,d))})()}linkWithPhoneNumber(d,f){var v=this;return(0,p.Z)(function*(){return Cl(v.auth,function(_,d,f){return nn.apply(this,arguments)}(v._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,p.Z)(function*(){return Qn(f.auth,function(_,d,f){return Eo.apply(this,arguments)}(f._delegate,d,Us))})()}linkWithRedirect(d){var f=this;return(0,p.Z)(function*(){return yield Fu(Sn(f.auth)),function(_,d,f){return function(_,d,f){return Lc.apply(this,arguments)}(_,d,f)}(f._delegate,d,Us)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,p.Z)(function*(){return Qn(f.auth,On(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return Cl(this.auth,function(_,d,f){return b.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return Qn(this.auth,function(_,d,f){return or.apply(this,arguments)}(this._delegate,d,Us))}reauthenticateWithRedirect(d){var f=this;return(0,p.Z)(function*(){return yield Fu(Sn(f.auth)),function(_,d,f){return function(_,d,f){return Fc.apply(this,arguments)}(_,d,f)}(f._delegate,d,Us)})()}sendEmailVerification(d){return function(_,d){return Ni.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,p.Z)(function*(){return yield function(_,d){return Ce.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function(_,d){return Dc((0,O.m9)(_),d,null)}(this._delegate,d)}updatePassword(d){return function(_,d){return Dc((0,O.m9)(_),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function(_,d){return q.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function(_,d){return Zt.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function(_,d,f){return uo.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ui.USER_MAP=new WeakMap;const Lu=be;let ph=(()=>{class _{constructor(f,v){if(this.app=f,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=f.options;Lu(D,"invalid-api-key",{appName:f.name});let S=[Ir];if("undefined"!=typeof window){S=function(_,d){const f=hh();if(!(null==f?void 0:f.sessionStorage))return[];const v=dr(Sa,_,d);switch(f.sessionStorage.getItem(v)){case _r.NONE:return[Ir];case _r.LOCAL:return[hi,Xt];case _r.SESSION:return[Xt];default:return[]}}(D,f.name);for(const ie of[hi,pa,Xt])S.includes(ie)||S.push(ie)}Lu(D,"invalid-api-key",{appName:f.name});const $="undefined"!=typeof window?Us:void 0;this._delegate=v.initialize({options:{persistence:S,popupRedirectResolver:$}}),this._delegate._updateErrorMap(Ki),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ui.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,v){!function(_,d,f){const v=Sn(_);be(v._canInitEmulator,v,"emulator-config-failed"),be(/^https?:\/\//.test(d),v,"invalid-emulator-scheme");const D=!!(null==f?void 0:f.disableWarnings),S=Ar(d),{host:$,port:ie}=function(_){const d=Ar(_),f=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!f)return{host:"",port:null};const v=f[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(v);if(D){const S=D[1];return{host:S,port:Uf(v.substr(S.length+1))}}{const[S,$]=v.split(":");return{host:S,port:Uf($)}}}(d);v.config.emulator={url:`${S}//${$}${null===ie?"":`:${ie}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:$,port:ie,protocol:S.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function(){function _(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,f,v)}applyActionCode(f){return function(_,d){return so.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return oo(this._delegate,f)}confirmPasswordReset(f,v){return function(_,d,f){return sa.apply(this,arguments)}(this._delegate,f,v)}createUserWithEmailAndPassword(f,v){var D=this;return(0,p.Z)(function*(){return Qn(D._delegate,function(_,d,f){return lo.apply(this,arguments)}(D._delegate,f,v))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function(_,d){return wc.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function(_,d){const f=ts.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,p.Z)(function*(){Lu(Do(),f._delegate,"operation-not-supported-in-this-environment");const v=yield function(_,d){return Jd.apply(this,arguments)}(f._delegate,Us);return v?Qn(f._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function(_,d){Sn(_)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,v,D){const{next:S,error:$,complete:ie}=To(f,v,D);return this._delegate.onAuthStateChanged(S,$,ie)}onIdTokenChanged(f,v,D){const{next:S,error:$,complete:ie}=To(f,v,D);return this._delegate.onIdTokenChanged(S,$,ie)}sendSignInLinkToEmail(f,v){return function(_,d,f){return wn.apply(this,arguments)}(this._delegate,f,v)}sendPasswordResetEmail(f,v){return function(_,d,f){return io.apply(this,arguments)}(this._delegate,f,v||void 0)}setPersistence(f){var v=this;return(0,p.Z)(function*(){let D;switch(function(_,d){ku(Object.values(_r).includes(d),_,"invalid-persistence-type"),(0,O.b$)()?ku(d!==_r.SESSION,_,"unsupported-persistence-type"):(0,O.UG)()?ku(d===_r.NONE,_,"unsupported-persistence-type"):tt()?ku(d===_r.NONE||d===_r.LOCAL&&(0,O.hl)(),_,"unsupported-persistence-type"):ku(d===_r.NONE||vl(),_,"unsupported-persistence-type")}(v._delegate,f),f){case _r.SESSION:D=Xt;break;case _r.LOCAL:D=(yield At(hi)._isAvailable())?hi:pa;break;case _r.NONE:D=Ir;break;default:return wt("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Qn(this._delegate,function(_){return Ja.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Qn(this._delegate,ia(this._delegate,f))}signInWithCustomToken(f){return Qn(this._delegate,function(_,d){return nl.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,v){return Qn(this._delegate,function(_,d,f){return ia((0,O.m9)(_),Ts.credential(d,f))}(this._delegate,f,v))}signInWithEmailLink(f,v){return Qn(this._delegate,function(_,d,f){return pu.apply(this,arguments)}(this._delegate,f,v))}signInWithPhoneNumber(f,v){return Cl(this._delegate,function(_,d,f){return yo.apply(this,arguments)}(this._delegate,f,v))}signInWithPopup(f){var v=this;return(0,p.Z)(function*(){return Lu(Do(),v._delegate,"operation-not-supported-in-this-environment"),Qn(v._delegate,function(_,d,f){return ya.apply(this,arguments)}(v._delegate,f,Us))})()}signInWithRedirect(f){var v=this;return(0,p.Z)(function*(){return Lu(Do(),v._delegate,"operation-not-supported-in-this-environment"),yield Fu(v._delegate),function(_,d,f){return function(_,d,f){return bo.apply(this,arguments)}(_,d,f)}(v._delegate,f,Us)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function(_,d){return oa.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=_r,_})();function To(_,d,f){let v=_;"function"!=typeof _&&({next:v,error:d,complete:f}=_);const D=v;return{next:$=>D($&&Ui.getOrCreate($)),error:d,complete:f}}class Zc{constructor(){this.providerId="phone",this._delegate=new ae(fh(X.Z.auth()))}static credential(d,f){return ae.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}Zc.PHONE_SIGN_IN_METHOD=ae.PHONE_SIGN_IN_METHOD,Zc.PROVIDER_ID=ae.PROVIDER_ID;const qc=be;class gh{constructor(d,f,v=X.Z.app()){var D;qc(null===(D=v.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Qr(d,f,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(_){_.INTERNAL.registerComponent(new Ve.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),v=d.getProvider("auth");return new ph(f,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ts,FacebookAuthProvider:Ya,GithubAuthProvider:Ss,GoogleAuthProvider:As,OAuthProvider:_n,SAMLAuthProvider:Qa,PhoneAuthProvider:Zc,PhoneMultiFactorGenerator:Mr,RecaptchaVerifier:gh,TwitterAuthProvider:Gr,Auth:ph,AuthCredential:Qs,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.3")}(X.Z)},4995:function(xe,me){!function(x){"use strict";function p(he){return Array.prototype.slice.call(he)}function X(he){return new Promise(function(te,de){he.onsuccess=function(){te(he.result)},he.onerror=function(){de(he.error)}})}function O(he,te,de){var ge,Ie=new Promise(function(Ue,ht){X(ge=he[te].apply(he,de)).then(Ue,ht)});return Ie.request=ge,Ie}function ue(he,te,de){var ge=O(he,te,de);return ge.then(function(Ie){if(Ie)return new k(Ie,ge.request)})}function ne(he,te,de){de.forEach(function(ge){Object.defineProperty(he.prototype,ge,{get:function(){return this[te][ge]},set:function(Ie){this[te][ge]=Ie}})})}function Y(he,te,de,ge){ge.forEach(function(Ie){Ie in de.prototype&&(he.prototype[Ie]=function(){return O(this[te],Ie,arguments)})})}function fe(he,te,de,ge){ge.forEach(function(Ie){Ie in de.prototype&&(he.prototype[Ie]=function(){return this[te][Ie].apply(this[te],arguments)})})}function K(he,te,de,ge){ge.forEach(function(Ie){Ie in de.prototype&&(he.prototype[Ie]=function(){return ue(this[te],Ie,arguments)})})}function J(he){this._index=he}function k(he,te){this._cursor=he,this._request=te}function U(he){this._store=he}function H(he){this._tx=he,this.complete=new Promise(function(te,de){he.oncomplete=function(){te()},he.onerror=function(){de(he.error)},he.onabort=function(){de(he.error)}})}function oe(he,te,de){this._db=he,this.oldVersion=te,this.transaction=new H(de)}function ce(he){this._db=he}ne(J,"_index",["name","keyPath","multiEntry","unique"]),Y(J,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),K(J,"_index",IDBIndex,["openCursor","openKeyCursor"]),ne(k,"_cursor",["direction","key","primaryKey","value"]),Y(k,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(he){he in IDBCursor.prototype&&(k.prototype[he]=function(){var te=this,de=arguments;return Promise.resolve().then(function(){return te._cursor[he].apply(te._cursor,de),X(te._request).then(function(ge){if(ge)return new k(ge,te._request)})})})}),U.prototype.createIndex=function(){return new J(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new J(this._store.index.apply(this._store,arguments))},ne(U,"_store",["name","keyPath","indexNames","autoIncrement"]),Y(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),K(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),fe(U,"_store",IDBObjectStore,["deleteIndex"]),H.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},ne(H,"_tx",["objectStoreNames","mode"]),fe(H,"_tx",IDBTransaction,["abort"]),oe.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},ne(oe,"_db",["name","version","objectStoreNames"]),fe(oe,"_db",IDBDatabase,["deleteObjectStore","close"]),ce.prototype.transaction=function(){return new H(this._db.transaction.apply(this._db,arguments))},ne(ce,"_db",["name","version","objectStoreNames"]),fe(ce,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(he){[U,J].forEach(function(te){he in te.prototype&&(te.prototype[he.replace("open","iterate")]=function(){var de=p(arguments),ge=de[de.length-1],Ie=this._store||this._index,Ue=Ie[he].apply(Ie,de.slice(0,-1));Ue.onsuccess=function(){ge(Ue.result)}})})}),[J,U].forEach(function(he){he.prototype.getAll||(he.prototype.getAll=function(te,de){var ge=this,Ie=[];return new Promise(function(Ue){ge.iterateCursor(te,function(ht){ht?(Ie.push(ht.value),void 0===de||Ie.length!=de?ht.continue():Ue(Ie)):Ue(Ie)})})})}),x.openDb=function(he,te,de){var ge=O(indexedDB,"open",[he,te]),Ie=ge.request;return Ie&&(Ie.onupgradeneeded=function(Ue){de&&de(new oe(Ie.result,Ue.oldVersion,Ie.transaction))}),ge.then(function(Ue){return new ce(Ue)})},x.deleteDb=function(he){return O(indexedDB,"deleteDatabase",[he])},Object.defineProperty(x,"__esModule",{value:!0})}(me)},5548:(xe,me,x)=>{"use strict";x.d(me,{y:()=>U});var p=x(4168),O=x(2926),ue=x(6617),Y=x(1359),fe=x(7255);var k=x(5426);let U=(()=>{class oe{constructor(ye){this._isScalar=!1,ye&&(this._subscribe=ye)}lift(ye){const pe=new oe;return pe.source=this,pe.operator=ye,pe}subscribe(ye,pe,he){const{operator:te}=this,de=function(oe,ce,ye){if(oe){if(oe instanceof p.L)return oe;if(oe[O.b])return oe[O.b]()}return oe||ce||ye?new p.L(oe,ce,ye):new p.L(ue.c)}(ye,pe,he);if(de.add(te?te.call(de,this.source):this.source||k.v.useDeprecatedSynchronousErrorHandling&&!de.syncErrorThrowable?this._subscribe(de):this._trySubscribe(de)),k.v.useDeprecatedSynchronousErrorHandling&&de.syncErrorThrowable&&(de.syncErrorThrowable=!1,de.syncErrorThrown))throw de.syncErrorValue;return de}_trySubscribe(ye){try{return this._subscribe(ye)}catch(pe){k.v.useDeprecatedSynchronousErrorHandling&&(ye.syncErrorThrown=!0,ye.syncErrorValue=pe),function(oe){for(;oe;){const{closed:ce,destination:ye,isStopped:pe}=oe;if(ce||pe)return!1;oe=ye&&ye instanceof p.L?ye:null}return!0}(ye)?ye.error(pe):console.warn(pe)}}forEach(ye,pe){return new(pe=H(pe))((he,te)=>{let de;de=this.subscribe(ge=>{try{ye(ge)}catch(Ie){te(Ie),de&&de.unsubscribe()}},te,he)})}_subscribe(ye){const{source:pe}=this;return pe&&pe.subscribe(ye)}[Y.L](){return this}pipe(...ye){return 0===ye.length?this:function(oe){return 0===oe.length?fe.y:1===oe.length?oe[0]:function(ye){return oe.reduce((pe,he)=>he(pe),ye)}}(ye)(this)}toPromise(ye){return new(ye=H(ye))((pe,he)=>{let te;this.subscribe(de=>te=de,de=>he(de),()=>pe(te))})}}return oe.create=ce=>new oe(ce),oe})();function H(oe){if(oe||(oe=k.v.Promise||Promise),!oe)throw new Error("no Promise impl found");return oe}},6617:(xe,me,x)=>{"use strict";x.d(me,{c:()=>O});var p=x(5426),X=x(9887);const O={closed:!0,next(ue){},error(ue){if(p.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,X.z)(ue)},complete(){}}},3405:(xe,me,x)=>{"use strict";x.d(me,{Yc:()=>fe,xQ:()=>K});var p=x(5548),X=x(4168),O=x(1346),ue=x(2108),ne=x(5973),Y=x(2926);class fe extends X.L{constructor(U){super(U),this.destination=U}}let K=(()=>{class k extends p.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Y.b](){return new fe(this)}lift(H){const oe=new J(this,this);return oe.operator=H,oe}next(H){if(this.closed)throw new ue.N;if(!this.isStopped){const{observers:oe}=this,ce=oe.length,ye=oe.slice();for(let pe=0;pe<ce;pe++)ye[pe].next(H)}}error(H){if(this.closed)throw new ue.N;this.hasError=!0,this.thrownError=H,this.isStopped=!0;const{observers:oe}=this,ce=oe.length,ye=oe.slice();for(let pe=0;pe<ce;pe++)ye[pe].error(H);this.observers.length=0}complete(){if(this.closed)throw new ue.N;this.isStopped=!0;const{observers:H}=this,oe=H.length,ce=H.slice();for(let ye=0;ye<oe;ye++)ce[ye].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(H){if(this.closed)throw new ue.N;return super._trySubscribe(H)}_subscribe(H){if(this.closed)throw new ue.N;return this.hasError?(H.error(this.thrownError),O.w.EMPTY):this.isStopped?(H.complete(),O.w.EMPTY):(this.observers.push(H),new ne.W(this,H))}asObservable(){const H=new p.y;return H.source=this,H}}return k.create=(U,H)=>new J(U,H),k})();class J extends K{constructor(U,H){super(),this.destination=U,this.source=H}next(U){const{destination:H}=this;H&&H.next&&H.next(U)}error(U){const{destination:H}=this;H&&H.error&&this.destination.error(U)}complete(){const{destination:U}=this;U&&U.complete&&this.destination.complete()}_subscribe(U){const{source:H}=this;return H?this.source.subscribe(U):O.w.EMPTY}}},5973:(xe,me,x)=>{"use strict";x.d(me,{W:()=>X});var p=x(1346);class X extends p.w{constructor(ue,ne){super(),this.subject=ue,this.subscriber=ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ue=this.subject,ne=ue.observers;if(this.subject=null,!ne||0===ne.length||ue.isStopped||ue.closed)return;const Y=ne.indexOf(this.subscriber);-1!==Y&&ne.splice(Y,1)}}},4168:(xe,me,x)=>{"use strict";x.d(me,{L:()=>fe});var p=x(6783),X=x(6617),O=x(1346),ue=x(2926),ne=x(5426),Y=x(9887);class fe extends O.w{constructor(k,U,H){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=X.c;break;case 1:if(!k){this.destination=X.c;break}if("object"==typeof k){k instanceof fe?(this.syncErrorThrowable=k.syncErrorThrowable,this.destination=k,k.add(this)):(this.syncErrorThrowable=!0,this.destination=new K(this,k));break}default:this.syncErrorThrowable=!0,this.destination=new K(this,k,U,H)}}[ue.b](){return this}static create(k,U,H){const oe=new fe(k,U,H);return oe.syncErrorThrowable=!1,oe}next(k){this.isStopped||this._next(k)}error(k){this.isStopped||(this.isStopped=!0,this._error(k))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(k){this.destination.next(k)}_error(k){this.destination.error(k),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:k}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=k,this}}class K extends fe{constructor(k,U,H,oe){super(),this._parentSubscriber=k;let ce,ye=this;(0,p.m)(U)?ce=U:U&&(ce=U.next,H=U.error,oe=U.complete,U!==X.c&&(ye=Object.create(U),(0,p.m)(ye.unsubscribe)&&this.add(ye.unsubscribe.bind(ye)),ye.unsubscribe=this.unsubscribe.bind(this))),this._context=ye,this._next=ce,this._error=H,this._complete=oe}next(k){if(!this.isStopped&&this._next){const{_parentSubscriber:U}=this;ne.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?this.__tryOrSetError(U,this._next,k)&&this.unsubscribe():this.__tryOrUnsub(this._next,k)}}error(k){if(!this.isStopped){const{_parentSubscriber:U}=this,{useDeprecatedSynchronousErrorHandling:H}=ne.v;if(this._error)H&&U.syncErrorThrowable?(this.__tryOrSetError(U,this._error,k),this.unsubscribe()):(this.__tryOrUnsub(this._error,k),this.unsubscribe());else if(U.syncErrorThrowable)H?(U.syncErrorValue=k,U.syncErrorThrown=!0):(0,Y.z)(k),this.unsubscribe();else{if(this.unsubscribe(),H)throw k;(0,Y.z)(k)}}}complete(){if(!this.isStopped){const{_parentSubscriber:k}=this;if(this._complete){const U=()=>this._complete.call(this._context);ne.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?(this.__tryOrSetError(k,U),this.unsubscribe()):(this.__tryOrUnsub(U),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(k,U){try{k.call(this._context,U)}catch(H){if(this.unsubscribe(),ne.v.useDeprecatedSynchronousErrorHandling)throw H;(0,Y.z)(H)}}__tryOrSetError(k,U,H){if(!ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{U.call(this._context,H)}catch(oe){return ne.v.useDeprecatedSynchronousErrorHandling?(k.syncErrorValue=oe,k.syncErrorThrown=!0,!0):((0,Y.z)(oe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:k}=this;this._context=null,this._parentSubscriber=null,k.unsubscribe()}}},1346:(xe,me,x)=>{"use strict";x.d(me,{w:()=>Y});var p=x(5894),X=x(7879),O=x(6783);const ne=(()=>{function K(J){return Error.call(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((k,U)=>`${U+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J,this}return K.prototype=Object.create(Error.prototype),K})();class Y{constructor(J){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,J&&(this._ctorUnsubscribe=!0,this._unsubscribe=J)}unsubscribe(){let J;if(this.closed)return;let{_parentOrParents:k,_ctorUnsubscribe:U,_unsubscribe:H,_subscriptions:oe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,k instanceof Y)k.remove(this);else if(null!==k)for(let ce=0;ce<k.length;++ce)k[ce].remove(this);if((0,O.m)(H)){U&&(this._unsubscribe=void 0);try{H.call(this)}catch(ce){J=ce instanceof ne?fe(ce.errors):[ce]}}if((0,p.k)(oe)){let ce=-1,ye=oe.length;for(;++ce<ye;){const pe=oe[ce];if((0,X.K)(pe))try{pe.unsubscribe()}catch(he){J=J||[],he instanceof ne?J=J.concat(fe(he.errors)):J.push(he)}}}if(J)throw new ne(J)}add(J){let k=J;if(!J)return Y.EMPTY;switch(typeof J){case"function":k=new Y(J);case"object":if(k===this||k.closed||"function"!=typeof k.unsubscribe)return k;if(this.closed)return k.unsubscribe(),k;if(!(k instanceof Y)){const oe=k;k=new Y,k._subscriptions=[oe]}break;default:throw new Error("unrecognized teardown "+J+" added to Subscription.")}let{_parentOrParents:U}=k;if(null===U)k._parentOrParents=this;else if(U instanceof Y){if(U===this)return k;k._parentOrParents=[U,this]}else{if(-1!==U.indexOf(this))return k;U.push(this)}const H=this._subscriptions;return null===H?this._subscriptions=[k]:H.push(k),k}remove(J){const k=this._subscriptions;if(k){const U=k.indexOf(J);-1!==U&&k.splice(U,1)}}}var K;function fe(K){return K.reduce((J,k)=>J.concat(k instanceof ne?k.errors:k),[])}Y.EMPTY=((K=new Y).closed=!0,K)},5426:(xe,me,x)=>{"use strict";x.d(me,{v:()=>X});let p=!1;const X={Promise:void 0,set useDeprecatedSynchronousErrorHandling(O){if(O){const ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ue.stack)}else p&&console.log("RxJS: Back to a better error behavior. Thank you. <3");p=O},get useDeprecatedSynchronousErrorHandling(){return p}}},8345:(xe,me,x)=>{"use strict";x.d(me,{IY:()=>ue,Ds:()=>Y,ft:()=>K});var p=x(4168),X=x(5548),O=x(4651);class ue extends p.L{constructor(k){super(),this.parent=k}_next(k){this.parent.notifyNext(k)}_error(k){this.parent.notifyError(k),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Y extends p.L{notifyNext(k){this.destination.next(k)}notifyError(k){this.destination.error(k)}notifyComplete(){this.destination.complete()}}function K(J,k){if(k.closed)return;if(J instanceof X.y)return J.subscribe(k);let U;try{U=(0,O.s)(J)(k)}catch(H){k.error(H)}return U}},5783:(xe,me,x)=>{"use strict";x.d(me,{c:()=>ne,N:()=>Y});var p=x(3405),X=x(5548),O=x(1346),ue=x(5234);class ne extends X.y{constructor(U,H){super(),this.source=U,this.subjectFactory=H,this._refCount=0,this._isComplete=!1}_subscribe(U){return this.getSubject().subscribe(U)}getSubject(){const U=this._subject;return(!U||U.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let U=this._connection;return U||(this._isComplete=!1,U=this._connection=new O.w,U.add(this.source.subscribe(new fe(this.getSubject(),this))),U.closed&&(this._connection=null,U=O.w.EMPTY)),U}refCount(){return(0,ue.x)()(this)}}const Y=(()=>{const k=ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:k._subscribe},_isComplete:{value:k._isComplete,writable:!0},getSubject:{value:k.getSubject},connect:{value:k.connect},refCount:{value:k.refCount}}})();class fe extends p.Yc{constructor(U,H){super(U),this.connectable=H}_error(U){this._unsubscribe(),super._error(U)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const U=this.connectable;if(U){this.connectable=null;const H=U._connection;U._refCount=0,U._subject=null,U._connection=null,H&&H.unsubscribe()}}}},172:(xe,me,x)=>{"use strict";x.d(me,{E:()=>X,c:()=>O});var p=x(5548);const X=new p.y(ne=>ne.complete());function O(ne){return ne?function(ne){return new p.y(Y=>ne.schedule(()=>Y.complete()))}(ne):X}},1915:(xe,me,x)=>{"use strict";x.d(me,{D:()=>ye});var p=x(5548),X=x(4651),O=x(1346),ue=x(1359),fe=x(3428),K=x(4352),U=x(847),H=x(1265);function ye(pe,he){return he?function(pe,he){if(null!=pe){if(function(pe){return pe&&"function"==typeof pe[ue.L]}(pe))return function(pe,he){return new p.y(te=>{const de=new O.w;return de.add(he.schedule(()=>{const ge=pe[ue.L]();de.add(ge.subscribe({next(Ie){de.add(he.schedule(()=>te.next(Ie)))},error(Ie){de.add(he.schedule(()=>te.error(Ie)))},complete(){de.add(he.schedule(()=>te.complete()))}}))})),de})}(pe,he);if((0,U.t)(pe))return function(pe,he){return new p.y(te=>{const de=new O.w;return de.add(he.schedule(()=>pe.then(ge=>{de.add(he.schedule(()=>{te.next(ge),de.add(he.schedule(()=>te.complete()))}))},ge=>{de.add(he.schedule(()=>te.error(ge)))}))),de})}(pe,he);if((0,H.z)(pe))return(0,fe.r)(pe,he);if(function(pe){return pe&&"function"==typeof pe[K.hZ]}(pe)||"string"==typeof pe)return function(pe,he){if(!pe)throw new Error("Iterable cannot be null");return new p.y(te=>{const de=new O.w;let ge;return de.add(()=>{ge&&"function"==typeof ge.return&&ge.return()}),de.add(he.schedule(()=>{ge=pe[K.hZ](),de.add(he.schedule(function(){if(te.closed)return;let Ie,Ue;try{const ht=ge.next();Ie=ht.value,Ue=ht.done}catch(ht){return void te.error(ht)}Ue?te.complete():(te.next(Ie),this.schedule())}))})),de})}(pe,he)}throw new TypeError((null!==pe&&typeof pe||pe)+" is not observable")}(pe,he):pe instanceof p.y?pe:new p.y((0,X.s)(pe))}},5433:(xe,me,x)=>{"use strict";x.d(me,{n:()=>ue});var p=x(5548),X=x(8769),O=x(3428);function ue(ne,Y){return Y?(0,O.r)(ne,Y):new p.y((0,X.V)(ne))}},8526:(xe,me,x)=>{"use strict";x.d(me,{T:()=>ne});var p=x(5548),X=x(8151),O=x(2225),ue=x(5433);function ne(...Y){let fe=Number.POSITIVE_INFINITY,K=null,J=Y[Y.length-1];return(0,X.K)(J)?(K=Y.pop(),Y.length>1&&"number"==typeof Y[Y.length-1]&&(fe=Y.pop())):"number"==typeof J&&(fe=Y.pop()),null===K&&1===Y.length&&Y[0]instanceof p.y?Y[0]:(0,O.J)(fe)((0,ue.n)(Y,K))}},2411:(xe,me,x)=>{"use strict";x.d(me,{of:()=>ue});var p=x(8151),X=x(5433),O=x(3428);function ue(...ne){let Y=ne[ne.length-1];return(0,p.K)(Y)?(ne.pop(),(0,O.r)(ne,Y)):(0,X.n)(ne)}},8053:(xe,me,x)=>{"use strict";x.d(me,{U:()=>X});var p=x(4168);function X(ne,Y){return function(K){if("function"!=typeof ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return K.lift(new O(ne,Y))}}class O{constructor(Y,fe){this.project=Y,this.thisArg=fe}call(Y,fe){return fe.subscribe(new ue(Y,this.project,this.thisArg))}}class ue extends p.L{constructor(Y,fe,K){super(Y),this.project=fe,this.count=0,this.thisArg=K||this}_next(Y){let fe;try{fe=this.project.call(this.thisArg,Y,this.count++)}catch(K){return void this.destination.error(K)}this.destination.next(fe)}}},2225:(xe,me,x)=>{"use strict";x.d(me,{J:()=>O});var p=x(4421),X=x(7255);function O(ue=Number.POSITIVE_INFINITY){return(0,p.zg)(X.y,ue)}},4421:(xe,me,x)=>{"use strict";x.d(me,{zg:()=>ue});var p=x(8053),X=x(1915),O=x(8345);function ue(K,J,k=Number.POSITIVE_INFINITY){return"function"==typeof J?U=>U.pipe(ue((H,oe)=>(0,X.D)(K(H,oe)).pipe((0,p.U)((ce,ye)=>J(H,ce,oe,ye))),k)):("number"==typeof J&&(k=J),U=>U.lift(new ne(K,k)))}class ne{constructor(J,k=Number.POSITIVE_INFINITY){this.project=J,this.concurrent=k}call(J,k){return k.subscribe(new Y(J,this.project,this.concurrent))}}class Y extends O.Ds{constructor(J,k,U=Number.POSITIVE_INFINITY){super(J),this.project=k,this.concurrent=U,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(J){this.active<this.concurrent?this._tryNext(J):this.buffer.push(J)}_tryNext(J){let k;const U=this.index++;try{k=this.project(J,U)}catch(H){return void this.destination.error(H)}this.active++,this._innerSub(k)}_innerSub(J){const k=new O.IY(this),U=this.destination;U.add(k);const H=(0,O.ft)(J,k);H!==k&&U.add(H)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(J){this.destination.next(J)}notifyComplete(){const J=this.buffer;this.active--,J.length>0?this._next(J.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9254:(xe,me,x)=>{"use strict";x.d(me,{ht:()=>U,QV:()=>J});var p=x(4168),X=x(172),O=x(2411),ue=x(5548);class K{constructor(ce,ye,pe){this.kind=ce,this.value=ye,this.error=pe,this.hasValue="N"===ce}observe(ce){switch(this.kind){case"N":return ce.next&&ce.next(this.value);case"E":return ce.error&&ce.error(this.error);case"C":return ce.complete&&ce.complete()}}do(ce,ye,pe){switch(this.kind){case"N":return ce&&ce(this.value);case"E":return ye&&ye(this.error);case"C":return pe&&pe()}}accept(ce,ye,pe){return ce&&"function"==typeof ce.next?this.observe(ce):this.do(ce,ye,pe)}toObservable(){switch(this.kind){case"N":return(0,O.of)(this.value);case"E":return oe=this.error,new ue.y(ye=>ye.error(oe));case"C":return(0,X.c)()}var oe;throw new Error("unexpected notification kind value")}static createNext(ce){return void 0!==ce?new K("N",ce):K.undefinedValueNotification}static createError(ce){return new K("E",void 0,ce)}static createComplete(){return K.completeNotification}}function J(oe,ce=0){return function(pe){return pe.lift(new k(oe,ce))}}K.completeNotification=new K("C"),K.undefinedValueNotification=new K("N",void 0);class k{constructor(ce,ye=0){this.scheduler=ce,this.delay=ye}call(ce,ye){return ye.subscribe(new U(ce,this.scheduler,this.delay))}}class U extends p.L{constructor(ce,ye,pe=0){super(ce),this.scheduler=ye,this.delay=pe}static dispatch(ce){const{notification:ye,destination:pe}=ce;ye.observe(pe),this.unsubscribe()}scheduleMessage(ce){this.destination.add(this.scheduler.schedule(U.dispatch,this.delay,new H(ce,this.destination)))}_next(ce){this.scheduleMessage(K.createNext(ce))}_error(ce){this.scheduleMessage(K.createError(ce)),this.unsubscribe()}_complete(){this.scheduleMessage(K.createComplete()),this.unsubscribe()}}class H{constructor(ce,ye){this.notification=ce,this.destination=ye}}},5234:(xe,me,x)=>{"use strict";x.d(me,{x:()=>X});var p=x(4168);function X(){return function(Y){return Y.lift(new O(Y))}}class O{constructor(Y){this.connectable=Y}call(Y,fe){const{connectable:K}=this;K._refCount++;const J=new ue(Y,K),k=fe.subscribe(J);return J.closed||(J.connection=K.connect()),k}}class ue extends p.L{constructor(Y,fe){super(Y),this.connectable=fe}_unsubscribe(){const{connectable:Y}=this;if(!Y)return void(this.connection=null);this.connectable=null;const fe=Y._refCount;if(fe<=0)return void(this.connection=null);if(Y._refCount=fe-1,fe>1)return void(this.connection=null);const{connection:K}=this,J=Y._connection;this.connection=null,J&&(!K||J===K)&&J.unsubscribe()}}},6669:(xe,me,x)=>{"use strict";x.d(me,{B:()=>fe});var p=x(5783);var ue=x(5234),ne=x(3405);function Y(){return new ne.xQ}function fe(){return K=>(0,ue.x)()(function(K,J){return function(U){let H;H="function"==typeof K?K:function(){return K};const oe=Object.create(U,p.N);return oe.source=U,oe.subjectFactory=H,oe}}(Y)(K))}},2698:(xe,me,x)=>{"use strict";x.d(me,{R:()=>he});var p=x(5548);let X=1;const O=Promise.resolve(),ue={};function ne(de){return de in ue&&(delete ue[de],!0)}const Y={setImmediate(de){const ge=X++;return ue[ge]=!0,O.then(()=>ne(ge)&&de()),ge},clearImmediate(de){ne(de)}};var K=x(6339),k=x(5192);const oe=new class extends k.v{flush(ge){this.active=!0,this.scheduled=void 0;const{actions:Ie}=this;let Ue,ht=-1,Ct=Ie.length;ge=ge||Ie.shift();do{if(Ue=ge.execute(ge.state,ge.delay))break}while(++ht<Ct&&(ge=Ie.shift()));if(this.active=!1,Ue){for(;++ht<Ct&&(ge=Ie.shift());)ge.unsubscribe();throw Ue}}}(class extends K.o{constructor(ge,Ie){super(ge,Ie),this.scheduler=ge,this.work=Ie}requestAsyncId(ge,Ie,Ue=0){return null!==Ue&&Ue>0?super.requestAsyncId(ge,Ie,Ue):(ge.actions.push(this),ge.scheduled||(ge.scheduled=Y.setImmediate(ge.flush.bind(ge,null))))}recycleAsyncId(ge,Ie,Ue=0){if(null!==Ue&&Ue>0||null===Ue&&this.delay>0)return super.recycleAsyncId(ge,Ie,Ue);0===ge.actions.length&&(Y.clearImmediate(Ie),ge.scheduled=void 0)}});var ce=x(5894);class pe extends p.y{constructor(ge,Ie=0,Ue=oe){var de;super(),this.source=ge,this.delayTime=Ie,this.scheduler=Ue,(!(!(0,ce.k)(de=Ie)&&de-parseFloat(de)+1>=0)||Ie<0)&&(this.delayTime=0),(!Ue||"function"!=typeof Ue.schedule)&&(this.scheduler=oe)}static create(ge,Ie=0,Ue=oe){return new pe(ge,Ie,Ue)}static dispatch(ge){const{source:Ie,subscriber:Ue}=ge;return this.add(Ie.subscribe(Ue))}_subscribe(ge){return this.scheduler.schedule(pe.dispatch,this.delayTime,{source:this.source,subscriber:ge})}}function he(de,ge=0){return function(Ue){return Ue.lift(new te(de,ge))}}class te{constructor(ge,Ie){this.scheduler=ge,this.delay=Ie}call(ge,Ie){return new pe(Ie,this.delay,this.scheduler).subscribe(ge)}}},5722:(xe,me,x)=>{"use strict";x.d(me,{b:()=>ue});var p=x(4168);function X(){}var O=x(6783);function ue(fe,K,J){return function(U){return U.lift(new ne(fe,K,J))}}class ne{constructor(K,J,k){this.nextOrObserver=K,this.error=J,this.complete=k}call(K,J){return J.subscribe(new Y(K,this.nextOrObserver,this.error,this.complete))}}class Y extends p.L{constructor(K,J,k,U){super(K),this._tapNext=X,this._tapError=X,this._tapComplete=X,this._tapError=k||X,this._tapComplete=U||X,(0,O.m)(J)?(this._context=this,this._tapNext=J):J&&(this._context=J,this._tapNext=J.next||X,this._tapError=J.error||X,this._tapComplete=J.complete||X)}_next(K){try{this._tapNext.call(this._context,K)}catch(J){return void this.destination.error(J)}this.destination.next(K)}_error(K){try{this._tapError.call(this._context,K)}catch(J){return void this.destination.error(J)}this.destination.error(K)}_complete(){try{this._tapComplete.call(this._context)}catch(K){return void this.destination.error(K)}return this.destination.complete()}}},3428:(xe,me,x)=>{"use strict";x.d(me,{r:()=>O});var p=x(5548),X=x(1346);function O(ue,ne){return new p.y(Y=>{const fe=new X.w;let K=0;return fe.add(ne.schedule(function(){K!==ue.length?(Y.next(ue[K++]),Y.closed||fe.add(this.schedule())):Y.complete()})),fe})}},6339:(xe,me,x)=>{"use strict";x.d(me,{o:()=>O});var p=x(1346);class X extends p.w{constructor(ne,Y){super()}schedule(ne,Y=0){return this}}class O extends X{constructor(ne,Y){super(ne,Y),this.scheduler=ne,this.work=Y,this.pending=!1}schedule(ne,Y=0){if(this.closed)return this;this.state=ne;const fe=this.id,K=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(K,fe,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(K,this.id,Y),this}requestAsyncId(ne,Y,fe=0){return setInterval(ne.flush.bind(ne,this),fe)}recycleAsyncId(ne,Y,fe=0){if(null!==fe&&this.delay===fe&&!1===this.pending)return Y;clearInterval(Y)}execute(ne,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ne,Y);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,Y){let K,fe=!1;try{this.work(ne)}catch(J){fe=!0,K=!!J&&J||new Error(J)}if(fe)return this.unsubscribe(),K}_unsubscribe(){const ne=this.id,Y=this.scheduler,fe=Y.actions,K=fe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==K&&fe.splice(K,1),null!=ne&&(this.id=this.recycleAsyncId(Y,ne,null)),this.delay=null}}},5192:(xe,me,x)=>{"use strict";x.d(me,{v:()=>X});let p=(()=>{class O{constructor(ne,Y=O.now){this.SchedulerAction=ne,this.now=Y}schedule(ne,Y=0,fe){return new this.SchedulerAction(this,ne).schedule(fe,Y)}}return O.now=()=>Date.now(),O})();class X extends p{constructor(ue,ne=p.now){super(ue,()=>X.delegate&&X.delegate!==this?X.delegate.now():ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ue,ne=0,Y){return X.delegate&&X.delegate!==this?X.delegate.schedule(ue,ne,Y):super.schedule(ue,ne,Y)}flush(ue){const{actions:ne}=this;if(this.active)return void ne.push(ue);let Y;this.active=!0;do{if(Y=ue.execute(ue.state,ue.delay))break}while(ue=ne.shift());if(this.active=!1,Y){for(;ue=ne.shift();)ue.unsubscribe();throw Y}}}},8178:(xe,me,x)=>{"use strict";x.d(me,{z:()=>O});var p=x(6339);const O=new(x(5192).v)(p.o)},7575:(xe,me,x)=>{"use strict";x.d(me,{c:()=>Y,N:()=>ne});var p=x(6339),O=x(5192);const ne=new class extends O.v{}(class extends p.o{constructor(K,J){super(K,J),this.scheduler=K,this.work=J}schedule(K,J=0){return J>0?super.schedule(K,J):(this.delay=J,this.state=K,this.scheduler.flush(this),this)}execute(K,J){return J>0||this.closed?super.execute(K,J):this._execute(K,J)}requestAsyncId(K,J,k=0){return null!==k&&k>0||null===k&&this.delay>0?super.requestAsyncId(K,J,k):K.flush(this)}}),Y=ne},4352:(xe,me,x)=>{"use strict";x.d(me,{hZ:()=>X});const X="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},1359:(xe,me,x)=>{"use strict";x.d(me,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},2926:(xe,me,x)=>{"use strict";x.d(me,{b:()=>p});const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},2108:(xe,me,x)=>{"use strict";x.d(me,{N:()=>X});const X=(()=>{function O(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return O.prototype=Object.create(Error.prototype),O})()},9887:(xe,me,x)=>{"use strict";function p(X){setTimeout(()=>{throw X},0)}x.d(me,{z:()=>p})},7255:(xe,me,x)=>{"use strict";function p(X){return X}x.d(me,{y:()=>p})},5894:(xe,me,x)=>{"use strict";x.d(me,{k:()=>p});const p=Array.isArray||(X=>X&&"number"==typeof X.length)},1265:(xe,me,x)=>{"use strict";x.d(me,{z:()=>p});const p=X=>X&&"number"==typeof X.length&&"function"!=typeof X},6783:(xe,me,x)=>{"use strict";function p(X){return"function"==typeof X}x.d(me,{m:()=>p})},7879:(xe,me,x)=>{"use strict";function p(X){return null!==X&&"object"==typeof X}x.d(me,{K:()=>p})},847:(xe,me,x)=>{"use strict";function p(X){return!!X&&"function"!=typeof X.subscribe&&"function"==typeof X.then}x.d(me,{t:()=>p})},8151:(xe,me,x)=>{"use strict";function p(X){return X&&"function"==typeof X.schedule}x.d(me,{K:()=>p})},4651:(xe,me,x)=>{"use strict";x.d(me,{s:()=>U});var p=x(8769),X=x(9887),ue=x(4352),Y=x(1359),K=x(1265),J=x(847),k=x(7879);const U=H=>{if(H&&"function"==typeof H[Y.L])return(H=>oe=>{const ce=H[Y.L]();if("function"!=typeof ce.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ce.subscribe(oe)})(H);if((0,K.z)(H))return(0,p.V)(H);if((0,J.t)(H))return(H=>oe=>(H.then(ce=>{oe.closed||(oe.next(ce),oe.complete())},ce=>oe.error(ce)).then(null,X.z),oe))(H);if(H&&"function"==typeof H[ue.hZ])return(H=>oe=>{const ce=H[ue.hZ]();for(;;){let ye;try{ye=ce.next()}catch(pe){return oe.error(pe),oe}if(ye.done){oe.complete();break}if(oe.next(ye.value),oe.closed)break}return"function"==typeof ce.return&&oe.add(()=>{ce.return&&ce.return()}),oe})(H);{const ce=`You provided ${(0,k.K)(H)?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ce)}}},8769:(xe,me,x)=>{"use strict";x.d(me,{V:()=>p});const p=X=>O=>{for(let ue=0,ne=X.length;ue<ne&&!O.closed;ue++)O.next(X[ue]);O.complete()}},3730:(xe,me,x)=>{"use strict";var p=x(3668);let X=null;function O(){return X}const fe=new p.OlP("DocumentToken");let K=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({token:i,factory:function(){return(0,p.LFG)(U)},providedIn:"platform"}),i})();const k=new p.OlP("Location Initialized");let U=(()=>{class i extends K{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const o=O().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=O().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,l){H()?this._history.pushState(e,o,l):this.location.hash=l}replaceState(e,o,l){H()?this._history.replaceState(e,o,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(fe))},i.\u0275prov=p.Yz7({token:i,factory:function(){return new U((0,p.LFG)(fe))},providedIn:"platform"}),i})();function H(){return!!window.history.pushState}function ce(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function ye(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function pe(i){return i&&"?"!==i[0]?"?"+i:i}let he=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({token:i,factory:function(){return function(i){const t=(0,p.LFG)(fe).location;return new ge((0,p.LFG)(K),t&&t.origin||"")}()},providedIn:"root"}),i})();const de=new p.OlP("appBaseHref");let ge=(()=>{class i extends he{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ce(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+pe(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${o}${l}`:o}pushState(e,o,l,h){const m=this.prepareExternalUrl(l+pe(h));this._platformLocation.pushState(e,o,m)}replaceState(e,o,l,h){const m=this.prepareExternalUrl(l+pe(h));this._platformLocation.replaceState(e,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null==(l=(o=this._platformLocation).historyGo)||l.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(K),p.LFG(de,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),Ie=(()=>{class i extends he{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=ce(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,l,h){let m=this.prepareExternalUrl(l+pe(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(e,o,m)}replaceState(e,o,l,h){let m=this.prepareExternalUrl(l+pe(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null==(l=(o=this._platformLocation).historyGo)||l.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(K),p.LFG(de,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),Ue=(()=>{class i{constructor(e,o){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const l=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=ye(lt(l)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+pe(o))}normalize(e){return i.stripTrailingSlash(function(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,lt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",l=null){this._platformStrategy.pushState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+pe(o)),l)}replaceState(e,o="",l=null){this._platformStrategy.replaceState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+pe(o)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,l;null==(l=(o=this._platformStrategy).historyGo)||l.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(l=>l(e,o))}subscribe(e,o,l){return this._subject.subscribe({next:e,error:o,complete:l})}}return i.normalizeQueryParams=pe,i.joinWithSlash=ce,i.stripTrailingSlash=ye,i.\u0275fac=function(e){return new(e||i)(p.LFG(he),p.LFG(K))},i.\u0275prov=p.Yz7({token:i,factory:function(){return new Ue((0,p.LFG)(he),(0,p.LFG)(K))},providedIn:"root"}),i})();function lt(i){return i.replace(/\/index.html$/,"")}var Qe=(()=>((Qe=Qe||{})[Qe.Zero=0]="Zero",Qe[Qe.One=1]="One",Qe[Qe.Two=2]="Two",Qe[Qe.Few=3]="Few",Qe[Qe.Many=4]="Many",Qe[Qe.Other=5]="Other",Qe))(),xt=(()=>((xt=xt||{})[xt.Format=0]="Format",xt[xt.Standalone=1]="Standalone",xt))(),Je=(()=>((Je=Je||{})[Je.Narrow=0]="Narrow",Je[Je.Abbreviated=1]="Abbreviated",Je[Je.Wide=2]="Wide",Je[Je.Short=3]="Short",Je))(),bt=(()=>((bt=bt||{})[bt.Short=0]="Short",bt[bt.Medium=1]="Medium",bt[bt.Long=2]="Long",bt[bt.Full=3]="Full",bt))(),Ve=(()=>((Ve=Ve||{})[Ve.Decimal=0]="Decimal",Ve[Ve.Group=1]="Group",Ve[Ve.List=2]="List",Ve[Ve.PercentSign=3]="PercentSign",Ve[Ve.PlusSign=4]="PlusSign",Ve[Ve.MinusSign=5]="MinusSign",Ve[Ve.Exponential=6]="Exponential",Ve[Ve.SuperscriptingExponent=7]="SuperscriptingExponent",Ve[Ve.PerMille=8]="PerMille",Ve[Ve.Infinity=9]="Infinity",Ve[Ve.NaN=10]="NaN",Ve[Ve.TimeSeparator=11]="TimeSeparator",Ve[Ve.CurrencyDecimal=12]="CurrencyDecimal",Ve[Ve.CurrencyGroup=13]="CurrencyGroup",Ve))();function ii(i,t){return At((0,p.cg1)(i)[p.wAp.DateFormat],t)}function Qt(i,t){return At((0,p.cg1)(i)[p.wAp.TimeFormat],t)}function Ks(i,t){return At((0,p.cg1)(i)[p.wAp.DateTimeFormat],t)}function un(i,t){const e=(0,p.cg1)(i),o=e[p.wAp.NumberSymbols][t];if(void 0===o){if(t===Ve.CurrencyDecimal)return e[p.wAp.NumberSymbols][Ve.Decimal];if(t===Ve.CurrencyGroup)return e[p.wAp.NumberSymbols][Ve.Group]}return o}const si=p.kL8;function be(i){if(!i[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function At(i,t){for(let e=t;e>-1;e--)if(void 0!==i[e])return i[e];throw new Error("Locale data API: locale data undefined")}function Ur(i){const[t,e]=i.split(":");return{hours:+t,minutes:+e}}const ft=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pt={},Xn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Rt=(()=>((Rt=Rt||{})[Rt.Short=0]="Short",Rt[Rt.ShortGMT=1]="ShortGMT",Rt[Rt.Long=2]="Long",Rt[Rt.Extended=3]="Extended",Rt))(),Re=(()=>((Re=Re||{})[Re.FullYear=0]="FullYear",Re[Re.Month=1]="Month",Re[Re.Date=2]="Date",Re[Re.Hours=3]="Hours",Re[Re.Minutes=4]="Minutes",Re[Re.Seconds=5]="Seconds",Re[Re.FractionalSeconds=6]="FractionalSeconds",Re[Re.Day=7]="Day",Re))(),Be=(()=>((Be=Be||{})[Be.DayPeriods=0]="DayPeriods",Be[Be.Days=1]="Days",Be[Be.Months=2]="Months",Be[Be.Eras=3]="Eras",Be))();function Ql(i,t,e,o){let l=function(i){if(Xl(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[l,h=1,m=1]=i.split("-").map(C=>+C);return Yi(l,h-1,m)}const e=parseFloat(i);if(!isNaN(i-e))return new Date(e);let o;if(o=i.match(ft))return function(i){const t=new Date(0);let e=0,o=0;const l=i[8]?t.setUTCFullYear:t.setFullYear,h=i[8]?t.setUTCHours:t.setHours;i[9]&&(e=Number(i[9]+i[10]),o=Number(i[9]+i[11])),l.call(t,Number(i[1]),Number(i[2])-1,Number(i[3]));const m=Number(i[4]||0)-e,C=Number(i[5]||0)-o,I=Number(i[6]||0),M=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return h.call(t,m,C,I,M),t}(o)}const t=new Date(i);if(!Xl(t))throw new Error(`Unable to convert "${i}" into a date`);return t}(i);t=kt(e,t)||t;let C,m=[];for(;t;){if(C=Xn.exec(t),!C){m.push(t);break}{m=m.concat(C.slice(1));const W=m.pop();if(!W)break;t=W}}let I=l.getTimezoneOffset();o&&(I=Cs(o,I),l=function(i,t,e){const l=i.getTimezoneOffset();return function(i,t){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+t),i}(i,-1*(Cs(t,l)-l))}(l,o));let M="";return m.forEach(W=>{const V=function(i){if(yt[i])return yt[i];let t;switch(i){case"G":case"GG":case"GGG":t=z(Be.Eras,Je.Abbreviated);break;case"GGGG":t=z(Be.Eras,Je.Wide);break;case"GGGGG":t=z(Be.Eras,Je.Narrow);break;case"y":t=G(Re.FullYear,1,0,!1,!0);break;case"yy":t=G(Re.FullYear,2,0,!0,!0);break;case"yyy":t=G(Re.FullYear,3,0,!1,!0);break;case"yyyy":t=G(Re.FullYear,4,0,!1,!0);break;case"Y":t=tr(1);break;case"YY":t=tr(2,!0);break;case"YYY":t=tr(3);break;case"YYYY":t=tr(4);break;case"M":case"L":t=G(Re.Month,1,1);break;case"MM":case"LL":t=G(Re.Month,2,1);break;case"MMM":t=z(Be.Months,Je.Abbreviated);break;case"MMMM":t=z(Be.Months,Je.Wide);break;case"MMMMM":t=z(Be.Months,Je.Narrow);break;case"LLL":t=z(Be.Months,Je.Abbreviated,xt.Standalone);break;case"LLLL":t=z(Be.Months,Je.Wide,xt.Standalone);break;case"LLLLL":t=z(Be.Months,Je.Narrow,xt.Standalone);break;case"w":t=dn(1);break;case"ww":t=dn(2);break;case"W":t=dn(1,!0);break;case"d":t=G(Re.Date,1);break;case"dd":t=G(Re.Date,2);break;case"c":case"cc":t=G(Re.Day,1);break;case"ccc":t=z(Be.Days,Je.Abbreviated,xt.Standalone);break;case"cccc":t=z(Be.Days,Je.Wide,xt.Standalone);break;case"ccccc":t=z(Be.Days,Je.Narrow,xt.Standalone);break;case"cccccc":t=z(Be.Days,Je.Short,xt.Standalone);break;case"E":case"EE":case"EEE":t=z(Be.Days,Je.Abbreviated);break;case"EEEE":t=z(Be.Days,Je.Wide);break;case"EEEEE":t=z(Be.Days,Je.Narrow);break;case"EEEEEE":t=z(Be.Days,Je.Short);break;case"a":case"aa":case"aaa":t=z(Be.DayPeriods,Je.Abbreviated);break;case"aaaa":t=z(Be.DayPeriods,Je.Wide);break;case"aaaaa":t=z(Be.DayPeriods,Je.Narrow);break;case"b":case"bb":case"bbb":t=z(Be.DayPeriods,Je.Abbreviated,xt.Standalone,!0);break;case"bbbb":t=z(Be.DayPeriods,Je.Wide,xt.Standalone,!0);break;case"bbbbb":t=z(Be.DayPeriods,Je.Narrow,xt.Standalone,!0);break;case"B":case"BB":case"BBB":t=z(Be.DayPeriods,Je.Abbreviated,xt.Format,!0);break;case"BBBB":t=z(Be.DayPeriods,Je.Wide,xt.Format,!0);break;case"BBBBB":t=z(Be.DayPeriods,Je.Narrow,xt.Format,!0);break;case"h":t=G(Re.Hours,1,-12);break;case"hh":t=G(Re.Hours,2,-12);break;case"H":t=G(Re.Hours,1);break;case"HH":t=G(Re.Hours,2);break;case"m":t=G(Re.Minutes,1);break;case"mm":t=G(Re.Minutes,2);break;case"s":t=G(Re.Seconds,1);break;case"ss":t=G(Re.Seconds,2);break;case"S":t=G(Re.FractionalSeconds,1);break;case"SS":t=G(Re.FractionalSeconds,2);break;case"SSS":t=G(Re.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=re(Rt.Short);break;case"ZZZZZ":t=re(Rt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=re(Rt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=re(Rt.Long);break;default:return null}return yt[i]=t,t}(W);M+=V?V(l,e,I):"''"===W?"'":W.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),M}function Yi(i,t,e){const o=new Date(0);return o.setFullYear(i,t,e),o.setHours(0,0,0),o}function kt(i,t){const e=function(i){return(0,p.cg1)(i)[p.wAp.LocaleId]}(i);if(pt[e]=pt[e]||{},pt[e][t])return pt[e][t];let o="";switch(t){case"shortDate":o=ii(i,bt.Short);break;case"mediumDate":o=ii(i,bt.Medium);break;case"longDate":o=ii(i,bt.Long);break;case"fullDate":o=ii(i,bt.Full);break;case"shortTime":o=Qt(i,bt.Short);break;case"mediumTime":o=Qt(i,bt.Medium);break;case"longTime":o=Qt(i,bt.Long);break;case"fullTime":o=Qt(i,bt.Full);break;case"short":const l=kt(i,"shortTime"),h=kt(i,"shortDate");o=Xe(Ks(i,bt.Short),[l,h]);break;case"medium":const m=kt(i,"mediumTime"),C=kt(i,"mediumDate");o=Xe(Ks(i,bt.Medium),[m,C]);break;case"long":const I=kt(i,"longTime"),M=kt(i,"longDate");o=Xe(Ks(i,bt.Long),[I,M]);break;case"full":const W=kt(i,"fullTime"),V=kt(i,"fullDate");o=Xe(Ks(i,bt.Full),[W,V])}return o&&(pt[e][t]=o),o}function Xe(i,t){return t&&(i=i.replace(/\{([^}]+)}/g,function(e,o){return null!=t&&o in t?t[o]:e})),i}function er(i,t,e="-",o,l){let h="";(i<0||l&&i<=0)&&(l?i=1-i:(i=-i,h=e));let m=String(i);for(;m.length<t;)m="0"+m;return o&&(m=m.substr(m.length-t)),h+m}function G(i,t,e=0,o=!1,l=!1){return function(h,m){let C=function(i,t){switch(i){case Re.FullYear:return t.getFullYear();case Re.Month:return t.getMonth();case Re.Date:return t.getDate();case Re.Hours:return t.getHours();case Re.Minutes:return t.getMinutes();case Re.Seconds:return t.getSeconds();case Re.FractionalSeconds:return t.getMilliseconds();case Re.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,h);if((e>0||C>-e)&&(C+=e),i===Re.Hours)0===C&&-12===e&&(C=12);else if(i===Re.FractionalSeconds)return function(i,t){return er(i,3).substr(0,t)}(C,t);const I=un(m,Ve.MinusSign);return er(C,t,I,o,l)}}function z(i,t,e=xt.Format,o=!1){return function(l,h){return function(i,t,e,o,l,h){switch(e){case Be.Months:return function(i,t,e){const o=(0,p.cg1)(i),h=At([o[p.wAp.MonthsFormat],o[p.wAp.MonthsStandalone]],t);return At(h,e)}(t,l,o)[i.getMonth()];case Be.Days:return function(i,t,e){const o=(0,p.cg1)(i),h=At([o[p.wAp.DaysFormat],o[p.wAp.DaysStandalone]],t);return At(h,e)}(t,l,o)[i.getDay()];case Be.DayPeriods:const m=i.getHours(),C=i.getMinutes();if(h){const M=function(i){const t=(0,p.cg1)(i);return be(t),(t[p.wAp.ExtraData][2]||[]).map(o=>"string"==typeof o?Ur(o):[Ur(o[0]),Ur(o[1])])}(t),W=function(i,t,e){const o=(0,p.cg1)(i);be(o);const h=At([o[p.wAp.ExtraData][0],o[p.wAp.ExtraData][1]],t)||[];return At(h,e)||[]}(t,l,o),V=M.findIndex(Q=>{if(Array.isArray(Q)){const[se,we]=Q,He=m>=se.hours&&C>=se.minutes,Ye=m<we.hours||m===we.hours&&C<we.minutes;if(se.hours<we.hours){if(He&&Ye)return!0}else if(He||Ye)return!0}else if(Q.hours===m&&Q.minutes===C)return!0;return!1});if(-1!==V)return W[V]}return function(i,t,e){const o=(0,p.cg1)(i),h=At([o[p.wAp.DayPeriodsFormat],o[p.wAp.DayPeriodsStandalone]],t);return At(h,e)}(t,l,o)[m<12?0:1];case Be.Eras:return function(i,t){return At((0,p.cg1)(i)[p.wAp.Eras],t)}(t,o)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(l,h,i,t,e,o)}}function re(i){return function(t,e,o){const l=-1*o,h=un(e,Ve.MinusSign),m=l>0?Math.floor(l/60):Math.ceil(l/60);switch(i){case Rt.Short:return(l>=0?"+":"")+er(m,2,h)+er(Math.abs(l%60),2,h);case Rt.ShortGMT:return"GMT"+(l>=0?"+":"")+er(m,1,h);case Rt.Long:return"GMT"+(l>=0?"+":"")+er(m,2,h)+":"+er(Math.abs(l%60),2,h);case Rt.Extended:return 0===o?"Z":(l>=0?"+":"")+er(m,2,h)+":"+er(Math.abs(l%60),2,h);default:throw new Error(`Unknown zone width "${i}"`)}}}function Bn(i){return Yi(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))}function dn(i,t=!1){return function(e,o){let l;if(t){const h=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,m=e.getDate();l=1+Math.floor((m+h)/7)}else{const h=Bn(e),m=function(i){const t=Yi(i,0,1).getDay();return Yi(i,0,1+(t<=4?4:11)-t)}(h.getFullYear()),C=h.getTime()-m.getTime();l=1+Math.round(C/6048e5)}return er(l,i,un(o,Ve.MinusSign))}}function tr(i,t=!1){return function(e,o){return er(Bn(e).getFullYear(),i,un(o,Ve.MinusSign),t)}}const yt={};function Cs(i,t){i=i.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(e)?t:e}function Xl(i){return i instanceof Date&&!isNaN(i.valueOf())}class dr{}let Bt=(()=>{class i extends dr{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(si(o||this.locale)(e)){case Qe.Zero:return"zero";case Qe.One:return"one";case Qe.Two:return"two";case Qe.Few:return"few";case Qe.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(p.soG))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();function Si(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const o=e.indexOf("="),[l,h]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(l.trim()===t)return decodeURIComponent(h)}return null}class qo{constructor(t,e,o,l){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ko=(()=>{class i{constructor(e,o,l){this._viewContainer=e,this._template=o,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=[];e.forEachOperation((l,h,m)=>{if(null==l.previousIndex){const C=this._viewContainer.createEmbeddedView(this._template,new qo(null,this._ngForOf,-1,-1),null===m?void 0:m),I=new Yo(l,C);o.push(I)}else if(null==m)this._viewContainer.remove(null===h?void 0:h);else if(null!==h){const C=this._viewContainer.get(h);this._viewContainer.move(C,m);const I=new Yo(l,C);o.push(I)}});for(let l=0;l<o.length;l++)this._perViewChange(o[l].view,o[l].record);for(let l=0,h=this._viewContainer.length;l<h;l++){const m=this._viewContainer.get(l);m.context.index=l,m.context.count=h,m.context.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(e,o){e.context.$implicit=o.item}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},i.\u0275dir=p.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class Yo{constructor(t,e){this.record=t,this.view=e}}function $r(i,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,p.AaK)(i)}'`)}let tu=(()=>{class i{transform(e){if(null==e)return null;if("string"!=typeof e)throw $r(i,e);return e.toUpperCase()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=p.Yjl({name:"uppercase",type:i,pure:!0}),i})();const nu=new p.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let za=(()=>{class i{constructor(e,o){this.locale=e,this.defaultTimezone=o}transform(e,o="mediumDate",l,h){var m;if(null==e||""===e||e!=e)return null;try{return Ql(e,o,h||this.locale,null!=(m=null!=l?l:this.defaultTimezone)?m:void 0)}catch(C){throw $r(i,C.message)}}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.soG,16),p.Y36(nu,24))},i.\u0275pipe=p.Yjl({name:"date",type:i,pure:!0}),i})(),iu=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[{provide:dr,useClass:Bt}]}),i})();let $d=(()=>{class i{}return i.\u0275prov=(0,p.Yz7)({token:i,providedIn:"root",factory:()=>new ea((0,p.LFG)(fe),window)}),i})();class ea{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=o.currentNode;for(;l;){const h=l.shadowRoot;if(h){const m=h.getElementById(t)||h.querySelector(`[name="${t}"]`);if(m)return m}l=o.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(o-h[0],l-h[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ds(this.window.history)||Ds(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Ds(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class ts{}class Ts extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Ts,X||(X=i)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(rr=rr||document.querySelector("base"),rr?rr.getAttribute("href"):null);return null==e?null:function(i){_n=_n||document.createElement("a"),_n.setAttribute("href",i);const t=_n.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){rr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Si(document.cookie,t)}}let _n,rr=null;const As=new p.OlP("TRANSITION_ID"),Lt=[{provide:p.ip1,useFactory:function(i,t,e){return()=>{e.get(p.CZH).donePromise.then(()=>{const o=O(),l=t.querySelectorAll(`style[ng-transition="${i}"]`);for(let h=0;h<l.length;h++)o.remove(l[h])})}},deps:[As,fe,p.zs3],multi:!0}];class Pi{static init(){(0,p.VLi)(new Pi)}addToWindow(t){p.dqk.getAngularTestability=(o,l=!0)=>{const h=t.findTestabilityInTree(o,l);if(null==h)throw new Error("Could not find testability for element.");return h},p.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(o=>{const l=p.dqk.getAllAngularTestabilities();let h=l.length,m=!1;const C=function(I){m=m||I,h--,0==h&&o(m)};l.forEach(function(I){I.whenStable(C)})})}findTestabilityInTree(t,e,o){if(null==e)return null;const l=t.getTestability(e);return null!=l?l:o?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let ta=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const ui=new p.OlP("EventManagerPlugins");let zt=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(l=>l.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,l){return this._findPluginFor(o).addEventListener(e,o,l)}addGlobalEventListener(e,o,l){return this._findPluginFor(o).addGlobalEventListener(e,o,l)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const l=this._plugins;for(let h=0;h<l.length;h++){const m=l[h];if(m.supports(e))return this._eventNameToPlugin.set(e,m),m}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(ui),p.LFG(p.R0b))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();class ns{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const l=O().getGlobalEventTarget(this._doc,t);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,o)}}let Rs=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),o.add(l))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),Rn=(()=>{class i extends Rs{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,l){e.forEach(h=>{const m=this._doc.createElement("style");m.textContent=h,l.push(o.appendChild(m))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(ra),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,l)=>{this._addStylesToHost(e,l,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ra))}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(fe))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();function ra(i){O().remove(i)}const rs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ia=/%COMP%/g;function Zr(i,t,e){for(let o=0;o<t.length;o++){let l=t[o];Array.isArray(l)?Zr(i,l,e):(l=l.replace(ia,i),e.push(l))}return e}function qr(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ms=(()=>{class i{constructor(e,o,l){this.eventManager=e,this.sharedStylesHost=o,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new Ps(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case p.ifc.Emulated:{let l=this.rendererByCompId.get(o.id);return l||(l=new io(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,l)),l.applyToHost(e),l}case 1:case p.ifc.ShadowDom:return new il(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const l=Zr(o.id,o.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(zt),p.LFG(Rn),p.LFG(p.AFp))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();class Ps{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(rs[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,o){t&&t.insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,l){if(l){e=l+":"+e;const h=rs[l];h?t.setAttributeNS(h,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const l=rs[o];l?t.removeAttributeNS(l,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,l){l&(p.JOm.DashCase|p.JOm.Important)?t.style.setProperty(e,o,l&p.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&p.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,qr(o)):this.eventManager.addEventListener(t,e,qr(o))}}class io extends Ps{constructor(t,e,o,l){super(t),this.component=o;const h=Zr(l+"-"+o.id,o.styles,[]);e.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(ia,l+"-"+o.id),this.hostAttr="_nghost-%COMP%".replace(ia,l+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class il extends Ps{constructor(t,e,o,l){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=Zr(l.id,l.styles,[]);for(let m=0;m<h.length;m++){const C=document.createElement("style");C.textContent=h[m],this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let sa=(()=>{class i extends ns{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,l){return e.addEventListener(o,l,!1),()=>this.removeEventListener(e,o,l)}removeEventListener(e,o,l){return e.removeEventListener(o,l)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(fe))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const fu=["alt","control","meta","shift"],is={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pu={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Gf=(()=>{class i extends ns{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,l){const h=i.parseEventName(o),m=i.eventCallback(h.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,h.domEventName,m))}static parseEventName(e){const o=e.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const h=i._normalizeKey(o.pop());let m="";if(fu.forEach(I=>{const M=o.indexOf(I);M>-1&&(o.splice(M,1),m+=I+".")}),m+=h,0!=o.length||0===h.length)return null;const C={};return C.domEventName=l,C.fullKey=m,C}static getEventFullKey(e){let o="",l=function(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&Jt.hasOwnProperty(t)&&(t=Jt[t]))}return is[t]||t}(e);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),fu.forEach(h=>{h!=l&&pu[h](e)&&(o+=h+".")}),o+=l,o}static eventCallback(e,o,l){return h=>{i.getEventFullKey(h)===e&&l.runGuarded(()=>o(h))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(fe))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const co=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function(){Ts.makeCurrent(),Pi.init()},multi:!0},{provide:fe,useFactory:function(){return(0,p.RDi)(document),document},deps:[]}]),zd=[[],{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function(){return new p.qLn},deps:[]},{provide:ui,useClass:sa,multi:!0,deps:[fe,p.R0b,p.Lbi]},{provide:ui,useClass:Gf,multi:!0,deps:[fe]},[],{provide:Ms,useClass:Ms,deps:[zt,Rn,p.AFp]},{provide:p.FYo,useExisting:Ms},{provide:Rs,useExisting:Rn},{provide:Rn,useClass:Rn,deps:[fe]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:zt,useClass:zt,deps:[ui,p.R0b]},{provide:ts,useClass:ta,deps:[]},[]];let Dc=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:p.AFp,useValue:e.appId},{provide:As,useExisting:p.AFp},Lt]}}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(i,12))},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:zd,imports:[iu,p.hGG]}),i})();"undefined"!=typeof window&&window;const ha_firebase={apiKey:"AIzaSyBYf3BuD9hLhP8DLHgz73-Jl-qCCamPQDA",authDomain:"blooddonationaapi.firebaseapp.com",databaseURL:"https://blooddonationaapi-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"blooddonationaapi",storageBucket:"blooddonationaapi.appspot.com",messagingSenderId:"485408541197",appId:"1:485408541197:web:5df1f707ddd224452a6344",measurementId:"G-E8773ECT2P"};var qn=x(7905),fa=x(8178),Mn=x(5548),ze=x(2411),Kr=x(8526),et=x(8053),ci=x(6669),In=x(1915),ss=x(8345);function yn(i,t){return"function"==typeof t?e=>e.pipe(yn((o,l)=>(0,In.D)(i(o,l)).pipe((0,et.U)((h,m)=>t(o,h,l,m))))):e=>e.lift(new pa(i))}class pa{constructor(t){this.project=t}call(t,e){return e.subscribe(new Zd(t,this.project))}}class Zd extends ss.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const o=this.index++;try{e=this.project(t,o)}catch(l){return void this.destination.error(l)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const o=new ss.IY(this),l=this.destination;l.add(o),this.innerSubscription=(0,ss.ft)(t,o),this.innerSubscription!==o&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var Xt=x(4168);function di(i,t){let e=!1;return arguments.length>=2&&(e=!0),function(l){return l.lift(new Qf(i,t,e))}}class Qf{constructor(t,e,o=!1){this.accumulator=t,this.seed=e,this.hasSeed=o}call(t,e){return e.subscribe(new fo(t,this.accumulator,this.seed,this.hasSeed))}}class fo extends Xt.L{constructor(t,e,o,l){super(t),this.accumulator=e,this._seed=o,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let o;try{o=this.accumulator(this.seed,t,e)}catch(l){this.destination.error(l)}this.seed=o,this.destination.next(o)}}class tn{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new hl(t,this.compare,this.keySelector))}}class hl extends Xt.L{constructor(t,e,o){super(t),this.keySelector=o,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:l}=this;e=l?l(t):t}catch(l){return this.destination.error(l)}let o=!1;if(this.hasKey)try{const{compare:l}=this;o=l(this.key,e)}catch(l){return this.destination.error(l)}else this.hasKey=!0;o||(this.key=e,this.destination.next(t))}}class po extends Xt.L{notifyNext(t,e,o,l,h){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class ga extends Xt.L{constructor(t,e,o){super(),this.parent=t,this.outerValue=e,this.outerIndex=o,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var os=x(4651);function xi(i,t,e,o,l=new ga(i,e,o)){if(!l.closed)return t instanceof Mn.y?t.subscribe(l):(0,os.s)(t)(l)}class as{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new yu(t,this.observables,this.project))}}class yu extends po{constructor(t,e,o){super(t),this.observables=e,this.project=o,this.toRespond=[];const l=e.length;this.values=new Array(l);for(let h=0;h<l;h++)this.toRespond.push(h);for(let h=0;h<l;h++)this.add(xi(this,e[h],void 0,h))}notifyNext(t,e,o){this.values[o]=e;const l=this.toRespond;if(l.length>0){const h=l.indexOf(o);-1!==h&&l.splice(h,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}class Jf{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new fl(t,this.predicate))}}class fl extends Xt.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var Kn=x(5940),Sc=(x(9777),x(6293)),$t=x(1177),ls=x(8239),ma=x(1572),F=x(4213),_a=x(3855);const Rc="@firebase/database";let Yd="";function hi(i){Yd=i}class Xf{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Dn{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const pl=function(i){try{if("undefined"!=typeof window&&void 0!==window[i]){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Xf(t)}}catch(t){}return new Dn},hr=pl("localStorage"),vu=pl("sessionStorage"),Oi=new _a.Yd("@firebase/database"),Yn=function(){let i=1;return function(){return i++}}(),fr=function(i){const t=(0,F.dS)(i),e=new F.gQ;e.update(t);const o=e.digest();return F.US.encodeByteArray(o)},ki=function(...i){let t="";for(let e=0;e<i.length;e++){const o=i[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?t+=ki.apply(null,o):t+="object"==typeof o?(0,F.Pz)(o):o,t+=" "}return t};let Pn=null,Yr=!0;const Mc=function(i,t){(0,F.hu)(!t||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(Oi.logLevel=_a.in.VERBOSE,Pn=Oi.log.bind(Oi),t&&vu.set("logging_enabled",!0)):"function"==typeof i?Pn=i:(Pn=null,vu.remove("logging_enabled"))},Fn=function(...i){if(!0===Yr&&(Yr=!1,null===Pn&&!0===vu.get("logging_enabled")&&Mc(!0)),Pn){const t=ki.apply(null,i);Pn(t)}},mo=function(i){return function(...t){Fn(i,...t)}},Pc=function(...i){const t="FIREBASE INTERNAL ERROR: "+ki(...i);Oi.error(t)},Fi=function(...i){const t=`FIREBASE FATAL ERROR: ${ki(...i)}`;throw Oi.error(t),new Error(t)},gn=function(...i){const t="FIREBASE WARNING: "+ki(...i);Oi.warn(t)},_o=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},sr="[MIN_NAME]",Qr="[MAX_NAME]",pr=function(i,t){if(i===t)return 0;if(i===sr||t===Qr)return-1;if(t===sr||i===Qr)return 1;{const e=Ee(i),o=Ee(t);return null!==e?null!==o?e-o==0?i.length-t.length:e-o:-1:null!==o?1:i<t?-1:1}},Nc=function(i,t){return i===t?0:i<t?-1:1},gl=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+(0,F.Pz)(t))},yo=function(i){if("object"!=typeof i||null===i)return(0,F.Pz)(i);const t=[];for(const o in i)t.push(o);t.sort();let e="{";for(let o=0;o<t.length;o++)0!==o&&(e+=","),e+=(0,F.Pz)(t[o]),e+=":",e+=yo(i[t[o]]);return e+="}",e},xc=function(i,t){const e=i.length;if(e<=t)return[i];const o=[];for(let l=0;l<e;l+=t)o.push(i.substring(l,l+t>e?e:l+t));return o};function nn(i,t){for(const e in i)i.hasOwnProperty(e)&&t(e,i[e])}const Eu=function(i){(0,F.hu)(!_o(i),"Invalid JSON number");const o=1023;let l,h,m,C,I;0===i?(h=0,m=0,l=1/i==-1/0?1:0):(l=i<0,(i=Math.abs(i))>=Math.pow(2,1-o)?(C=Math.min(Math.floor(Math.log(i)/Math.LN2),o),h=C+o,m=Math.round(i*Math.pow(2,52-C)-Math.pow(2,52))):(h=0,m=Math.round(i/Math.pow(2,-1074))));const M=[];for(I=52;I;I-=1)M.push(m%2?1:0),m=Math.floor(m/2);for(I=11;I;I-=1)M.push(h%2?1:0),h=Math.floor(h/2);M.push(l?1:0),M.reverse();const W=M.join("");let V="";for(I=0;I<64;I+=8){let Q=parseInt(W.substr(I,8),2).toString(16);1===Q.length&&(Q="0"+Q),V+=Q}return V.toLowerCase()},L=new RegExp("^-?(0*)\\d{1,10}$"),q=-2147483648,ae=2147483647,Ee=function(i){if(L.test(i)){const t=Number(i);if(t>=q&&t<=ae)return t}return null},Me=function(i){try{i()}catch(t){setTimeout(()=>{throw gn("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},ut=function(i,t){const e=setTimeout(i,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Ot{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){gn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class vn{constructor(t,e,o){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Fn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gn(t)}}let Ln=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const ks=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jr="websocket",Cu="long_polling";class us{constructor(t,e,o,l,h=!1,m="",C=!1){this.secure=e,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=h,this.persistenceKey=m,this.includeNamespaceInQueryParams=C,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hr.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&hr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function bu(i,t,e){let o;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===Jr)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(t!==Cu)throw new Error("Unknown connection type: "+t);o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const l=[];return nn(e,(h,m)=>{l.push(h+"="+m)}),o+l.join("&")}class wu{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const ml={},Iu={};function kc(i){const t=i.toString();return ml[t]||(ml[t]=new wu),ml[t]}class _l{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&Me(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ca{constructor(t,e,o,l,h,m,C){this.connId=t,this.repoInfo=e,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.transportSessionId=m,this.lastSessionId=C,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mo(t),this.stats_=kc(e),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),bu(e,Cu,I))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new _l(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,F.Yr)()||"complete"===document.readyState)i();else{let t=!1;const e=function(){document.body?t||(t=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Au((...h)=>{const[m,C,I,M,W]=h;if(this.incrementIncomingBytes_(h),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===m)this.id=C,this.password=I;else{if("close"!==m)throw new Error("Unrecognized command received: "+m);C?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(C,()=>{this.onClosed_()})):this.onClosed_()}},(...h)=>{const[m,C]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(m,C)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&ks.test(location.hostname)&&(o.r="f");const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ca.forceAllow_=!0}static forceDisallow(){Ca.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!Ca.forceAllow_&&(Ca.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,F.h$)(e),l=xc(o,1840);for(let h=0;h<l.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[h]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=t,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Au{constructor(t,e,o,l){if(this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Yn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Au.createIFrame_();let h="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(h='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(C){Fn("frame writing exception"),C.stack&&Fn(C.stack),Fn(C)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Fn("No IE domain setting required")}catch(e){const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const m=this.pendingSegs.shift();o=o+"&seg"+l+"="+m.seg+"&ts"+l+"="+m.ts+"&d"+l+"="+m.d,l++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,o){this.pendingSegs.push({seg:t,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(o,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(l),o()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||"loaded"===l||"complete"===l)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{Fn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch(o){}},Math.floor(1))}}let Su=null;"undefined"!=typeof MozWebSocket?Su=MozWebSocket:"undefined"!=typeof WebSocket&&(Su=WebSocket);let Ru=(()=>{class i{constructor(e,o,l,h,m,C,I){this.connId=e,this.applicationId=l,this.appCheckToken=h,this.authToken=m,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mo(this.connId),this.stats_=kc(o),this.connURL=i.connectionURL_(o,C,I,h),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,l,h){const m={v:"5"};return!(0,F.Yr)()&&"undefined"!=typeof location&&location.hostname&&ks.test(location.hostname)&&(m.r="f"),o&&(m.s=o),l&&(m.ls=l),h&&(m.ac=h),bu(e,Jr,m)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hr.set("previous_websocket_failure",!0);try{if((0,F.Yr)()){const h={headers:{"User-Agent":`Firebase/5/${Yd}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(h.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(h.headers["X-Firebase-AppCheck"]=this.appCheckToken);const m=process.env,C=0===this.connURL.indexOf("wss://")?m.HTTPS_PROXY||m.https_proxy:m.HTTP_PROXY||m.http_proxy;C&&(h.proxy={origin:C}),this.mySock=new Su(this.connURL,[],h)}else this.mySock=new Su(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(l){this.log_("Error instantiating WebSocket.");const h=l.message||l.data;return h&&this.log_(h),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const h=l.message||l.data;h&&this.log_(h),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==Su&&!i.forceDisallow_}static previouslyFailed(){return hr.isInMemoryStorage||!0===hr.get("previous_websocket_failure")}markConnectionHealthy(){hr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const l=(0,F.cI)(o);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const l=this.extractFrameCount_(o);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const o=(0,F.Pz)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const l=xc(o,16384);l.length>1&&this.sendString_(String(l.length));for(let h=0;h<l.length;h++)this.sendString_(l[h])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})();class Mu{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ca,Ru]}initTransports_(t){const e=Ru&&Ru.isAvailable();let o=e&&!Ru.previouslyFailed();if(t.webSocketOnly&&(e||gn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ru];else{const l=this.transports_=[];for(const h of Mu.ALL_TRANSPORTS)h&&h.isAvailable()&&l.push(h)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class ap{constructor(t,e,o,l,h,m,C,I,M,W){this.id=t,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=h,this.onMessage_=m,this.onReady_=C,this.onDisconnect_=I,this.onKill_=M,this.lastSessionId=W,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mo("c:"+this.id+":"),this.transportManager_=new Mu(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=ut(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=gl("t",t),o=gl("d",t);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=gl("t",t),o=gl("d",t);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=gl("t",t);if("d"in t){const o=t.d;if("h"===e)this.onHandshake_(o);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?Pc("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pc("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&gn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),ut(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ut(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class pm{put(t,e,o,l){}merge(t,e,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,o){}onDisconnectMerge(t,e,o){}onDisconnectCancel(t,e){}reportStats(t){}}class lp{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,e)}}on(t,e,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:o});const l=this.getInitialEvent(t);l&&e.apply(o,l)}off(t,e,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let h=0;h<l.length;h++)if(l[h].callback===e&&(!o||o===l[h].context))return void l.splice(h,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class wo extends lp{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new wo}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class St{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Mt(){return new St("")}function ct(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Fs(i){return i.pieces_.length-i.pieceNum_}function qt(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new St(i.pieces_,t)}function up(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function Ia(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function Pu(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)t.push(i.pieces_[e]);return new St(t,0)}function rn(i,t){const e=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)e.push(i.pieces_[o]);if(t instanceof St)for(let o=t.pieceNum_;o<t.pieces_.length;o++)e.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&e.push(o[l])}return new St(e,0)}function dt(i){return i.pieceNum_>=i.pieces_.length}function Mr(i,t){const e=ct(i),o=ct(t);if(null===e)return t;if(e===o)return Mr(qt(i),qt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function nh(i,t){const e=Ia(i,0),o=Ia(t,0);for(let l=0;l<e.length&&l<o.length;l++){const h=pr(e[l],o[l]);if(0!==h)return h}return e.length===o.length?0:e.length<o.length?-1:1}function jc(i,t){if(Fs(i)!==Fs(t))return!1;for(let e=i.pieceNum_,o=t.pieceNum_;e<=i.pieces_.length;e++,o++)if(i.pieces_[e]!==t.pieces_[o])return!1;return!0}function pi(i,t){let e=i.pieceNum_,o=t.pieceNum_;if(Fs(i)>Fs(t))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==t.pieces_[o])return!1;++e,++o}return!0}class gm{constructor(t,e){this.errorPrefix_=e,this.parts_=Ia(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,F.ug)(this.parts_[o]);Li(this)}}function Li(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Io(i))}function Io(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class Nu extends lp{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new Nu}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Da=1e3;let sh,Ls=(()=>{class i extends pm{constructor(e,o,l,h,m,C,I,M){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=l,this.onConnectStatus_=h,this.onServerInfoUpdate_=m,this.authTokenProvider_=C,this.appCheckTokenProvider_=I,this.authOverride_=M,this.id=i.nextPersistentConnectionId_++,this.log_=mo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Da,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,M&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Nu.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&wo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,l){const h=++this.requestNumber_,m={r:h,a:e,b:o};this.log_((0,F.Pz)(m)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(m),l&&(this.requestCBHash_[h]=l)}get(e){this.initConnection_();const o=new F.BH,l={p:e._path.toString(),q:e._queryObject},h={action:"g",request:l,onComplete:C=>{const I=C.d;"ok"===C.s?(this.onDataUpdate_(l.p,I,!1,null),o.resolve(I)):o.reject(I)}};this.outstandingGets_.push(h),this.outstandingGetCount_++;const m=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const C=this.outstandingGets_[m];void 0===C||h!==C||(delete this.outstandingGets_[m],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+m+" timed out on connection"),o.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(m),o.promise}listen(e,o,l,h){this.initConnection_();const m=e._queryIdentifier,C=e._path.toString();this.log_("Listen called for "+C+" "+m),this.listens.has(C)||this.listens.set(C,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(C).has(m),"listen() called twice for same path/queryId.");const I={onComplete:h,hashFn:o,query:e,tag:l};this.listens.get(C).set(m,I),this.connected_&&this.sendListen_(I)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(l)})}sendListen_(e){const o=e.query,l=o._path.toString(),h=o._queryIdentifier;this.log_("Listen on "+l+" for "+h);const m={p:l};e.tag&&(m.q=o._queryObject,m.t=e.tag),m.h=e.hashFn(),this.sendRequest("q",m,I=>{const M=I.d,W=I.s;i.warnOnListenWarnings_(M,o),(this.listens.get(l)&&this.listens.get(l).get(h))===e&&(this.log_("listen response",I),"ok"!==W&&this.removeListen_(l,h),e.onComplete&&e.onComplete(W,M))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const l=(0,F.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const h='".indexOn": "'+o._queryParams.getIndex().toString()+'"',m=o._path.toString();gn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${h} at ${m} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,F.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(o,l,h=>{const m=h.s,C=h.d||"error";this.authToken_===e&&("ok"===m?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(m,C))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,l=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,l)})}unlisten(e,o){const l=e._path.toString(),h=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+h),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,h)&&this.connected_&&this.sendUnlisten_(l,h,e._queryObject,o)}sendUnlisten_(e,o,l,h){this.log_("Unlisten on "+e+" for "+o);const m={p:e};h&&(m.q=l,m.t=h),this.sendRequest("n",m)}onDisconnectPut(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:l})}onDisconnectMerge(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:l})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,l,h){const m={p:o,d:l};this.log_("onDisconnect "+e,m),this.sendRequest(e,m,C=>{h&&setTimeout(()=>{h(C.s,C.d)},Math.floor(0))})}put(e,o,l,h){this.putInternal("p",e,o,l,h)}merge(e,o,l,h){this.putInternal("m",e,o,l,h)}putInternal(e,o,l,h,m){this.initConnection_();const C={p:o,d:l};void 0!==m&&(C.h=m),this.outstandingPuts_.push({action:e,request:C,onComplete:h}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,h=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,l,m=>{this.log_(o+" response",m),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),h&&h(m.s,m.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const o=e.r,l=this.requestCBHash_[o];l&&(delete this.requestCBHash_[o],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):Pc("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Da,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Da,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Da),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ls.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),h=e.onRealtimeDisconnect_.bind(e),m=e.id+":"+i.nextConnectionId_++,C=e.lastSessionId;let I=!1,M=null;const W=function(){M?M.close():(I=!0,h())};e.realtime_={close:W,sendRequest:function(se){(0,F.hu)(M,"sendRequest call when we're not connected not allowed."),M.sendRequest(se)}};const Q=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[se,we]=yield Promise.all([e.authTokenProvider_.getToken(Q),e.appCheckTokenProvider_.getToken(Q)]);I?Fn("getToken() completed but was canceled"):(Fn("getToken() completed. Creating connection."),e.authToken_=se&&se.accessToken,e.appCheckToken_=we&&we.token,M=new ap(m,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,l,h,He=>{gn(He+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},C))}catch(se){e.log_("Failed to get token: "+se),I||(e.repoInfo_.nodeAdmin&&gn(se),W())}}})()}interrupt(e){Fn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Da,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let l;l=o?o.map(m=>yo(m)).join("$"):"default";const h=this.removeListen_(e,l);h&&h.onComplete&&h.onComplete("permission_denied")}removeListen_(e,o){const l=new St(e).toString();let h;if(this.listens.has(l)){const m=this.listens.get(l);h=m.get(o),m.delete(o),0===m.size&&this.listens.delete(l)}else h=void 0;return h}onAuthRevoked_(e,o){Fn("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){Fn("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,F.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+Yd.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=wo.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class _t{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new _t(t,e)}}class $c{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const o=new _t(sr,t),l=new _t(sr,e);return 0!==this.compare(o,l)}minPost(){return _t.MIN}}class vm extends $c{static get __EMPTY_NODE(){return sh}static set __EMPTY_NODE(t){sh=t}compare(t,e){return pr(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return _t.MIN}maxPost(){return new _t(Qr,sh)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new _t(t,sh)}toString(){return".key"}}const Pr=new vm;class Vn{constructor(t,e,o,l,h=null){this.isReverse_=l,this.resultGenerator_=h,this.nodeStack_=[];let m=1;for(;!t.isEmpty();)if(t=t,m=e?o(t.key,e):1,l&&(m*=-1),m<0)t=this.isReverse_?t.left:t.right;else{if(0===m){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let xu,gr=(()=>{class i{constructor(e,o,l,h,m){this.key=e,this.value=o,this.color=null!=l?l:i.RED,this.left=null!=h?h:mr.EMPTY_NODE,this.right=null!=m?m:mr.EMPTY_NODE}copy(e,o,l,h,m){return new i(null!=e?e:this.key,null!=o?o:this.value,null!=l?l:this.color,null!=h?h:this.left,null!=m?m:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,l){let h=this;const m=l(e,h.key);return h=m<0?h.copy(null,null,null,h.left.insert(e,o,l),null):0===m?h.copy(null,o,null,null,null):h.copy(null,null,null,null,h.right.insert(e,o,l)),h.fixUp_()}removeMin_(){if(this.left.isEmpty())return mr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let l,h;if(l=this,o(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,o),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===o(e,l.key)){if(l.right.isEmpty())return mr.EMPTY_NODE;h=l.right.min_(),l=l.copy(h.key,h.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,o))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class mr{constructor(t,e=mr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new mr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,gr.BLACK,null,null))}remove(t){return new mr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,gr.BLACK,null,null))}get(t){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(t){let e,o=this.root_,l=null;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(l=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Vn(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Vn(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Vn(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Vn(this.root_,null,this.comparator_,!0,t)}}function Wn(i,t){return pr(i.name,t.name)}function Vs(i,t){return pr(i,t)}mr.EMPTY_NODE=new class{copy(t,e,o,l,h){return this}insert(t,e,o){return new gr(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ou=function(i){return"number"==typeof i?"number:"+Eu(i):"string:"+i},oh=function(i){if(i.isLeafNode()){const t=i.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(i===xu||i.isEmpty(),"priority of unexpected type.");(0,F.hu)(i===xu||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let pp,ah,lh,Ta=(()=>{class i{constructor(e,o=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),oh(this.priorityNode_)}static set __childrenNodeConstructor(e){pp=e}static get __childrenNodeConstructor(){return pp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return dt(e)?this:".priority"===ct(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const l=ct(e);return null===l?o:o.isEmpty()&&".priority"!==l?this:((0,F.hu)(".priority"!==l||1===Fs(e),".priority must be the last token in a path"),this.updateImmediateChild(l,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(qt(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ou(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?Eu(this.value_):this.value_,this.lazyHash_=fr(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,l=typeof this.value_,h=i.VALUE_TYPE_ORDER.indexOf(o),m=i.VALUE_TYPE_ORDER.indexOf(l);return(0,F.hu)(h>=0,"Unknown leaf type: "+o),(0,F.hu)(m>=0,"Unknown leaf type: "+l),h===m?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:m-h}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const o=e;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const Wt=new class extends $c{compare(t,e){const o=t.node.getPriority(),l=e.node.getPriority(),h=o.compareTo(l);return 0===h?pr(t.name,e.name):h}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return _t.MIN}maxPost(){return new _t(Qr,new Ta("[PRIORITY-POST]",lh))}makePost(t,e){const o=ah(t);return new _t(e,new Ta("[PRIORITY-POST]",o))}toString(){return".priority"}},uh=Math.log(2);class ch{constructor(t){this.count=parseInt(Math.log(t+1)/uh,10),this.current_=this.count-1;const l=(h=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Wc=function(i,t,e,o){i.sort(t);const l=function(I,M){const W=M-I;let V,Q;if(0===W)return null;if(1===W)return V=i[I],Q=e?e(V):V,new gr(Q,V.node,gr.BLACK,null,null);{const se=parseInt(W/2,10)+I,we=l(I,se),He=l(se+1,M);return V=i[se],Q=e?e(V):V,new gr(Q,V.node,gr.BLACK,we,He)}},C=function(I){let M=null,W=null,V=i.length;const Q=function(we,He){const Ye=V-we,Et=V;V-=we;const Yt=l(Ye+1,Et),fn=i[Ye],Ut=e?e(fn):fn;se(new gr(Ut,fn.node,He,null,Yt))},se=function(we){M?(M.left=we,M=we):(W=we,M=we)};for(let we=0;we<I.count;++we){const He=I.nextBitIsOne(),Ye=Math.pow(2,I.count-(we+1));He?Q(Ye,gr.BLACK):(Q(Ye,gr.BLACK),Q(Ye,gr.RED))}return W}(new ch(i.length));return new mr(o||t,C)};let gp;const Aa={};class gi{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(Aa&&Wt,"ChildrenNode.ts has not been loaded"),gp=gp||new gi({".priority":Aa},{".priority":Wt}),gp}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof mr?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==Pr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const h=e.getIterator(_t.Wrap);let C,m=h.getNext();for(;m;)l=l||t.isDefinedOn(m.node),o.push(m),m=h.getNext();C=l?Wc(o,t.getCompare()):Aa;const I=t.toString(),M=Object.assign({},this.indexSet_);M[I]=t;const W=Object.assign({},this.indexes_);return W[I]=C,new gi(W,M)}addToIndexes(t,e){const o=(0,F.UI)(this.indexes_,(l,h)=>{const m=(0,F.DV)(this.indexSet_,h);if((0,F.hu)(m,"Missing index implementation for "+h),l===Aa){if(m.isDefinedOn(t.node)){const C=[],I=e.getIterator(_t.Wrap);let M=I.getNext();for(;M;)M.name!==t.name&&C.push(M),M=I.getNext();return C.push(t),Wc(C,m.getCompare())}return Aa}{const C=e.get(t.name);let I=l;return C&&(I=I.remove(new _t(t.name,C))),I.insert(t,t.node)}});return new gi(o,this.indexSet_)}removeFromIndexes(t,e){const o=(0,F.UI)(this.indexes_,l=>{if(l===Aa)return l;{const h=e.get(t.name);return h?l.remove(new _t(t.name,h)):l}});return new gi(o,this.indexSet_)}}let vl,tt=(()=>{class i{constructor(e,o,l){this.children_=e,this.priorityNode_=o,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&oh(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return vl||(vl=new i(new mr(Vs),null,gi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vl}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?vl:o}}getChild(e){const o=ct(e);return null===o?this:this.getImmediateChild(o).getChild(qt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,F.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const l=new _t(e,o);let h,m;o.isEmpty()?(h=this.children_.remove(e),m=this.indexMap_.removeFromIndexes(l,this.children_)):(h=this.children_.insert(e,o),m=this.indexMap_.addToIndexes(l,this.children_));const C=h.isEmpty()?vl:this.priorityNode_;return new i(h,C,m)}}updateChild(e,o){const l=ct(e);if(null===l)return o;{(0,F.hu)(".priority"!==ct(e)||1===Fs(e),".priority must be the last token in a path");const h=this.getImmediateChild(l).updateChild(qt(e),o);return this.updateImmediateChild(l,h)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let l=0,h=0,m=!0;if(this.forEachChild(Wt,(C,I)=>{o[C]=I.val(e),l++,m&&i.INTEGER_REGEXP_.test(C)?h=Math.max(h,Number(C)):m=!1}),!e&&m&&h<2*l){const C=[];for(const I in o)C[I]=o[I];return C}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ou(this.getPriority().val())+":"),this.forEachChild(Wt,(o,l)=>{const h=l.hash();""!==h&&(e+=":"+o+":"+h)}),this.lazyHash_=""===e?"":fr(e)}return this.lazyHash_}getPredecessorChildName(e,o,l){const h=this.resolveIndex_(l);if(h){const m=h.getPredecessorKey(new _t(e,o));return m?m.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new _t(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new _t(o,this.children_.get(o)):null}forEachChild(e,o){const l=this.resolveIndex_(e);return l?l.inorderTraversal(h=>o(h.name,h.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getIteratorFrom(e,h=>h);{const h=this.children_.getIteratorFrom(e.name,_t.Wrap);let m=h.peek();for(;null!=m&&o.compare(m,e)<0;)h.getNext(),m=h.peek();return h}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getReverseIteratorFrom(e,h=>h);{const h=this.children_.getReverseIteratorFrom(e.name,_t.Wrap);let m=h.peek();for(;null!=m&&o.compare(m,e)>0;)h.getNext(),m=h.peek();return h}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===El?-1:0}withIndex(e){if(e===Pr||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===Pr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const l=this.getIterator(Wt),h=o.getIterator(Wt);let m=l.getNext(),C=h.getNext();for(;m&&C;){if(m.name!==C.name||!m.node.equals(C.node))return!1;m=l.getNext(),C=h.getNext()}return null===m&&null===C}return!1}return!1}}resolveIndex_(e){return e===Pr?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const El=new class extends tt{constructor(){super(new mr(Vs),tt.EMPTY_NODE,gi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return tt.EMPTY_NODE}isEmpty(){return!1}};function an(i,t=null){if(null===i)return tt.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(t=i[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new Ta(i,an(t));if(i instanceof Array){let e=tt.EMPTY_NODE;return nn(i,(o,l)=>{if((0,F.r3)(i,o)&&"."!==o.substring(0,1)){const h=an(l);(h.isLeafNode()||!h.isEmpty())&&(e=e.updateImmediateChild(o,h))}}),e.updatePriority(an(t))}{const e=[];let o=!1;if(nn(i,(m,C)=>{if("."!==m.substring(0,1)){const I=an(C);I.isEmpty()||(o=o||!I.getPriority().isEmpty(),e.push(new _t(m,I)))}}),0===e.length)return tt.EMPTY_NODE;const h=Wc(e,Wn,m=>m.name,Vs);if(o){const m=Wc(e,Wt.getCompare());return new tt(h,an(t),new gi({".priority":m},{".priority":Wt}))}return new tt(h,an(t),gi.Default)}}Object.defineProperties(_t,{MIN:{value:new _t(sr,tt.EMPTY_NODE)},MAX:{value:new _t(Qr,El)}}),vm.__EMPTY_NODE=tt.EMPTY_NODE,Ta.__childrenNodeConstructor=tt,xu=El,lh=El,function(i){ah=i}(an);class _r extends $c{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!dt(t)&&".priority"!==ct(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const o=this.extractChild(t.node),l=this.extractChild(e.node),h=o.compareTo(l);return 0===h?pr(t.name,e.name):h}makePost(t,e){const o=an(t),l=tt.EMPTY_NODE.updateChild(this.indexPath_,o);return new _t(e,l)}maxPost(){const t=tt.EMPTY_NODE.updateChild(this.indexPath_,El);return new _t(Qr,t)}toString(){return Ia(this.indexPath_,0).join("/")}}const Sa=new class extends $c{compare(t,e){const o=t.node.compareTo(e.node);return 0===o?pr(t.name,e.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return _t.MIN}maxPost(){return _t.MAX}makePost(t,e){const o=an(t);return new _t(e,o)}toString(){return".value"}},Ra="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",hh=function(){let i=0;const t=[];return function(e){const o=e===i;let l;i=e;const h=new Array(8);for(l=7;l>=0;l--)h[l]=Ra.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let m=h.join("");if(o){for(l=11;l>=0&&63===t[l];l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)m+=Ra.charAt(t[l]);return(0,F.hu)(20===m.length,"nextPushId: Length should be 20."),m}}(),mp=function(i){if(i===""+ae)return"-";const t=Ee(i);if(null!=t)return""+(t+1);const e=new Array(i.length);for(let m=0;m<e.length;m++)e[m]=i.charAt(m);if(e.length<786)return e.push("-"),e.join("");let o=e.length-1;for(;o>=0&&"z"===e[o];)o--;if(-1===o)return Qr;const h=Ra.charAt(Ra.indexOf(e[o])+1);return e[o]=h,e.slice(0,o+1).join("")},Us=function(i){if(i===""+q)return sr;const t=Ee(i);if(null!=t)return""+(t-1);const e=new Array(i.length);for(let o=0;o<e.length;o++)e[o]=i.charAt(o);return"-"===e[e.length-1]?1===e.length?""+ae:(delete e[e.length-1],e.join("")):(e[e.length-1]=Ra.charAt(Ra.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function fh(i){return{type:"value",snapshotNode:i}}function Vi(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Nr(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function zc(i,t,e){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:e}}class Qn{constructor(t){this.index_=t}updateChild(t,e,o,l,h,m){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const C=t.getImmediateChild(e);return C.getChild(l).equals(o.getChild(l))&&C.isEmpty()===o.isEmpty()||(null!=m&&(o.isEmpty()?t.hasChild(e)?m.trackChildChange(Nr(e,C)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):C.isEmpty()?m.trackChildChange(Vi(e,o)):m.trackChildChange(zc(e,o,C))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(t,e,o){return null!=o&&(t.isLeafNode()||t.forEachChild(Wt,(l,h)=>{e.hasChild(l)||o.trackChildChange(Nr(l,h))}),e.isLeafNode()||e.forEachChild(Wt,(l,h)=>{if(t.hasChild(l)){const m=t.getImmediateChild(l);m.equals(h)||o.trackChildChange(zc(l,h,m))}else o.trackChildChange(Vi(l,h))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?tt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Cl{constructor(t){this.indexedFilter_=new Qn(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Cl.getStartPost_(t),this.endPost_=Cl.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,o,l,h,m){return this.matches(new _t(e,o))||(o=tt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,o,l,h,m)}updateFullNode(t,e,o){e.isLeafNode()&&(e=tt.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(tt.EMPTY_NODE);const h=this;return e.forEachChild(Wt,(m,C)=>{h.matches(new _t(m,C))||(l=l.updateImmediateChild(m,tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class mi{constructor(t){this.rangedFilter_=new Cl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,o,l,h,m){return this.rangedFilter_.matches(new _t(e,o))||(o=tt.EMPTY_NODE),t.getImmediateChild(e).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,o,l,h,m):this.fullLimitUpdateChild_(t,e,o,h,m)}updateFullNode(t,e,o){let l;if(e.isLeafNode()||e.isEmpty())l=tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let h;l=tt.EMPTY_NODE.withIndex(this.index_),h=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;h.hasNext()&&m<this.limit_;){const C=h.getNext();let I;if(I=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),C)<=0:this.index_.compare(C,this.rangedFilter_.getEndPost())<=0,!I)break;l=l.updateImmediateChild(C.name,C.node),m++}}else{let h,m,C,I;if(l=e.withIndex(this.index_),l=l.updatePriority(tt.EMPTY_NODE),this.reverse_){I=l.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),m=this.rangedFilter_.getStartPost();const V=this.index_.getCompare();C=(Q,se)=>V(se,Q)}else I=l.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),m=this.rangedFilter_.getEndPost(),C=this.index_.getCompare();let M=0,W=!1;for(;I.hasNext();){const V=I.getNext();!W&&C(h,V)<=0&&(W=!0),W&&M<this.limit_&&C(V,m)<=0?M++:l=l.updateImmediateChild(V.name,tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,o,l,h){let m;if(this.reverse_){const V=this.index_.getCompare();m=(Q,se)=>V(se,Q)}else m=this.index_.getCompare();const C=t;(0,F.hu)(C.numChildren()===this.limit_,"");const I=new _t(e,o),M=this.reverse_?C.getFirstChild(this.index_):C.getLastChild(this.index_),W=this.rangedFilter_.matches(I);if(C.hasChild(e)){const V=C.getImmediateChild(e);let Q=l.getChildAfterChild(this.index_,M,this.reverse_);for(;null!=Q&&(Q.name===e||C.hasChild(Q.name));)Q=l.getChildAfterChild(this.index_,Q,this.reverse_);const se=null==Q?1:m(Q,I);if(W&&!o.isEmpty()&&se>=0)return null!=h&&h.trackChildChange(zc(e,o,V)),C.updateImmediateChild(e,o);{null!=h&&h.trackChildChange(Nr(e,V));const He=C.updateImmediateChild(e,tt.EMPTY_NODE);return null!=Q&&this.rangedFilter_.matches(Q)?(null!=h&&h.trackChildChange(Vi(Q.name,Q.node)),He.updateImmediateChild(Q.name,Q.node)):He}}return o.isEmpty()?t:W&&m(M,I)>=0?(null!=h&&(h.trackChildChange(Nr(M.name,M.node)),h.trackChildChange(Vi(e,o))),C.updateImmediateChild(e,o).updateImmediateChild(M.name,tt.EMPTY_NODE)):t}}class bl{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Wt}copy(){const t=new bl;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function To(i,t,e){const o=i.copy();return o.startSet_=!0,void 0===t&&(t=null),o.indexStartValue_=t,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function qc(i,t,e){const o=i.copy();return o.endSet_=!0,void 0===t&&(t=null),o.indexEndValue_=t,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function wl(i,t){const e=i.copy();return e.index_=t,e}function mh(i){const t={};if(i.isDefault())return t;let e;return i.index_===Wt?e="$priority":i.index_===Sa?e="$value":i.index_===Pr?e="$key":((0,F.hu)(i.index_ instanceof _r,"Unrecognized index type!"),e=i.index_.toString()),t.orderBy=(0,F.Pz)(e),i.startSet_&&(t.startAt=(0,F.Pz)(i.indexStartValue_),i.startNameSet_&&(t.startAt+=","+(0,F.Pz)(i.indexStartName_))),i.endSet_&&(t.endAt=(0,F.Pz)(i.indexEndValue_),i.endNameSet_&&(t.endAt+=","+(0,F.Pz)(i.indexEndName_))),i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function _(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_)),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_)),i.limitSet_){t.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),t.vf=e}return i.index_!==Wt&&(t.i=i.index_.toString()),t}class d extends pm{constructor(t,e,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=mo("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,o,l){const h=t._path.toString();this.log_("Listen called for "+h+" "+t._queryIdentifier);const m=d.getListenId_(t,o),C={};this.listens_[m]=C;const I=mh(t._queryParams);this.restRequest_(h+".json",I,(M,W)=>{let V=W;if(404===M&&(V=null,M=null),null===M&&this.onDataUpdate_(h,V,!1,o),(0,F.DV)(this.listens_,m)===C){let Q;Q=M?401===M?"permission_denied":"rest_error:"+M:"ok",l(Q,null)}})}unlisten(t,e){const o=d.getListenId_(t,e);delete this.listens_[o]}get(t){const e=mh(t._queryParams),o=t._path.toString(),l=new F.BH;return this.restRequest_(o+".json",e,(h,m)=>{let C=m;404===h&&(C=null,h=null),null===h?(this.onDataUpdate_(o,C,!1,null),l.resolve(C)):l.reject(new Error(C))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,h])=>{l&&l.accessToken&&(e.auth=l.accessToken),h&&h.token&&(e.ac=h.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+m);const C=new XMLHttpRequest;C.onreadystatechange=()=>{if(o&&4===C.readyState){this.log_("REST Response for "+m+" received. status:",C.status,"response:",C.responseText);let I=null;if(C.status>=200&&C.status<300){try{I=(0,F.cI)(C.responseText)}catch(M){gn("Failed to parse JSON response for "+m+": "+C.responseText)}o(null,I)}else 401!==C.status&&404!==C.status&&gn("Got unsuccessful REST response for "+m+" Status: "+C.status),o(C.status);o=null}},C.open("GET",m,!0),C.send()})}}class f{constructor(){this.rootNode_=tt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function v(){return{value:null,children:new Map}}function D(i,t,e){if(dt(t))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(t,e);else{const o=ct(t);i.children.has(o)||i.children.set(o,v()),D(i.children.get(o),t=qt(t),e)}}function S(i,t){if(dt(t))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild(Wt,(o,l)=>{D(i,new St(o),l)}),S(i,t)}}if(i.children.size>0){const e=ct(t);return t=qt(t),i.children.has(e)&&S(i.children.get(e),t)&&i.children.delete(e),0===i.children.size}return!0}function $(i,t,e){null!==i.value?e(t,i.value):function(i,t){i.children.forEach((e,o)=>{t(o,e)})}(i,(o,l)=>{$(l,new St(t.toString()+"/"+o),e)})}class Ae{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&nn(this.last_,(o,l)=>{e[o]=e[o]-l}),this.last_=t,e}}class vt{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ae(t);const o=1e4+2e4*Math.random();ut(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),e={};let o=!1;nn(t,(l,h)=>{h>0&&(0,F.r3)(this.statsToReport_,l)&&(e[l]=h,o=!0)}),o&&this.server_.reportStats(e),ut(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Vt=(()=>(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Vt||(Vt={})),Vt))();function Vu(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class Uu{constructor(t,e,o){this.path=t,this.affectedTree=e,this.revert=o,this.type=Vt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(dt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new St(t));return new Uu(Mt(),e,this.revert)}}return(0,F.hu)(ct(this.path)===t,"operationForChild called for unrelated child."),new Uu(qt(this.path),this.affectedTree,this.revert)}}class Ma{constructor(t,e){this.source=t,this.path=e,this.type=Vt.LISTEN_COMPLETE}operationForChild(t){return dt(this.path)?new Ma(this.source,Mt()):new Ma(this.source,qt(this.path))}}class ds{constructor(t,e,o){this.source=t,this.path=e,this.snap=o,this.type=Vt.OVERWRITE}operationForChild(t){return dt(this.path)?new ds(this.source,Mt(),this.snap.getImmediateChild(t)):new ds(this.source,qt(this.path),this.snap)}}class Xr{constructor(t,e,o){this.source=t,this.path=e,this.children=o,this.type=Vt.MERGE}operationForChild(t){if(dt(this.path)){const e=this.children.subtree(new St(t));return e.isEmpty()?null:e.value?new ds(this.source,Mt(),e.value):new Xr(this.source,Mt(),e)}return(0,F.hu)(ct(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Xr(this.source,qt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class hs{constructor(t,e,o){this.node_=t,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(dt(t))return this.isFullyInitialized()&&!this.filtered_;const e=ct(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Kc{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function So(i,t,e,o,l,h){const m=o.filter(C=>C.type===e);m.sort((C,I)=>function(i,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const o=new _t(t.childName,t.snapshotNode),l=new _t(e.childName,e.snapshotNode);return i.index_.compare(o,l)}(i,C,I)),m.forEach(C=>{const I=function(i,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}(i,C,h);l.forEach(M=>{M.respondsTo(C.type)&&t.push(M.createEvent(I,i.query_))})})}function yh(i,t){return{eventCache:i,serverCache:t}}function Yc(i,t,e,o){return yh(new hs(t,e,o),i.serverCache)}function vp(i,t,e,o){return yh(i.eventCache,new hs(t,e,o))}function vh(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Ro(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let Qc;class sn{constructor(t,e=(()=>(Qc||(Qc=new mr(Nc)),Qc))()){this.value=t,this.children=e}static fromObject(t){let e=new sn(null);return nn(t,(o,l)=>{e=e.set(new St(o),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Mt(),value:this.value};if(dt(t))return null;{const o=ct(t),l=this.children.get(o);if(null!==l){const h=l.findRootMostMatchingPathAndValue(qt(t),e);return null!=h?{path:rn(new St(o),h.path),value:h.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(dt(t))return this;{const e=ct(t),o=this.children.get(e);return null!==o?o.subtree(qt(t)):new sn(null)}}set(t,e){if(dt(t))return new sn(e,this.children);{const o=ct(t),h=(this.children.get(o)||new sn(null)).set(qt(t),e),m=this.children.insert(o,h);return new sn(this.value,m)}}remove(t){if(dt(t))return this.children.isEmpty()?new sn(null):new sn(null,this.children);{const e=ct(t),o=this.children.get(e);if(o){const l=o.remove(qt(t));let h;return h=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&h.isEmpty()?new sn(null):new sn(this.value,h)}return this}}get(t){if(dt(t))return this.value;{const e=ct(t),o=this.children.get(e);return o?o.get(qt(t)):null}}setTree(t,e){if(dt(t))return e;{const o=ct(t),h=(this.children.get(o)||new sn(null)).setTree(qt(t),e);let m;return m=h.isEmpty()?this.children.remove(o):this.children.insert(o,h),new sn(this.value,m)}}fold(t){return this.fold_(Mt(),t)}fold_(t,e){const o={};return this.children.inorderTraversal((l,h)=>{o[l]=h.fold_(rn(t,l),e)}),e(t,this.value,o)}findOnPath(t,e){return this.findOnPath_(t,Mt(),e)}findOnPath_(t,e,o){const l=!!this.value&&o(e,this.value);if(l)return l;if(dt(t))return null;{const h=ct(t),m=this.children.get(h);return m?m.findOnPath_(qt(t),rn(e,h),o):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Mt(),e)}foreachOnPath_(t,e,o){if(dt(t))return this;{this.value&&o(e,this.value);const l=ct(t),h=this.children.get(l);return h?h.foreachOnPath_(qt(t),rn(e,l),o):new sn(null)}}foreach(t){this.foreach_(Mt(),t)}foreach_(t,e){this.children.inorderTraversal((o,l)=>{l.foreach_(rn(t,o),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,o)=>{o.value&&t(e,o.value)})}}class fs{constructor(t){this.writeTree_=t}static empty(){return new fs(new sn(null))}}function Bu(i,t,e){if(dt(t))return new fs(new sn(e));{const o=i.writeTree_.findRootMostValueAndPath(t);if(null!=o){const l=o.path;let h=o.value;const m=Mr(l,t);return h=h.updateChild(m,e),new fs(i.writeTree_.set(l,h))}{const l=new sn(e),h=i.writeTree_.setTree(t,l);return new fs(h)}}}function ju(i,t,e){let o=i;return nn(e,(l,h)=>{o=Bu(o,rn(t,l),h)}),o}function gv(i,t){if(dt(t))return fs.empty();{const e=i.writeTree_.setTree(t,new sn(null));return new fs(e)}}function Ep(i,t){return null!=Hu(i,t)}function Hu(i,t){const e=i.writeTree_.findRootMostValueAndPath(t);return null!=e?i.writeTree_.get(e.path).getChild(Mr(e.path,t)):null}function mv(i){const t=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Wt,(o,l)=>{t.push(new _t(o,l))}):i.writeTree_.children.inorderTraversal((o,l)=>{null!=l.value&&t.push(new _t(o,l.value))}),t}function Pa(i,t){if(dt(t))return i;{const e=Hu(i,t);return new fs(null!=e?new sn(e):i.writeTree_.subtree(t))}}function Eh(i){return i.writeTree_.isEmpty()}function $u(i,t){return fw(Mt(),i.writeTree_,t)}function fw(i,t,e){if(null!=t.value)return e.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((l,h)=>{".priority"===l?((0,F.hu)(null!==h.value,"Priority writes must always be leaf nodes"),o=h.value):e=fw(rn(i,l),h,e)}),!e.getChild(i).isEmpty()&&null!==o&&(e=e.updateChild(rn(i,".priority"),o)),e}}function Ch(i,t){return bv(t,i)}function Bs(i,t){if(i.snap)return pi(i.path,t);for(const e in i.children)if(i.children.hasOwnProperty(e)&&pi(rn(i.path,e),t))return!0;return!1}function yv(i){return i.visible}function vv(i,t,e){let o=fs.empty();for(let l=0;l<i.length;++l){const h=i[l];if(t(h)){const m=h.path;let C;if(h.snap)pi(e,m)?(C=Mr(e,m),o=Bu(o,C,h.snap)):pi(m,e)&&(C=Mr(m,e),o=Bu(o,Mt(),h.snap.getChild(C)));else{if(!h.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(pi(e,m))C=Mr(e,m),o=ju(o,C,h.children);else if(pi(m,e))if(C=Mr(m,e),dt(C))o=ju(o,Mt(),h.children);else{const I=(0,F.DV)(h.children,ct(C));if(I){const M=I.getChild(qt(C));o=Bu(o,Mt(),M)}}}}}return o}function Ev(i,t,e,o,l){if(o||l){const h=Pa(i.visibleWrites,t);return!l&&Eh(h)?e:l||null!=e||Ep(h,Mt())?$u(vv(i.allWrites,function(M){return(M.visible||l)&&(!o||!~o.indexOf(M.writeId))&&(pi(M.path,t)||pi(t,M.path))},t),e||tt.EMPTY_NODE):null}{const h=Hu(i.visibleWrites,t);if(null!=h)return h;{const m=Pa(i.visibleWrites,t);return Eh(m)?e:null!=e||Ep(m,Mt())?$u(m,e||tt.EMPTY_NODE):null}}}function nt(i,t,e,o){return Ev(i.writeTree,i.treePath,t,e,o)}function Cp(i,t){return function(i,t,e){let o=tt.EMPTY_NODE;const l=Hu(i.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Wt,(h,m)=>{o=o.updateImmediateChild(h,m)}),o;if(e){const h=Pa(i.visibleWrites,t);return e.forEachChild(Wt,(m,C)=>{const I=$u(Pa(h,new St(m)),C);o=o.updateImmediateChild(m,I)}),mv(h).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}return mv(Pa(i.visibleWrites,t)).forEach(m=>{o=o.updateImmediateChild(m.name,m.node)}),o}(i.writeTree,i.treePath,t)}function Tm(i,t,e,o){return function(i,t,e,o,l){(0,F.hu)(o||l,"Either existingEventSnap or existingServerSnap must exist");const h=rn(t,e);if(Ep(i.visibleWrites,h))return null;{const m=Pa(i.visibleWrites,h);return Eh(m)?l.getChild(e):$u(m,l.getChild(e))}}(i.writeTree,i.treePath,t,e,o)}function bh(i,t){return function(i,t){return Hu(i.visibleWrites,t)}(i.writeTree,rn(i.treePath,t))}function ji(i,t,e){return function(i,t,e,o){const l=rn(t,e),h=Hu(i.visibleWrites,l);return null!=h?h:o.isCompleteForChild(e)?$u(Pa(i.visibleWrites,l),o.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,t,e)}function Am(i,t){return bv(rn(i.treePath,t),i.writeTree)}function bv(i,t){return{treePath:i,writeTree:t}}class Sm{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,o=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const h=l.type;if("child_added"===e&&"child_removed"===h)this.changeMap.set(o,zc(o,t.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===h)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===h)this.changeMap.set(o,Nr(o,l.oldSnap));else if("child_changed"===e&&"child_added"===h)this.changeMap.set(o,Vi(o,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==h)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+l);this.changeMap.set(o,zc(o,t.snapshotNode,l.oldSnap))}}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}const wp=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,o){return null}};class Ip{constructor(t,e,o=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const o=null!=this.optCompleteServerCache_?new hs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ji(this.writes_,t,o)}}getChildAfterChild(t,e,o){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ro(this.viewCache_),h=function(i,t,e,o,l,h){return function(i,t,e,o,l,h,m){let C;const I=Pa(i.visibleWrites,t),M=Hu(I,Mt());if(null!=M)C=M;else{if(null==e)return[];C=$u(I,e)}if(C=C.withIndex(m),C.isEmpty()||C.isLeafNode())return[];{const W=[],V=m.getCompare(),Q=h?C.getReverseIteratorFrom(o,m):C.getIteratorFrom(o,m);let se=Q.getNext();for(;se&&W.length<l;)0!==V(se,o)&&W.push(se),se=Q.getNext();return W}}(i.writeTree,i.treePath,t,e,o,l,h)}(this.writes_,l,e,1,o,t);return 0===h.length?null:h[0]}}function wh(i,t,e,o,l,h){const m=t.eventCache;if(null!=bh(o,e))return t;{let C,I;if(dt(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const M=Ro(t),V=Cp(o,M instanceof tt?M:tt.EMPTY_NODE);C=i.filter.updateFullNode(t.eventCache.getNode(),V,h)}else{const M=nt(o,Ro(t));C=i.filter.updateFullNode(t.eventCache.getNode(),M,h)}else{const M=ct(e);if(".priority"===M){(0,F.hu)(1===Fs(e),"Can't have a priority with additional path components");const W=m.getNode();I=t.serverCache.getNode();const V=Tm(o,e,W,I);C=null!=V?i.filter.updatePriority(W,V):m.getNode()}else{const W=qt(e);let V;if(m.isCompleteForChild(M)){I=t.serverCache.getNode();const Q=Tm(o,e,m.getNode(),I);V=null!=Q?m.getNode().getImmediateChild(M).updateChild(W,Q):m.getNode().getImmediateChild(M)}else V=ji(o,M,t.serverCache);C=null!=V?i.filter.updateChild(m.getNode(),M,V,W,l,h):m.getNode()}}return Yc(t,C,m.isFullyInitialized()||dt(e),i.filter.filtersNodes())}}function Wu(i,t,e,o,l,h,m,C){const I=t.serverCache;let M;const W=m?i.filter:i.filter.getIndexedFilter();if(dt(e))M=W.updateFullNode(I.getNode(),o,null);else if(W.filtersNodes()&&!I.isFiltered()){const se=I.getNode().updateChild(e,o);M=W.updateFullNode(I.getNode(),se,null)}else{const se=ct(e);if(!I.isCompleteForPath(e)&&Fs(e)>1)return t;const we=qt(e),Ye=I.getNode().getImmediateChild(se).updateChild(we,o);M=".priority"===se?W.updatePriority(I.getNode(),Ye):W.updateChild(I.getNode(),se,Ye,we,wp,null)}const V=vp(t,M,I.isFullyInitialized()||dt(e),W.filtersNodes());return wh(i,V,e,l,new Ip(l,V,h),C)}function Ih(i,t,e,o,l,h,m){const C=t.eventCache;let I,M;const W=new Ip(l,t,h);if(dt(e))M=i.filter.updateFullNode(t.eventCache.getNode(),o,m),I=Yc(t,M,!0,i.filter.filtersNodes());else{const V=ct(e);if(".priority"===V)M=i.filter.updatePriority(t.eventCache.getNode(),o),I=Yc(t,M,C.isFullyInitialized(),C.isFiltered());else{const Q=qt(e),se=C.getNode().getImmediateChild(V);let we;if(dt(Q))we=o;else{const He=W.getCompleteChild(V);we=null!=He?".priority"===up(Q)&&He.getChild(Pu(Q)).isEmpty()?He:He.updateChild(Q,o):tt.EMPTY_NODE}I=se.equals(we)?t:Yc(t,i.filter.updateChild(C.getNode(),V,we,Q,W,m),C.isFullyInitialized(),i.filter.filtersNodes())}}return I}function Dp(i,t){return i.eventCache.isCompleteForChild(t)}function ww(i,t,e){return e.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function Pm(i,t,e,o,l,h,m,C){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let M,I=t;M=dt(e)?o:new sn(null).setTree(e,o);const W=t.serverCache.getNode();return M.children.inorderTraversal((V,Q)=>{if(W.hasChild(V)){const we=ww(0,t.serverCache.getNode().getImmediateChild(V),Q);I=Wu(i,I,new St(V),we,l,h,m,C)}}),M.children.inorderTraversal((V,Q)=>{const se=!t.serverCache.isCompleteForChild(V)&&void 0===Q.value;if(!W.hasChild(V)&&!se){const He=ww(0,t.serverCache.getNode().getImmediateChild(V),Q);I=Wu(i,I,new St(V),He,l,h,m,C)}}),I}class Iv{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new Qn(o.getIndex()),h=function(i){return i.loadsAllData()?new Qn(i.getIndex()):i.hasLimit()?new mi(i):new Cl(i)}(o);this.processor_=function(i){return{filter:i}}(h);const m=e.serverCache,C=e.eventCache,I=l.updateFullNode(tt.EMPTY_NODE,m.getNode(),null),M=h.updateFullNode(tt.EMPTY_NODE,C.getNode(),null),W=new hs(I,m.isFullyInitialized(),l.filtersNodes()),V=new hs(M,C.isFullyInitialized(),h.filtersNodes());this.viewCache_=yh(V,W),this.eventGenerator_=new Kc(this.query_)}get query(){return this.query_}}function LT(i,t){const e=Ro(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!dt(t)&&!e.getImmediateChild(ct(t)).isEmpty())?e.getChild(t):null}function Nm(i){return 0===i.eventRegistrations_.length}function Tv(i,t,e){const o=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(h=>{const m=h.createCancelEvent(e,l);m&&o.push(m)})}if(t){let l=[];for(let h=0;h<i.eventRegistrations_.length;++h){const m=i.eventRegistrations_[h];if(m.matches(t)){if(t.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(h+1));break}}else l.push(m)}i.eventRegistrations_=l}else i.eventRegistrations_=[];return o}function Tp(i,t,e,o){t.type===Vt.MERGE&&null!==t.source.queryId&&((0,F.hu)(Ro(i.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(vh(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,h=function(i,t,e,o,l){const h=new Sm;let m,C;if(e.type===Vt.OVERWRITE){const M=e;M.source.fromUser?m=Ih(i,t,M.path,M.snap,o,l,h):((0,F.hu)(M.source.fromServer,"Unknown source."),C=M.source.tagged||t.serverCache.isFiltered()&&!dt(M.path),m=Wu(i,t,M.path,M.snap,o,l,C,h))}else if(e.type===Vt.MERGE){const M=e;M.source.fromUser?m=function(i,t,e,o,l,h,m){let C=t;return o.foreach((I,M)=>{const W=rn(e,I);Dp(t,ct(W))&&(C=Ih(i,C,W,M,l,h,m))}),o.foreach((I,M)=>{const W=rn(e,I);Dp(t,ct(W))||(C=Ih(i,C,W,M,l,h,m))}),C}(i,t,M.path,M.children,o,l,h):((0,F.hu)(M.source.fromServer,"Unknown source."),C=M.source.tagged||t.serverCache.isFiltered(),m=Pm(i,t,M.path,M.children,o,l,C,h))}else if(e.type===Vt.ACK_USER_WRITE){const M=e;m=M.revert?function(i,t,e,o,l,h){let m;if(null!=bh(o,e))return t;{const C=new Ip(o,t,l),I=t.eventCache.getNode();let M;if(dt(e)||".priority"===ct(e)){let W;if(t.serverCache.isFullyInitialized())W=nt(o,Ro(t));else{const V=t.serverCache.getNode();(0,F.hu)(V instanceof tt,"serverChildren would be complete if leaf node"),W=Cp(o,V)}W=W,M=i.filter.updateFullNode(I,W,h)}else{const W=ct(e);let V=ji(o,W,t.serverCache);null==V&&t.serverCache.isCompleteForChild(W)&&(V=I.getImmediateChild(W)),M=null!=V?i.filter.updateChild(I,W,V,qt(e),C,h):t.eventCache.getNode().hasChild(W)?i.filter.updateChild(I,W,tt.EMPTY_NODE,qt(e),C,h):I,M.isEmpty()&&t.serverCache.isFullyInitialized()&&(m=nt(o,Ro(t)),m.isLeafNode()&&(M=i.filter.updateFullNode(M,m,h)))}return m=t.serverCache.isFullyInitialized()||null!=bh(o,Mt()),Yc(t,M,m,i.filter.filtersNodes())}}(i,t,M.path,o,l,h):function(i,t,e,o,l,h,m){if(null!=bh(l,e))return t;const C=t.serverCache.isFiltered(),I=t.serverCache;if(null!=o.value){if(dt(e)&&I.isFullyInitialized()||I.isCompleteForPath(e))return Wu(i,t,e,I.getNode().getChild(e),l,h,C,m);if(dt(e)){let M=new sn(null);return I.getNode().forEachChild(Pr,(W,V)=>{M=M.set(new St(W),V)}),Pm(i,t,e,M,l,h,C,m)}return t}{let M=new sn(null);return o.foreach((W,V)=>{const Q=rn(e,W);I.isCompleteForPath(Q)&&(M=M.set(W,I.getNode().getChild(Q)))}),Pm(i,t,e,M,l,h,C,m)}}(i,t,M.path,M.affectedTree,o,l,h)}else{if(e.type!==Vt.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);m=function(i,t,e,o,l){const h=t.serverCache;return wh(i,vp(t,h.getNode(),h.isFullyInitialized()||dt(e),h.isFiltered()),e,o,wp,l)}(i,t,e.path,o,h)}const I=h.getChanges();return function(i,t,e){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),h=vh(i);(e.length>0||!i.eventCache.isFullyInitialized()||l&&!o.getNode().equals(h)||!o.getNode().getPriority().equals(h.getPriority()))&&e.push(fh(vh(t)))}}(t,m,I),{viewCache:m,changes:I}}(i.processor_,l,t,e,o);return function(i,t){(0,F.hu)(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,h.viewCache),(0,F.hu)(h.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=h.viewCache,Sw(i,h.changes,h.viewCache.eventCache.getNode(),null)}function Sw(i,t,e,o){return function(i,t,e,o){const l=[],h=[];return t.forEach(m=>{"child_changed"===m.type&&i.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&h.push(function(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}(m.childName,m.snapshotNode))}),So(i,l,"child_removed",t,o,e),So(i,l,"child_added",t,o,e),So(i,l,"child_moved",h,o,e),So(i,l,"child_changed",t,o,e),So(i,l,"value",t,o,e),l}(i.eventGenerator_,t,e,o?[o]:i.eventRegistrations_)}let xm,Rp;class Rw{constructor(){this.views=new Map}}function Av(i,t,e,o){const l=t.source.queryId;if(null!==l){const h=i.views.get(l);return(0,F.hu)(null!=h,"SyncTree gave us an op for an invalid query."),Tp(h,t,e,o)}{let h=[];for(const m of i.views.values())h=h.concat(Tp(m,t,e,o));return h}}function Mw(i,t,e,o,l){const m=i.views.get(t._queryIdentifier);if(!m){let C=nt(e,l?o:null),I=!1;C?I=!0:o instanceof tt?(C=Cp(e,o),I=!1):(C=tt.EMPTY_NODE,I=!1);const M=yh(new hs(C,I,!1),new hs(o,l,!1));return new Iv(t,M)}return m}function Ap(i){const t=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Dl(i,t){let e=null;for(const o of i.views.values())e=e||LT(o,t);return e}function Om(i,t){return t._queryParams.loadsAllData()?Jc(i):i.views.get(t._queryIdentifier)}function Sp(i,t){return null!=Om(i,t)}function xa(i){return null!=Jc(i)}function Jc(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Pw=1;class Mp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new sn(null),this.pendingWriteTree_={visibleWrites:fs.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function km(i,t,e,o,l){return function(i,t,e,o,l){(0,F.hu)(o>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),i.allWrites.push({path:t,snap:e,writeId:o,visible:l}),l&&(i.visibleWrites=Bu(i.visibleWrites,t,e)),i.lastWriteId=o}(i.pendingWriteTree_,t,e,o,l),l?Rl(i,new ds({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Al(i,t,e=!1){const o=function(i,t){for(let e=0;e<i.allWrites.length;e++){const o=i.allWrites[e];if(o.writeId===t)return o}return null}(i.pendingWriteTree_,t);if(function(i,t){const e=i.allWrites.findIndex(C=>C.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[e];i.allWrites.splice(e,1);let l=o.visible,h=!1,m=i.allWrites.length-1;for(;l&&m>=0;){const C=i.allWrites[m];C.visible&&(m>=e&&Bs(C,o.path)?l=!1:pi(o.path,C.path)&&(h=!0)),m--}return!!l&&(h?(function(i){i.visibleWrites=vv(i.allWrites,yv,Mt()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(o.snap?i.visibleWrites=gv(i.visibleWrites,o.path):nn(o.children,I=>{i.visibleWrites=gv(i.visibleWrites,rn(o.path,I))}),!0))}(i.pendingWriteTree_,t)){let h=new sn(null);return null!=o.snap?h=h.set(Mt(),!0):nn(o.children,m=>{h=h.set(new St(m),!0)}),Rl(i,new Uu(o.path,h,e))}return[]}function Dh(i,t,e){return Rl(i,new ds({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Sl(i,t,e,o){const l=t._path,h=i.syncPointTree_.get(l);let m=[];if(h&&("default"===t._queryIdentifier||Sp(h,t))){const C=function(i,t,e,o){const l=t._queryIdentifier,h=[];let m=[];const C=xa(i);if("default"===l)for(const[I,M]of i.views.entries())m=m.concat(Tv(M,e,o)),Nm(M)&&(i.views.delete(I),M.query._queryParams.loadsAllData()||h.push(M.query));else{const I=i.views.get(l);I&&(m=m.concat(Tv(I,e,o)),Nm(I)&&(i.views.delete(l),I.query._queryParams.loadsAllData()||h.push(I.query)))}return C&&!xa(i)&&h.push(new((0,F.hu)(xm,"Reference.ts has not been loaded"),xm)(t._repo,t._path)),{removed:h,events:m}}(h,t,e,o);(function(i){return 0===i.views.size})(h)&&(i.syncPointTree_=i.syncPointTree_.remove(l));const I=C.removed;m=C.events;const M=-1!==I.findIndex(V=>V._queryParams.loadsAllData()),W=i.syncPointTree_.findOnPath(l,(V,Q)=>xa(Q));if(M&&!W){const V=i.syncPointTree_.subtree(l);if(!V.isEmpty()){const Q=function(i){return i.fold((t,e,o)=>{if(e&&xa(e))return[Jc(e)];{let l=[];return e&&(l=Ap(e)),nn(o,(h,m)=>{l=l.concat(m)}),l}})}(V);for(let se=0;se<Q.length;++se){const we=Q[se],He=we.query,Ye=Rh(i,we);i.listenProvider_.startListening(td(He),Np(i,He),Ye.hashFn,Ye.onComplete)}}}if(!W&&I.length>0&&!o)if(M){const V=null;i.listenProvider_.stopListening(td(t),V)}else I.forEach(V=>{const Q=i.queryToTagMap.get(Mh(V));i.listenProvider_.stopListening(td(V),Q)});!function(i,t){for(let e=0;e<t.length;++e){const o=t[e];if(!o._queryParams.loadsAllData()){const l=Mh(o),h=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(h)}}}(i,I)}return m}function Mv(i,t,e){const o=t._path;let l=null,h=!1;i.syncPointTree_.foreachOnPath(o,(V,Q)=>{const se=Mr(V,o);l=l||Dl(Q,se),h=h||xa(Q)});let C,m=i.syncPointTree_.get(o);m?(h=h||xa(m),l=l||Dl(m,Mt())):(m=new Rw,i.syncPointTree_=i.syncPointTree_.set(o,m)),null!=l?C=!0:(C=!1,l=tt.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((Q,se)=>{const we=Dl(se,Mt());we&&(l=l.updateImmediateChild(Q,we))}));const I=Sp(m,t);if(!I&&!t._queryParams.loadsAllData()){const V=Mh(t);(0,F.hu)(!i.queryToTagMap.has(V),"View does not exist, but we have a tag");const Q=Pw++;i.queryToTagMap.set(V,Q),i.tagToQueryMap.set(Q,V)}let W=function(i,t,e,o,l,h){const m=Mw(i,t,o,l,h);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,m),function(i,t){i.eventRegistrations_.push(t)}(m,e),function(i,t){const e=i.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Wt,(h,m)=>{o.push(Vi(h,m))}),e.isFullyInitialized()&&o.push(fh(e.getNode())),Sw(i,o,e.getNode(),t)}(m,e)}(m,t,e,Ch(i.pendingWriteTree_,o),l,C);if(!I&&!h){const V=Om(m,t);W=W.concat(function(i,t,e){const o=t._path,l=Np(i,t),h=Rh(i,e),m=i.listenProvider_.startListening(td(t),l,h.hashFn,h.onComplete),C=i.syncPointTree_.subtree(o);if(l)(0,F.hu)(!xa(C.value),"If we're adding a query, it shouldn't be shadowed");else{const I=C.fold((M,W,V)=>{if(!dt(M)&&W&&xa(W))return[Jc(W).query];{let Q=[];return W&&(Q=Q.concat(Ap(W).map(se=>se.query))),nn(V,(se,we)=>{Q=Q.concat(we)}),Q}});for(let M=0;M<I.length;++M){const W=I[M];i.listenProvider_.stopListening(td(W),Np(i,W))}}return m}(i,t,V))}return W}function Sh(i,t,e){const l=i.pendingWriteTree_,h=i.syncPointTree_.findOnPath(t,(m,C)=>{const M=Dl(C,Mr(m,t));if(M)return M});return Ev(l,t,h,e,!0)}function Rl(i,t){return Pp(t,i.syncPointTree_,null,Ch(i.pendingWriteTree_,Mt()))}function Pp(i,t,e,o){if(dt(i.path))return Lm(i,t,e,o);{const l=t.get(Mt());null==e&&null!=l&&(e=Dl(l,Mt()));let h=[];const m=ct(i.path),C=i.operationForChild(m),I=t.children.get(m);if(I&&C){const M=e?e.getImmediateChild(m):null,W=Am(o,m);h=h.concat(Pp(C,I,M,W))}return l&&(h=h.concat(Av(l,i,o,e))),h}}function Lm(i,t,e,o){const l=t.get(Mt());null==e&&null!=l&&(e=Dl(l,Mt()));let h=[];return t.children.inorderTraversal((m,C)=>{const I=e?e.getImmediateChild(m):null,M=Am(o,m),W=i.operationForChild(m);W&&(h=h.concat(Lm(W,C,I,M)))}),l&&(h=h.concat(Av(l,i,o,e))),h}function Rh(i,t){const e=t.query,o=Np(i,e);return{hashFn:()=>(function(i){return i.viewCache_.serverCache.getNode()}(t)||tt.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return o?function(i,t,e){const o=Nv(i,e);if(o){const l=xp(o),h=l.path,m=l.queryId,C=Mr(h,t);return Op(i,h,new Ma(Vu(m),C))}return[]}(i,e._path,o):function(i,t){return Rl(i,new Ma({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(i,e._path);{const h=function(i,t){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+e);return o.code=i.toUpperCase(),o}(l,e);return Sl(i,e,null,h)}}}}function Np(i,t){const e=Mh(t);return i.queryToTagMap.get(e)}function Mh(i){return i._path.toString()+"$"+i._queryIdentifier}function Nv(i,t){return i.tagToQueryMap.get(t)}function xp(i){const t=i.indexOf("$");return(0,F.hu)(-1!==t&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new St(i.substr(0,t))}}function Op(i,t,e){const o=i.syncPointTree_.get(t);return(0,F.hu)(o,"Missing sync point for query tag that we're tracking"),Av(o,e,Ch(i.pendingWriteTree_,t),null)}function td(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new((0,F.hu)(Rp,"Reference.ts has not been loaded"),Rp)(i._repo,i._path):i}class Vm{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Vm(e)}node(){return this.node_}}class Um{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=rn(this.path_,t);return new Um(this.syncTree_,e)}node(){return Sh(this.syncTree_,this.path_)}}const kw=function(i,t,e){return i&&"object"==typeof i?((0,F.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?xv(i[".sv"],t,e):"object"==typeof i[".sv"]?WT(i[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},xv=function(i,t,e){if("timestamp"===i)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+i)},WT=function(i,t,e){i.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;"number"!=typeof o&&(0,F.hu)(!1,"Unexpected increment value: "+o);const l=t.node();if((0,F.hu)(null!=l,"Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const m=l.getValue();return"number"!=typeof m?o:m+o},Ov=function(i,t,e,o){return kp(t,new Um(e,i),o)},Ph=function(i,t,e){return kp(i,new Vm(t),e)};function kp(i,t,e){const o=i.getPriority().val(),l=kw(o,t.getImmediateChild(".priority"),e);let h;if(i.isLeafNode()){const m=i,C=kw(m.getValue(),t,e);return C!==m.getValue()||l!==m.getPriority().val()?new Ta(C,an(l)):i}{const m=i;return h=m,l!==m.getPriority().val()&&(h=h.updatePriority(new Ta(l))),m.forEachChild(Wt,(C,I)=>{const M=kp(I,t.getImmediateChild(C),e);M!==I&&(h=h.updateImmediateChild(C,M))}),h}}class Bm{constructor(t="",e=null,o={children:{},childCount:0}){this.name=t,this.parent=e,this.node=o}}function Fp(i,t){let e=t instanceof St?t:new St(t),o=i,l=ct(e);for(;null!==l;){const h=(0,F.DV)(o.node.children,l)||{children:{},childCount:0};o=new Bm(l,o,h),e=qt(e),l=ct(e)}return o}function Gu(i){return i.node.value}function Lp(i,t){i.node.value=t,jm(i)}function kv(i){return i.node.childCount>0}function Vp(i,t){nn(i.node.children,(e,o)=>{t(new Bm(e,i,o))})}function Lv(i,t,e,o){e&&!o&&t(i),Vp(i,l=>{Lv(l,t,!0,o)}),e&&o&&t(i)}function nd(i){return new St(null===i.parent?i.name:nd(i.parent)+"/"+i.name)}function jm(i){null!==i.parent&&function(i,t,e){const o=function(i){return void 0===Gu(i)&&!kv(i)}(e),l=(0,F.r3)(i.node.children,t);o&&l?(delete i.node.children[t],i.node.childCount--,jm(i)):!o&&!l&&(i.node.children[t]=e.node,i.node.childCount++,jm(i))}(i.parent,i.name,i)}const Hm=/[\[\].#$\/\u0000-\u001F\u007F]/,Fw=/[\[\].#$\u0000-\u001F\u007F]/,$m=10485760,Wm=function(i){return"string"==typeof i&&0!==i.length&&!Hm.test(i)},Gm=function(i){return"string"==typeof i&&0!==i.length&&!Fw.test(i)},Nh=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!_o(i)||i&&"object"==typeof i&&(0,F.r3)(i,".sv")},Po=function(i,t,e,o){o&&void 0===t||zu((0,F.gK)(i,"value"),t,e)},zu=function(i,t,e){const o=e instanceof St?new gm(e,i):e;if(void 0===t)throw new Error(i+"contains undefined "+Io(o));if("function"==typeof t)throw new Error(i+"contains a function "+Io(o)+" with contents = "+t.toString());if(_o(t))throw new Error(i+"contains "+t.toString()+" "+Io(o));if("string"==typeof t&&t.length>$m/3&&(0,F.ug)(t)>$m)throw new Error(i+"contains a string greater than "+$m+" utf8 bytes "+Io(o)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let l=!1,h=!1;if(nn(t,(m,C)=>{if(".value"===m)l=!0;else if(".priority"!==m&&".sv"!==m&&(h=!0,!Wm(m)))throw new Error(i+" contains an invalid key ("+m+") "+Io(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=(0,F.ug)(t),Li(i)})(o,m),zu(i,C,o),function(i){const t=i.parts_.pop();i.byteLength_-=(0,F.ug)(t),i.parts_.length>0&&(i.byteLength_-=1)}(o)}),l&&h)throw new Error(i+' contains ".value" child '+Io(o)+" in addition to actual children.")}},Uv=function(i,t,e,o){if(o&&void 0===t)return;const l=(0,F.gK)(i,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const h=[];nn(t,(m,C)=>{const I=new St(m);if(zu(l,C,rn(e,I)),".priority"===up(I)&&!Nh(C))throw new Error(l+"contains an invalid value for '"+I.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(I)}),function(i,t){let e,o;for(e=0;e<t.length;e++){o=t[e];const h=Ia(o);for(let m=0;m<h.length;m++)if((".priority"!==h[m]||m!==h.length-1)&&!Wm(h[m]))throw new Error(i+"contains an invalid key ("+h[m]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(nh);let l=null;for(e=0;e<t.length;e++){if(o=t[e],null!==l&&pi(l,o))throw new Error(i+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}}(l,h)},rd=function(i,t,e){if(!e||void 0!==t){if(_o(t))throw new Error((0,F.gK)(i,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Nh(t))throw new Error((0,F.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Zu=function(i,t,e,o){if(!(o&&void 0===e||Wm(e)))throw new Error((0,F.gK)(i,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},xh=function(i,t,e,o){if(!(o&&void 0===e||Gm(e)))throw new Error((0,F.gK)(i,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_i=function(i,t){if(".info"===ct(t))throw new Error(i+" failed = Can't modify data under /.info/")},Zm=function(i,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Wm(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Gm(i)}(e))throw new Error((0,F.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Uw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Up(i,t){let e=null;for(let o=0;o<t.length;o++){const l=t[o],h=l.getPath();null!==e&&!jc(h,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:h}),e.events.push(l)}e&&i.eventLists_.push(e)}function Oh(i,t,e){Up(i,e),Bv(i,o=>jc(o,t))}function js(i,t,e){Up(i,e),Bv(i,o=>pi(o,t)||pi(t,o))}function Bv(i,t){i.recursionDepth_++;let e=!0;for(let o=0;o<i.eventLists_.length;o++){const l=i.eventLists_[o];l&&(t(l.path)?(jv(i.eventLists_[o]),i.eventLists_[o]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function jv(i){for(let t=0;t<i.events.length;t++){const e=i.events[t];if(null!==e){i.events[t]=null;const o=e.getEventRunner();Pn&&Fn("event: "+e.toString()),Me(o)}}}const qm="repo_interrupt";class $v{constructor(t,e,o,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Uw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=v(),this.transactionQueueTree_=new Bm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function No(i){const e=i.infoData_.getNode(new St(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Ml(i){return function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i}({timestamp:No(i)})}function Gv(i,t,e,o,l){i.dataUpdateCount++;const h=new St(t);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,e):e;let m=[];if(l)if(o){const I=(0,F.UI)(e,M=>an(M));m=function(i,t,e,o){const l=Nv(i,o);if(l){const h=xp(l),m=h.path,C=h.queryId,I=Mr(m,t),M=sn.fromObject(e);return Op(i,m,new Xr(Vu(C),I,M))}return[]}(i.serverSyncTree_,h,I,l)}else{const I=an(e);m=function(i,t,e,o){const l=Nv(i,o);if(null!=l){const h=xp(l),m=h.path,C=h.queryId,I=Mr(m,t);return Op(i,m,new ds(Vu(C),I,e))}return[]}(i.serverSyncTree_,h,I,l)}else if(o){const I=(0,F.UI)(e,M=>an(M));m=function(i,t,e){const o=sn.fromObject(e);return Rl(i,new Xr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,o))}(i.serverSyncTree_,h,I)}else{const I=an(e);m=Dh(i.serverSyncTree_,h,I)}let C=h;m.length>0&&(C=id(i,h)),js(i.eventQueue_,C,m)}function zv(i,t){qu(i,"connected",t),!1===t&&function(i){Hs(i,"onDisconnectEvents");const t=Ml(i),e=v();$(i.onDisconnect_,Mt(),(l,h)=>{const m=Ov(l,h,i.serverSyncTree_,t);D(e,l,m)});let o=[];$(e,Mt(),(l,h)=>{o=o.concat(Dh(i.serverSyncTree_,l,h));const m=hn(i,l);id(i,m)}),i.onDisconnect_=v(),js(i.eventQueue_,Mt(),o)}(i)}function qu(i,t,e){const o=new St("/.info/"+t),l=an(e);i.infoData_.updateSnapshot(o,l);const h=Dh(i.infoSyncTree_,o,l);js(i.eventQueue_,o,h)}function kh(i){return i.nextWriteId_++}function Ku(i,t,e,o,l){Hs(i,"set",{path:t.toString(),value:e,priority:o});const h=Ml(i),m=an(e,o),C=Sh(i.serverSyncTree_,t),I=Ph(m,C,h),M=kh(i),W=km(i.serverSyncTree_,t,I,M,!0);Up(i.eventQueue_,W),i.server_.put(t.toString(),m.val(!0),(Q,se)=>{const we="ok"===Q;we||gn("set at "+t+" failed: "+Q);const He=Al(i.serverSyncTree_,M,!we);js(i.eventQueue_,t,He),Oa(0,l,Q,se)});const V=hn(i,t);id(i,V),js(i.eventQueue_,V,[])}function Zv(i,t,e){i.server_.onDisconnectCancel(t.toString(),(o,l)=>{"ok"===o&&S(i.onDisconnect_,t),Oa(0,e,o,l)})}function qv(i,t,e,o){const l=an(e);i.server_.onDisconnectPut(t.toString(),l.val(!0),(h,m)=>{"ok"===h&&D(i.onDisconnect_,t,l),Oa(0,o,h,m)})}function Qm(i,t,e){let o;o=".info"===ct(t._path)?Sl(i.infoSyncTree_,t,e):Sl(i.serverSyncTree_,t,e),Oh(i.eventQueue_,t._path,o)}function Yv(i){i.persistentConnection_&&i.persistentConnection_.interrupt(qm)}function Hs(i,...t){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),Fn(e,...t)}function Oa(i,t,e,o){t&&Me(()=>{if("ok"===e)t(null);else{const l=(e||"error").toUpperCase();let h=l;o&&(h+=": "+o);const m=new Error(h);m.code=l,t(m)}})}function Jm(i,t,e){return Sh(i.serverSyncTree_,t,e)||tt.EMPTY_NODE}function ka(i,t=i.transactionQueueTree_){if(t||Lh(i,t),Gu(t)){const e=Gw(i,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function(i,t,e){const o=e.map(M=>M.currentWriteId),l=Jm(i,t,o);let h=l;const m=l.hash();for(let M=0;M<e.length;M++){const W=e[M];(0,F.hu)(0===W.status,"tryToSendTransactionQueue_: items in queue should all be run."),W.status=1,W.retryCount++;const V=Mr(t,W.path);h=h.updateChild(V,W.currentOutputSnapshotRaw)}const C=h.val(!0),I=t;i.server_.put(I.toString(),C,M=>{Hs(i,"transaction put response",{path:I.toString(),status:M});let W=[];if("ok"===M){const V=[];for(let Q=0;Q<e.length;Q++)e[Q].status=2,W=W.concat(Al(i.serverSyncTree_,e[Q].currentWriteId)),e[Q].onComplete&&V.push(()=>e[Q].onComplete(null,!0,e[Q].currentOutputSnapshotResolved)),e[Q].unwatcher();Lh(i,Fp(i.transactionQueueTree_,t)),ka(i,i.transactionQueueTree_),js(i.eventQueue_,t,W);for(let Q=0;Q<V.length;Q++)Me(V[Q])}else{if("datastale"===M)for(let V=0;V<e.length;V++)e[V].status=3===e[V].status?4:0;else{gn("transaction at "+I.toString()+" failed: "+M);for(let V=0;V<e.length;V++)e[V].status=4,e[V].abortReason=M}id(i,t)}},m)}(i,nd(t),e)}else kv(t)&&Vp(t,e=>{ka(i,e)})}function id(i,t){const e=Jv(i,t),o=nd(e);return function(i,t,e){if(0===t.length)return;const o=[];let l=[];const m=t.filter(C=>0===C.status).map(C=>C.currentWriteId);for(let C=0;C<t.length;C++){const I=t[C],M=Mr(e,I.path);let V,W=!1;if((0,F.hu)(null!==M,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)W=!0,V=I.abortReason,l=l.concat(Al(i.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=25)W=!0,V="maxretry",l=l.concat(Al(i.serverSyncTree_,I.currentWriteId,!0));else{const Q=Jm(i,I.path,m);I.currentInputSnapshot=Q;const se=t[C].update(Q.val());if(void 0!==se){zu("transaction failed: Data returned ",se,I.path);let we=an(se);"object"==typeof se&&null!=se&&(0,F.r3)(se,".priority")||(we=we.updatePriority(Q.getPriority()));const Ye=I.currentWriteId,Et=Ml(i),Yt=Ph(we,Q,Et);I.currentOutputSnapshotRaw=we,I.currentOutputSnapshotResolved=Yt,I.currentWriteId=kh(i),m.splice(m.indexOf(Ye),1),l=l.concat(km(i.serverSyncTree_,I.path,Yt,I.currentWriteId,I.applyLocally)),l=l.concat(Al(i.serverSyncTree_,Ye,!0))}else W=!0,V="nodata",l=l.concat(Al(i.serverSyncTree_,I.currentWriteId,!0))}js(i.eventQueue_,e,l),l=[],W&&(t[C].status=2,setTimeout(t[C].unwatcher,Math.floor(0)),t[C].onComplete&&o.push("nodata"===V?()=>t[C].onComplete(null,!1,t[C].currentInputSnapshot):()=>t[C].onComplete(new Error(V),!1,null)))}Lh(i,i.transactionQueueTree_);for(let C=0;C<o.length;C++)Me(o[C]);ka(i,i.transactionQueueTree_)}(i,Gw(i,e),o),o}function Jv(i,t){let e,o=i.transactionQueueTree_;for(e=ct(t);null!==e&&void 0===Gu(o);)o=Fp(o,e),e=ct(t=qt(t));return o}function Gw(i,t){const e=[];return Xv(i,t,e),e.sort((o,l)=>o.order-l.order),e}function Xv(i,t,e){const o=Gu(t);if(o)for(let l=0;l<o.length;l++)e.push(o[l]);Vp(t,l=>{Xv(i,l,e)})}function Lh(i,t){const e=Gu(t);if(e){let o=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[o]=e[l],o++);e.length=o,Lp(t,e.length>0?e:void 0)}Vp(t,o=>{Lh(i,o)})}function hn(i,t){const e=nd(Jv(i,t)),o=Fp(i.transactionQueueTree_,t);return function(i,t,e){let o=i.parent;for(;null!==o;){if(t(o))return!0;o=o.parent}}(o,l=>{Vh(i,l)}),Vh(i,o),Lv(o,l=>{Vh(i,l)}),e}function Vh(i,t){const e=Gu(t);if(e){const o=[];let l=[],h=-1;for(let m=0;m<e.length;m++)3===e[m].status||(1===e[m].status?((0,F.hu)(h===m-1,"All SENT items should be at beginning of queue."),h=m,e[m].status=3,e[m].abortReason="set"):((0,F.hu)(0===e[m].status,"Unexpected transaction status in abort"),e[m].unwatcher(),l=l.concat(Al(i.serverSyncTree_,e[m].currentWriteId,!0)),e[m].onComplete&&o.push(e[m].onComplete.bind(null,new Error("set"),!1,null))));-1===h?Lp(t,void 0):e.length=h+1,js(i.eventQueue_,nd(t),l);for(let m=0;m<o.length;m++)Me(o[m])}}const Uh=function(i,t){const e=zw(i),o=e.namespace;return"firebase.com"===e.domain&&Fi(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&Fi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&gn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new us(e.host,e.secure,o,t,"ws"===e.scheme||"wss"===e.scheme,"",o!==e.subdomain),path:new St(e.pathString)}},zw=function(i){let t="",e="",o="",l="",h="",m=!0,C="https",I=443;if("string"==typeof i){let M=i.indexOf("//");M>=0&&(C=i.substring(0,M-1),i=i.substring(M+2));let W=i.indexOf("/");-1===W&&(W=i.length);let V=i.indexOf("?");-1===V&&(V=i.length),t=i.substring(0,Math.min(W,V)),W<V&&(l=function(i){let t="";const e=i.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let l=e[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(h){}t+="/"+l}return t}(i.substring(W,V)));const Q=function(i){const t={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):gn(`Invalid query segment '${e}' in query '${i}'`)}return t}(i.substring(Math.min(i.length,V)));M=t.indexOf(":"),M>=0?(m="https"===C||"wss"===C,I=parseInt(t.substring(M+1),10)):M=t.length;const se=t.slice(0,M);if("localhost"===se.toLowerCase())e="localhost";else if(se.split(".").length<=2)e=se;else{const we=t.indexOf(".");o=t.substring(0,we).toLowerCase(),e=t.substring(we+1),h=o}"ns"in Q&&(h=Q.ns)}return{host:t,port:I,domain:e,subdomain:o,secure:m,scheme:C,pathString:l,namespace:h}};class eE{constructor(t,e,o,l){this.eventType=t,this.eventRegistration=e,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class e_{constructor(t,e,o){this.eventRegistration=t,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class t_{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class n_{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return Zv(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){_i("OnDisconnect.remove",this._path);const t=new F.BH;return qv(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){_i("OnDisconnect.set",this._path),Po("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return qv(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){_i("OnDisconnect.setWithPriority",this._path),Po("OnDisconnect.setWithPriority",t,this._path,!1),rd("OnDisconnect.setWithPriority",e,!1);const o=new F.BH;return function(i,t,e,o,l){const h=an(e,o);i.server_.onDisconnectPut(t.toString(),h.val(!0),(m,C)=>{"ok"===m&&D(i.onDisconnect_,t,h),Oa(0,l,m,C)})}(this._repo,this._path,t,e,o.wrapCallback(()=>{})),o.promise}update(t){_i("OnDisconnect.update",this._path),Uv("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function(i,t,e,o){if((0,F.xb)(e))return Fn("onDisconnect().update() called with empty data.  Don't do anything."),void Oa(0,o,"ok",void 0);i.server_.onDisconnectMerge(t.toString(),e,(l,h)=>{"ok"===l&&nn(e,(m,C)=>{const I=an(C);D(i.onDisconnect_,rn(t,m),I)}),Oa(0,o,l,h)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ei{constructor(t,e,o,l){this._repo=t,this._path=e,this._queryParams=o,this._orderByCalled=l}get key(){return dt(this._path)?null:up(this._path)}get ref(){return new yi(this._repo,this._path)}get _queryIdentifier(){const t=_(this._queryParams),e=yo(t);return"{}"===e?"default":e}get _queryObject(){return _(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof ei))return!1;const e=this._repo===t._repo,o=jc(this._path,t._path);return e&&o&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(i){let t="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(t+="/"+encodeURIComponent(String(i.pieces_[e])));return t||"/"}(this._path)}}function Bp(i,t){if(!0===i._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Pl(i){let t=null,e=null;if(i.hasStart()&&(t=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===Pr){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==sr)throw new Error(o);if("string"!=typeof t)throw new Error(l)}if(i.hasEnd()){if(i.getIndexEndName()!==Qr)throw new Error(o);if("string"!=typeof e)throw new Error(l)}}else if(i.getIndex()===Wt){if(null!=t&&!Nh(t)||null!=e&&!Nh(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(i.getIndex()instanceof _r||i.getIndex()===Sa,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Nl(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class yi extends ei{constructor(t,e){super(t,e,new bl,!1)}get parent(){const t=Pu(this._path);return null===t?null:new yi(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class xl{constructor(t,e,o){this._node=t,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new St(t),o=Ol(this.ref,t);return new xl(this._node.getChild(e),o,Wt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,l)=>t(new xl(l,Ol(this.ref,o),Wt)))}hasChild(t){const e=new St(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function r_(i,t){return(i=(0,F.m9)(i))._checkNotDeleted("ref"),void 0!==t?Ol(i._root,t):i._root}function i_(i,t){(i=(0,F.m9)(i))._checkNotDeleted("refFromURL");const e=Uh(t,i._repo.repoInfo_.nodeAdmin);Zm("refFromURL",e);const o=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&o.host!==i._repo.repoInfo_.host&&Fi("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+i._repo.repoInfo_.host+")"),r_(i,e.path.toString())}function Ol(i,t){return null===ct((i=(0,F.m9)(i))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),xh("child","path",e,!1)):xh("child","path",t,!1),new yi(i._repo,rn(i._path,t));var e}function s_(i,t){i=(0,F.m9)(i),_i("set",i._path),Po("set",t,i._path,!1);const e=new F.BH;return Ku(i._repo,i._path,t,null,e.wrapCallback(()=>{})),e.promise}function nE(i,t){Uv("update",t,i._path,!1);const e=new F.BH;return function(i,t,e,o){Hs(i,"update",{path:t.toString(),value:e});let l=!0;const h=Ml(i),m={};if(nn(e,(C,I)=>{l=!1,m[C]=Ov(rn(t,C),an(I),i.serverSyncTree_,h)}),l)Fn("update() called with empty data.  Don't do anything."),Oa(0,o,"ok",void 0);else{const C=kh(i),I=function(i,t,e,o){!function(i,t,e,o){(0,F.hu)(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:e,writeId:o,visible:!0}),i.visibleWrites=ju(i.visibleWrites,t,e),i.lastWriteId=o}(i.pendingWriteTree_,t,e,o);const l=sn.fromObject(e);return Rl(i,new Xr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,l))}(i.serverSyncTree_,t,m,C);Up(i.eventQueue_,I),i.server_.merge(t.toString(),e,(M,W)=>{const V="ok"===M;V||gn("update at "+t+" failed: "+M);const Q=Al(i.serverSyncTree_,C,!V),se=Q.length>0?id(i,t):t;js(i.eventQueue_,se,Q),Oa(0,o,M,W)}),nn(e,M=>{const W=hn(i,rn(t,M));id(i,W)}),js(i.eventQueue_,t,[])}}(i._repo,i._path,t,e.wrapCallback(()=>{})),e.promise}function Kw(i){return function(i,t){const e=function(i,t){const e=t._path;let o=null;i.syncPointTree_.foreachOnPath(e,(M,W)=>{const V=Mr(M,e);o=o||Dl(W,V)});let l=i.syncPointTree_.get(e);l?o=o||Dl(l,Mt()):(l=new Rw,i.syncPointTree_=i.syncPointTree_.set(e,l));const h=null!=o,m=h?new hs(o,!0,!1):null;return function(i){return vh(i.viewCache_)}(Mw(l,t,Ch(i.pendingWriteTree_,t._path),h?m.getNode():tt.EMPTY_NODE,h))}(i.serverSyncTree_,t);return null!=e?Promise.resolve(e):i.server_.get(t).then(o=>{const l=an(o).withIndex(t._queryParams.getIndex()),h=Dh(i.serverSyncTree_,t._path,l);return Oh(i.eventQueue_,t._path,h),Promise.resolve(l)},o=>(Hs(i,"get for query "+(0,F.Pz)(t)+" failed: "+o),Promise.reject(new Error(o))))}((i=(0,F.m9)(i))._repo,i).then(t=>new xl(t,new yi(i._repo,i._path),i._queryParams.getIndex()))}class jp{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const o=e._queryParams.getIndex();return new eE("value",this,new xl(t.snapshotNode,new yi(e._repo,e._path),o))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new e_(this,t,e):null}matches(t){return t instanceof jp&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class o_{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new e_(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const o=Ol(new yi(e._repo,e._path),t.childName),l=e._queryParams.getIndex();return new eE(t.type,this,new xl(t.snapshotNode,o,l),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof o_&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Hp(i,t,e,o,l){let h;if("object"==typeof o&&(h=void 0,l=o),"function"==typeof o&&(h=o),l&&l.onlyOnce){const I=e,M=(W,V)=>{Qm(i._repo,i,C),I(W,V)};M.userCallback=e.userCallback,M.context=e.context,e=M}const m=new t_(e,h||void 0),C="value"===t?new jp(m):new o_(t,m);return function(i,t,e){let o;o=".info"===ct(t._path)?Mv(i.infoSyncTree_,t,e):Mv(i.serverSyncTree_,t,e),Oh(i.eventQueue_,t._path,o)}(i._repo,i,C),()=>Qm(i._repo,i,C)}function Bh(i,t,e,o){return Hp(i,"value",t,e,o)}function rE(i,t,e,o){return Hp(i,"child_added",t,e,o)}function a_(i,t,e,o){return Hp(i,"child_changed",t,e,o)}function l_(i,t,e,o){return Hp(i,"child_moved",t,e,o)}function Yw(i,t,e,o){return Hp(i,"child_removed",t,e,o)}function ps(i,t,e){let o=null;const l=e?new t_(e):null;"value"===t?o=new jp(l):t&&(o=new o_(t,l)),Qm(i._repo,i,o)}class xo{}class Qw extends xo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Po("endAt",this._value,t._path,!0);const e=qc(t._queryParams,this._value,this._key);if(Nl(e),Pl(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ei(t._repo,t._path,e,t._orderByCalled)}}class sE extends xo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Po("endBefore",this._value,t._path,!1);const e=function(i,t,e){let o,l;return i.index_===Pr?("string"==typeof t&&(t=Us(t)),l=qc(i,t,e)):(o=null==e?sr:Us(e),l=qc(i,t,o)),l.endBeforeSet_=!0,l}(t._queryParams,this._value,this._key);if(Nl(e),Pl(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ei(t._repo,t._path,e,t._orderByCalled)}}class aE extends xo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Po("startAt",this._value,t._path,!0);const e=To(t._queryParams,this._value,this._key);if(Nl(e),Pl(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ei(t._repo,t._path,e,t._orderByCalled)}}class lE extends xo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Po("startAfter",this._value,t._path,!1);const e=function(i,t,e){let o;if(i.index_===Pr)"string"==typeof t&&(t=mp(t)),o=To(i,t,e);else{let l;l=null==e?Qr:mp(e),o=To(i,t,l)}return o.startAfterSet_=!0,o}(t._queryParams,this._value,this._key);if(Nl(e),Pl(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ei(t._repo,t._path,e,t._orderByCalled)}}class Jw extends xo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ei(t._repo,t._path,function(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Xw extends xo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ei(t._repo,t._path,function(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class tI extends xo{constructor(t){super(),this._path=t}_apply(t){Bp(t,"orderByChild");const e=new St(this._path);if(dt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new _r(e),l=wl(t._queryParams,o);return Pl(l),new ei(t._repo,t._path,l,!0)}}class rI extends xo{_apply(t){Bp(t,"orderByKey");const e=wl(t._queryParams,Pr);return Pl(e),new ei(t._repo,t._path,e,!0)}}class $p extends xo{_apply(t){Bp(t,"orderByPriority");const e=wl(t._queryParams,Wt);return Pl(e),new ei(t._repo,t._path,e,!0)}}class uE extends xo{_apply(t){Bp(t,"orderByValue");const e=wl(t._queryParams,Sa);return Pl(e),new ei(t._repo,t._path,e,!0)}}class sI extends xo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Po("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Qw(this._value,this._key)._apply(new aE(this._value,this._key)._apply(t))}}function $i(i,...t){let e=(0,F.m9)(i);for(const o of t)e=o._apply(e);return e}(function(i){(0,F.hu)(!xm,"__referenceConstructor has already been defined"),xm=i})(yi),function(i){(0,F.hu)(!Rp,"__referenceConstructor has already been defined"),Rp=i}(yi);const Yu={};function Hh(i,t,e,o,l){let h=o||i.options.databaseURL;void 0===h&&(i.options.projectId||Fi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fn("Using default host for project ",i.options.projectId),h=`${i.options.projectId}-default-rtdb.firebaseio.com`);let I,M,m=Uh(h,l),C=m.repoInfo;"undefined"!=typeof process&&(M=process.env.FIREBASE_DATABASE_EMULATOR_HOST),M?(I=!0,h=`http://${M}?ns=${C.namespace}`,m=Uh(h,l),C=m.repoInfo):I=!m.repoInfo.secure;const W=l&&I?new Ln(Ln.OWNER):new vn(i.name,i.options,t);Zm("Invalid Firebase Database URL",m),dt(m.path)||Fi("Database URL must point to the root of a Firebase Database (not including a child path).");const V=function(i,t,e,o){let l=Yu[t.name];l||(l={},Yu[t.name]=l);let h=l[i.toURLString()];return h&&Fi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new $v(i,false,e,o),l[i.toURLString()]=h,h}(C,i,W,new Ot(i.name,e));return new ad(V,i)}class ad{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(i,t,e){if(i.stats_=kc(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new d(i.repoInfo_,(o,l,h,m)=>{Gv(i,o,l,h,m)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>zv(i,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new Ls(i.repoInfo_,t,(o,l,h,m)=>{Gv(i,o,l,h,m)},o=>{zv(i,o)},o=>{!function(i,t){nn(t,(e,o)=>{qu(i,e,o)})}(i,o)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=function(i,t){const e=i.toString();return Iu[e]||(Iu[e]=t()),Iu[e]}(i.repoInfo_,()=>new vt(i.stats_,i.server_)),i.infoData_=new f,i.infoSyncTree_=new Mp({startListening:(o,l,h,m)=>{let C=[];const I=i.infoData_.getNode(o._path);return I.isEmpty()||(C=Dh(i.infoSyncTree_,o._path,I),setTimeout(()=>{m("ok")},0)),C},stopListening:()=>{}}),qu(i,"connected",!1),i.serverSyncTree_=new Mp({startListening:(o,l,h,m)=>(i.server_.listen(o,h,l,(C,I)=>{const M=m(C,I);js(i.eventQueue_,o._path,M)}),[]),stopListening:(o,l)=>{i.server_.unlisten(o,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new yi(this._repo,Mt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(i,t){const e=Yu[t];(!e||e[i.key]!==i)&&Fi(`Database ${t}(${i.repoInfo_}) has already been deleted.`),Yv(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Fi("Cannot call "+t+" on a deleted database.")}}function dd(i,t){Mc(i,t)}class hE{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ls.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)},Ls.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)},hi(ma.SDK_VERSION),(0,ma._registerComponent)(new $t.wA("database",(t,{instanceIdentifier:e})=>Hh(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ma.registerVersion)(Rc,"0.12.4",void 0),(0,ma.registerVersion)(Rc,"0.12.4","esm2017");const mE=new _a.Yd("@firebase/database-compat"),_E=function(i){mE.warn("FIREBASE WARNING: "+i)};class vE{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),o=>t(o)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),o=>t(o)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const l=this._delegate.setWithPriority(t,e);return o&&l.then(()=>o(null),h=>o(h)),l}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let h=0;h<t.length;++h)l[""+h]=t[h];t=l,_E("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(t);return e&&o.then(()=>e(null),l=>e(l)),o}}class EE{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class kl{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),xh("DataSnapshot.child","path",t,!1),new kl(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),xh("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new kl(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new vi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class vr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,o,l){var h;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const m=vr.getCancelAndContextArgs_("Query.on",o,l),C=(M,W)=>{e.call(m.context,new kl(this.database,M),W)};C.userCallback=e,C.context=m.context;const I=null===(h=m.cancel)||void 0===h?void 0:h.bind(m.context);switch(t){case"value":return Bh(this._delegate,C,I),e;case"child_added":return rE(this._delegate,C,I),e;case"child_removed":return Yw(this._delegate,C,I),e;case"child_changed":return a_(this._delegate,C,I),e;case"child_moved":return l_(this._delegate,C,I),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,o){if((0,F.Dv)("Query.off",0,3,arguments.length),function(i,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",o,!0),e){const l=()=>{};l.userCallback=e,l.context=o,ps(this._delegate,t,l)}else ps(this._delegate,t)}get(){return Kw(this._delegate).then(t=>new kl(this.database,t))}once(t,e,o,l){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const h=vr.getCancelAndContextArgs_("Query.once",o,l),m=new F.BH,C=(M,W)=>{const V=new kl(this.database,M);e&&e.call(h.context,V,W),m.resolve(V)};C.userCallback=e,C.context=h.context;const I=M=>{h.cancel&&h.cancel.call(h.context,M),m.reject(M)};switch(t){case"value":Bh(this._delegate,C,I,{onlyOnce:!0});break;case"child_added":rE(this._delegate,C,I,{onlyOnce:!0});break;case"child_removed":Yw(this._delegate,C,I,{onlyOnce:!0});break;case"child_changed":a_(this._delegate,C,I,{onlyOnce:!0});break;case"child_moved":l_(this._delegate,C,I,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return m.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new vr(this.database,$i(this._delegate,function(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Jw(i)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new vr(this.database,$i(this._delegate,function(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Xw(i)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new vr(this.database,$i(this._delegate,function(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return xh("orderByChild","path",i,!1),new tI(i)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new vr(this.database,$i(this._delegate,new rI))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new vr(this.database,$i(this._delegate,new $p))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new vr(this.database,$i(this._delegate,new uE))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new vr(this.database,$i(this._delegate,function(i=null,t){return Zu("startAt","key",t,!0),new aE(i,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new vr(this.database,$i(this._delegate,function(i,t){return Zu("startAfter","key",t,!0),new lE(i,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new vr(this.database,$i(this._delegate,function(i,t){return Zu("endAt","key",t,!0),new Qw(i,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new vr(this.database,$i(this._delegate,function(i,t){return Zu("endBefore","key",t,!0),new sE(i,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new vr(this.database,$i(this._delegate,function(i,t){return Zu("equalTo","key",t,!0),new sI(i,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof vr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,o){const l={cancel:void 0,context:void 0};if(e&&o)l.cancel=e,(0,F.Wj)(t,"cancel",l.cancel,!0),l.context=o,(0,F.lb)(t,"context",l.context,!0);else if(e)if("object"==typeof e&&null!==e)l.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=e}return l}get ref(){return new vi(this.database,new yi(this._delegate._repo,this._delegate._path))}}class vi extends vr{constructor(t,e){super(t,new ei(e._repo,e._path,new bl,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new vi(this.database,Ol(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new vi(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new vi(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const o=s_(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let h=0;h<t.length;++h)l[""+h]=t[h];t=l,_E("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_i("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const o=nE(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",o,!0);const l=function(i,t,e){if(_i("setWithPriority",i._path),Po("setWithPriority",t,i._path,!1),rd("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const o=new F.BH;return Ku(i._repo,i._path,t,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,t,e);return o&&l.then(()=>o(null),h=>o(h)),l}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function(i){return _i("remove",i._path),s_(i,null)}(this._delegate);return t&&e.then(()=>t(null),o=>t(o)),e}transaction(t,e,o){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(i,t,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const l=function(i,t,e){var o;if(i=(0,F.m9)(i),_i("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const l=null===(o=null==e?void 0:e.applyLocally)||void 0===o||o,h=new F.BH,C=Bh(i,()=>{});return function(i,t,e,o,l,h){Hs(i,"transaction on "+t);const m={path:t,update:e,onComplete:o,status:null,order:Yn(),applyLocally:h,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},C=Jm(i,t,void 0);m.currentInputSnapshot=C;const I=m.update(C.val());if(void 0===I)m.unwatcher(),m.currentOutputSnapshotRaw=null,m.currentOutputSnapshotResolved=null,m.onComplete&&m.onComplete(null,!1,m.currentInputSnapshot);else{zu("transaction failed: Data returned ",I,m.path),m.status=0;const M=Fp(i.transactionQueueTree_,t),W=Gu(M)||[];let V;W.push(m),Lp(M,W),"object"==typeof I&&null!==I&&(0,F.r3)(I,".priority")?(V=(0,F.DV)(I,".priority"),(0,F.hu)(Nh(V),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):V=(Sh(i.serverSyncTree_,t)||tt.EMPTY_NODE).getPriority().val();const Q=Ml(i),se=an(I,V),we=Ph(se,C,Q);m.currentOutputSnapshotRaw=se,m.currentOutputSnapshotResolved=we,m.currentWriteId=kh(i);const He=km(i.serverSyncTree_,t,we,m.currentWriteId,m.applyLocally);js(i.eventQueue_,t,He),ka(i,i.transactionQueueTree_)}}(i._repo,i._path,t,(I,M,W)=>{let V=null;I?h.reject(I):(V=new xl(W,new yi(i._repo,i._path),Wt),h.resolve(new hE(M,V)))},C,l),h.promise}(this._delegate,t,{applyLocally:o}).then(h=>new EE(h.committed,new kl(this.database,h.snapshot)));return e&&l.then(h=>e(null,h.committed,h.snapshot),h=>e(h,!1,null)),l}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const o=function(i,t){i=(0,F.m9)(i),_i("setPriority",i._path),rd("setPriority",t,!1);const e=new F.BH;return Ku(i._repo,rn(i._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const o=function(i,t){i=(0,F.m9)(i),_i("push",i._path),Po("push",t,i._path,!0);const e=No(i._repo),o=hh(e),l=Ol(i,o),h=Ol(i,o);let m;return m=null!=t?s_(h,t).then(()=>h):Promise.resolve(h),l.then=m.then.bind(m),l.catch=m.then.bind(m,void 0),l}(this._delegate,t),l=o.then(m=>new vi(this.database,m));e&&l.then(()=>e(null),m=>e(m));const h=new vi(this.database,o);return h.then=l.then.bind(l),h.catch=l.catch.bind(l,void 0),h}onDisconnect(){return _i("Reference.onDisconnect",this._delegate._path),new vE(new n_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Wh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,o={}){!function(i,t,e,o={}){(i=(0,F.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&Fi("Cannot call useEmulator() after instance has already been initialized.");const l=i._repoInternal;let h;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&Fi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Ln(Ln.OWNER);else if(o.mockUserToken){const m="string"==typeof o.mockUserToken?o.mockUserToken:(0,F.Sg)(o.mockUserToken,i.app.options.projectId);h=new Ln(m)}!function(i,t,e,o){i.repoInfo_=new us(`${t}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),o&&(i.authTokenProvider_=o)}(l,t,e,h)}(this._delegate,t,e,o)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof vi){const e=i_(this._delegate,t.toString());return new vi(this,e)}{const e=r_(this._delegate,t);return new vi(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const o=i_(this._delegate,t);return new vi(this,o)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function(i){(i=(0,F.m9)(i))._checkNotDeleted("goOffline"),Yv(i._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function(i){(i=(0,F.m9)(i))._checkNotDeleted("goOnline"),function(i){i.persistentConnection_&&i.persistentConnection_.resume(qm)}(i._repo)}(this._delegate)}}Wh.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:i=>function(i){return{".sv":{increment:i}}}(i)};var cI=Object.freeze({__proto__:null,initStandalone:function({app:i,url:t,version:e,customAuthImpl:o,namespace:l,nodeAdmin:h=!1}){hi(e);const m=new $t.zt("auth-internal",new $t.H0("database-standalone"));return m.setComponent(new $t.wA("auth-internal",()=>o,"PRIVATE")),{instance:new Wh(Hh(i,m,void 0,t,h),i),namespace:l}}});const dI=Wh.ServerValue;!function(i){i.INTERNAL.registerComponent(new $t.wA("database-compat",(t,{instanceIdentifier:e})=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("database").getImmediate({identifier:e});return new Wh(l,o)},"PUBLIC").setServiceProps({Reference:vi,Query:vr,Database:Wh,DataSnapshot:kl,enableLogging:dd,INTERNAL:cI,ServerValue:dI}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","0.1.4")}(Sc.Z);var Wi=x(3405),Wp=x(9254),KT=x(7575),bE=x(1346),fI=x(2108),pI=x(5973);class gI extends Wi.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new h_(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,o=e?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,h=o.length;let m;if(this.closed)throw new fI.N;if(this.isStopped||this.hasError?m=bE.w.EMPTY:(this.observers.push(t),m=new pI.W(this,t)),l&&t.add(t=new Wp.ht(t,l)),e)for(let C=0;C<h&&!t.closed;C++)t.next(o[C]);else for(let C=0;C<h&&!t.closed;C++)t.next(o[C].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),m}_getNow(){return(this.scheduler||KT.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,o=this._windowTime,l=this._events,h=l.length;let m=0;for(;m<h&&!(t-l[m].time<o);)m++;return h>e&&(m=Math.max(m,h-e)),m>0&&l.splice(0,m),l}}class h_{constructor(t,e){this.time=t,this.value=e}}function Gp(i,t,e){let o;return o=i&&"object"==typeof i?i:{bufferSize:i,windowTime:t,refCount:!1,scheduler:e},l=>l.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:o}){let l,m,h=0,C=!1,I=!1;return function(W){let V;h++,!l||C?(C=!1,l=new gI(i,t,o),V=l.subscribe(this),m=W.subscribe({next(Q){l.next(Q)},error(Q){C=!0,l.error(Q)},complete(){I=!0,m=void 0,l.complete()}}),I&&(m=void 0)):V=l.subscribe(this),this.add(()=>{h--,V.unsubscribe(),V=void 0,m&&!I&&e&&0===h&&(m.unsubscribe(),m=void 0,l=void 0)})}}(o))}const f_=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();function Ju(i,t){return function(o){return o.lift(new _I(i,t))}}class _I{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new wE(t,this.predicate,this.thisArg))}}class wE extends Xt.L{constructor(t,e,o){super(t),this.predicate=e,this.thisArg=o,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(o){return void this.destination.error(o)}e&&this.destination.next(t)}}const IE=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();var Gi=x(172);function p_(i){return t=>0===i?(0,Gi.c)():t.lift(new DE(i))}class DE{constructor(t){if(this.total=t,this.total<0)throw new IE}call(t,e){return e.subscribe(new yI(t,this.total))}}class yI extends Xt.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,o=++this.count;o<=e&&(this.destination.next(t),o===e&&(this.destination.complete(),this.unsubscribe()))}}function g_(i=null){return t=>t.lift(new zp(i))}class zp{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new vI(t,this.defaultValue))}}class vI extends Xt.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function m_(i=bI){return t=>t.lift(new EI(i))}class EI{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new CI(t,this.errorFactory))}}class CI extends Xt.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function bI(){return new f_}var TE=x(7255);function Xu(i,t){const e=arguments.length>=2;return o=>o.pipe(i?Ju((l,h)=>i(l,h,o)):TE.y,p_(1),e?g_(t):m_(()=>new f_))}function __(i,t){return t?yn(()=>i,t):yn(()=>i)}var y_=x(2698);x(7713);const I_=new Map,DI={activated:!1,tokenObservers:[]},PE={initialized:!1,enabled:!1};function Gn(i){return I_.get(i)||DI}function ms(i,t){I_.set(i,t)}function pd(){return PE}class OE{constructor(t,e,o,l,h){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=l,this.upperBound=h,this.pending=null,this.nextErrorWaitInterval=l,l>h)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ls.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function(i){return new Promise(t=>{setTimeout(t,i)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ti=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qp(i){if(!Gn(i).activated)throw ti.create("use-before-activation",{appName:i.name})}function Yp(i,t){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,ls.Z)(function*({url:i,body:t},e){const o={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});l&&(o["X-Firebase-Client"]=l.getPlatformInfoString());const h={method:"POST",body:JSON.stringify(t),headers:o};let m,C;try{m=yield fetch(i,h)}catch(V){throw ti.create("fetch-network-error",{originalErrorMessage:V.message})}if(200!==m.status)throw ti.create("fetch-status-error",{httpStatus:m.status});try{C=yield m.json()}catch(V){throw ti.create("fetch-parse-error",{originalErrorMessage:V.message})}const I=C.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw ti.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const M=1e3*Number(I[1]),W=Date.now();return{token:C.attestationToken,expireTimeMillis:W+M,issuedAtTimeMillis:W}}),Qp.apply(this,arguments)}function VE(i,t){const{projectId:e,appId:o,apiKey:l}=i.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${o}:exchangeDebugToken?key=${l}`,body:{debug_token:t}}}const Kh="firebase-app-check-store";let Jp=null;function zn(){return Jp||(Jp=new Promise((i,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=o=>{i(o.target.result)},e.onerror=o=>{var l;t(ti.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},e.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Kh,{keyPath:"compositeKey"})}}catch(e){t(ti.create("storage-open",{originalErrorMessage:e.message}))}}),Jp)}function Xp(){return Xp=(0,ls.Z)(function*(i,t){const o=(yield zn()).transaction(Kh,"readwrite"),h=o.objectStore(Kh).put({compositeKey:i,value:t});return new Promise((m,C)=>{h.onsuccess=I=>{m()},o.onerror=I=>{var M;C(ti.create("storage-set",{originalErrorMessage:null===(M=I.target.error)||void 0===M?void 0:M.message}))}})}),Xp.apply(this,arguments)}const Yh=new _a.Yd("@firebase/app-check");function M_(i,t){return(0,F.hl)()?function(i,t){return function(i,t){return Xp.apply(this,arguments)}(function(i){return`${i.options.appId}-${i.name}`}(i),t)}(i,t).catch(e=>{Yh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function tg(){return pd().enabled}function $s(){return P_.apply(this,arguments)}function P_(){return P_=(0,ls.Z)(function*(){const i=pd();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),P_.apply(this,arguments)}const ko={error:"UNKNOWN_ERROR"};function Ws(i){return F.US.encodeString(JSON.stringify(i),!1)}function Ei(i){return ng.apply(this,arguments)}function ng(){return ng=(0,ls.Z)(function*(i,t=!1){const e=i.app;qp(e);const o=Gn(e);let h,l=o.token;if(!l){const I=yield o.cachedTokenPromise;I&&gd(I)&&(l=I)}if(!t&&l&&gd(l))return{token:l.token};let C,m=!1;if(tg()){o.exchangeTokenPromise||(o.exchangeTokenPromise=Yp(VE(e,yield $s()),i.platformLoggerProvider).then(M=>(o.exchangeTokenPromise=void 0,M)),m=!0);const I=yield o.exchangeTokenPromise;return yield M_(e,I),ms(e,Object.assign(Object.assign({},o),{token:I})),{token:I.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().then(I=>(o.exchangeTokenPromise=void 0,I)),m=!0),l=yield o.exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?Yh.warn(I.message):Yh.error(I),h=I}return l?(C={token:l.token},ms(e,Object.assign(Object.assign({},o),{token:l})),yield M_(e,l)):C=Qh(h),m&&GE(e,C),C}),ng.apply(this,arguments)}function N_(i,t){const e=Gn(i),o=e.tokenObservers.filter(l=>l.next!==t);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ms(i,Object.assign(Object.assign({},e),{tokenObservers:o}))}function WE(i){const{app:t}=i,e=Gn(t);let o=e.tokenRefresher;o||(o=function(i){const{app:t}=i;return new OE((0,ls.Z)(function*(){let o;if(o=Gn(t).token?yield Ei(i,!0):yield Ei(i),o.error)throw o.error}),()=>!0,()=>{const e=Gn(t);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(i),ms(t,Object.assign(Object.assign({},e),{tokenRefresher:o}))),!o.isRunning()&&e.isTokenAutoRefreshEnabled&&o.start()}function GE(i,t){const e=Gn(i).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=t.error?o.error(t.error):o.next(t)}catch(l){}}function gd(i){return i.expireTimeMillis-Date.now()>0}function Qh(i){return{token:Ws(ko),error:i}}class OI{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Gn(this.app);for(const e of t)N_(this.app,e.next);return Promise.resolve()}}const nC="app-check-internal";(0,ma._registerComponent)(new $t.wA("app-check",i=>function(i,t){return new OI(i,t)}(i.getProvider("app").getImmediate(),i.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,t,e)=>{i.getProvider(nC).initialize()})),(0,ma._registerComponent)(new $t.wA(nC,i=>function(i){return{getToken:t=>Ei(i,t),addTokenListener:t=>function(i,t,e,o){const{app:l}=i,h=Gn(l),m={next:e,error:o,type:t};if(ms(l,Object.assign(Object.assign({},h),{tokenObservers:[...h.tokenObservers,m]})),h.token&&gd(h.token)){const C=h.token;Promise.resolve().then(()=>{e({token:C.token}),WE(i)}).catch(()=>{})}h.cachedTokenPromise.then(()=>WE(i))}(i,"INTERNAL",t),removeTokenListener:t=>N_(i.app,t)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ma.registerVersion)("@firebase/app-check","0.5.2");class U_{constructor(){return(0,Kn.vb)("app-check")}}"undefined"!=typeof window&&window;var ec=x(7892);const aC=new p.OlP("angularfire2.auth.use-emulator"),tc=new p.OlP("angularfire2.auth.settings"),YI=new p.OlP("angularfire2.auth.tenant-id"),og=new p.OlP("angularfire2.auth.langugage-code"),QI=new p.OlP("angularfire2.auth.use-device-language"),j_=new p.OlP("angularfire.auth.persistence"),H_=(i,t,e,o,l,h,m,C)=>(0,qn.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const I=t.runOutsideAngular(()=>i.auth());if(e&&I.useEmulator(...e),o&&(I.tenantId=o),I.languageCode=l,h&&I.useDeviceLanguage(),m)for(const[M,W]of Object.entries(m))I.settings[M]=W;return C&&I.setPersistence(C),I},[e,o,l,h,m,C]);let JI=(()=>{class i{constructor(e,o,l,h,m,C,I,M,W,V,Q,se){const we=new Wi.xQ,He=(0,ze.of)(void 0).pipe((0,Wp.QV)(m.outsideAngular),yn(()=>h.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,9777)))),(0,et.U)(()=>(0,qn.on)(e,h,o)),(0,et.U)(Ye=>H_(Ye,h,C,M,W,V,I,Q)),Gp({bufferSize:1,refCount:!1}));if(function(i){return"server"===i}(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ze.of)(null);else{He.pipe(Xu()).subscribe();const Et=He.pipe(yn(Ut=>Ut.getRedirectResult().then(Ii=>Ii,()=>null)),Kn.iC,Gp({bufferSize:1,refCount:!1})),Yt=He.pipe(yn(Ut=>new Mn.y(Ii=>({unsubscribe:h.runOutsideAngular(()=>Ut.onAuthStateChanged(Yl=>Ii.next(Yl),Yl=>Ii.error(Yl),()=>Ii.complete()))})))),fn=He.pipe(yn(Ut=>new Mn.y(Ii=>({unsubscribe:h.runOutsideAngular(()=>Ut.onIdTokenChanged(Yl=>Ii.next(Yl),Yl=>Ii.error(Yl),()=>Ii.complete()))}))));this.authState=Et.pipe(__(Yt),(0,y_.R)(m.outsideAngular),(0,Wp.QV)(m.insideAngular)),this.user=Et.pipe(__(fn),(0,y_.R)(m.outsideAngular),(0,Wp.QV)(m.insideAngular)),this.idToken=this.user.pipe(yn(Ut=>Ut?(0,In.D)(Ut.getIdToken()):(0,ze.of)(null))),this.idTokenResult=this.user.pipe(yn(Ut=>Ut?(0,In.D)(Ut.getIdTokenResult()):(0,ze.of)(null))),this.credential=(0,Kr.T)(Et,we,this.authState.pipe(Ju(Ut=>!Ut))).pipe((0,et.U)(Ut=>(null==Ut?void 0:Ut.user)?Ut:null),(0,y_.R)(m.outsideAngular),(0,Wp.QV)(m.insideAngular))}return(0,qn.pX)(this,He,h,{spy:{apply:(Ye,Et,Yt)=>{(Ye.startsWith("signIn")||Ye.startsWith("createUser"))&&Yt.then(fn=>we.next(fn))}}})}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(qn.Dh),p.LFG(qn.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Kn.HU),p.LFG(aC,8),p.LFG(tc,8),p.LFG(YI,8),p.LFG(og,8),p.LFG(QI,8),p.LFG(j_,8),p.LFG(U_,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function lC(i){return null==i}function Xh(i){return"function"==typeof i.set}function uC(i,t){return Xh(t)?t:i.ref(t)}function ef(i,t){if(function(i){return"string"==typeof i}(i))return t.stringCase();if(Xh(i))return t.firebaseCase();if(function(i){return"function"==typeof i.exportVal}(i))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function Ll(i,t,e="on",o=fa.z){return new Mn.y(l=>{let h=null;return h=i[e](t,(m,C)=>{o.schedule(()=>{l.next({snapshot:m,prevKey:C})}),"once"===e&&o.schedule(()=>l.complete())},m=>{o.schedule(()=>l.error(m))}),"on"===e?{unsubscribe(){null!=h&&i.off(t,h)}}:{unsubscribe(){}}}).pipe((0,et.U)(l=>{const{snapshot:h,prevKey:m}=l;let C=null;return h.exists()&&(C=h.key),{type:t,payload:h,prevKey:m,key:C}}),(0,ci.B)())}function t0(i,t){const e=i.length;for(let o=0;o<e;o++)if(i[o].payload.key===t)return o;return-1}function n0(i,t){const{payload:e,prevKey:o,key:l}=t,h=t0(i,l),m=function(i,t){if(lC(t))return 0;{const e=t0(i,t);return-1===e?i.length:e+1}}(i,o);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let C=null;t.payload.forEach(I=>{const M={payload:I,type:"value",prevKey:C,key:I.key};return C=I.key,i=[...i,M],!1})}return i;case"child_added":if(h>-1){const C=i[h-1];(C&&C.key||null)!==o&&(i=i.filter(I=>I.payload.key!==e.key)).splice(m,0,t)}else{if(null==o)return[t,...i];(i=i.slice()).splice(m,0,t)}return i;case"child_removed":return i.filter(C=>C.payload.key!==e.key);case"child_changed":return i.map(C=>C.payload.key===l?t:C);case"child_moved":if(h>-1){const C=i.splice(h,1)[0];return(i=i.slice()).splice(m,0,C),i}return i;default:return i}}function dC(i){return(lC(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function $_(i,t,e){return function(i,t,e){return Ll(i,"value","once",e).pipe(yn(o=>{const l=[(0,ze.of)(o)];return t.forEach(h=>l.push(Ll(i,h,"on",e))),(0,Kr.T)(...l).pipe(di(n0,[]))}),e=>e.lift(new tn(void 0,void 0)))}(i,t=dC(t),e)}function W_(i,t,e){const o=(t=dC(t)).map(l=>Ll(i,l,"on",e));return(0,Kr.T)(...o)}function pC(i,t){return function(o,l){return ef(o,{stringCase:()=>i.child(o)[t](l),firebaseCase:()=>o[t](l),snapshotCase:()=>o.ref[t](l)})}}function s0(i){return function(e){return e?ef(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function gC(i,t){return function(){return Ll(i,"value","on",t)}}const a0=new p.OlP("angularfire2.realtimeDatabaseURL"),ag=new p.OlP("angularfire2.database.use-emulator");let G_=(()=>{class i{constructor(e,o,l,h,m,C,I,M,W,V,Q,se,we,He,Ye){this.schedulers=C;const Et=I,Yt=(0,qn.on)(e,m,o);M&&H_(Yt,m,W,Q,se,we,V,He),this.database=(0,qn.cc)(`${Yt.name}.database.${l}`,"AngularFireDatabase",Yt.name,()=>{const fn=m.runOutsideAngular(()=>Yt.database(l||void 0));return Et&&fn.useEmulator(...Et),fn},[Et])}list(e,o){const l=this.schedulers.ngZone.runOutsideAngular(()=>uC(this.database,e));let h=l;return o&&(h=o(l)),function(i,t){const e=t.schedulers.outsideAngular,o=t.schedulers.ngZone.run(()=>i.ref);return{query:i,update:pC(o,"update"),set:pC(o,"set"),push:l=>o.push(l),remove:s0(o),snapshotChanges:l=>$_(i,l,e).pipe(Kn.iC),stateChanges:l=>W_(i,l,e).pipe(Kn.iC),auditTrail:l=>function(i,t,e){return function(i,t,e){return function(i,t){return Ll(i,"value","on",t).pipe((0,et.U)(e=>{let o;return e.payload.forEach(l=>(o=l.key,!1)),{data:e,lastKeyToLoad:o}}))}(i,e).pipe(function(...i){return t=>{let e;return"function"==typeof i[i.length-1]&&(e=i.pop()),t.lift(new as(i,e))}}(t),(0,et.U)(([l,h])=>{const m=l.lastKeyToLoad,C=h.map(I=>I.key);return{actions:h,lastKeyToLoad:m,loadedKeys:C}}),function(i){return t=>t.lift(new Jf(i))}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,et.U)(l=>l.actions))}(i,W_(i,t).pipe(di((l,h)=>[...l,h],[])),e)}(i,l,e).pipe(Kn.iC),valueChanges:(l,h)=>$_(i,l,e).pipe((0,et.U)(C=>C.map(I=>h&&h.idField?Object.assign(Object.assign({},I.payload.val()),{[h.idField]:I.key}):I.payload.val())),Kn.iC)}}(h,this)}object(e){return function(i,t){return{query:i,snapshotChanges:()=>gC(i,t.schedulers.outsideAngular)().pipe(Kn.iC),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>gC(i,t.schedulers.outsideAngular)().pipe(Kn.iC,(0,et.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>uC(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(qn.Dh),p.LFG(qn.xv,8),p.LFG(a0,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Kn.HU),p.LFG(ag,8),p.LFG(JI,8),p.LFG(aC,8),p.LFG(tc,8),p.LFG(YI,8),p.LFG(og,8),p.LFG(QI,8),p.LFG(j_,8),p.LFG(U_,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),mC=(()=>{class i{constructor(){ec.Z.registerVersion("angularfire",Kn.q4.full,"rtdb-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[G_]}),i})();var lg=x(5894),l0=x(7879);function Vl(i,t){return new Mn.y(e=>{const o=i.length;if(0===o)return void e.complete();const l=new Array(o);let h=0,m=0;for(let C=0;C<o;C++){const I=(0,In.D)(i[C]);let M=!1;e.add(I.subscribe({next:W=>{M||(M=!0,m++),l[C]=W},error:W=>e.error(W),complete:()=>{h++,(h===o||!M)&&(m===o&&e.next(t?t.reduce((W,V,Q)=>(W[V]=l[Q],W),{}):l),e.complete())}}))}})}let _C=(()=>{class i{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.Qsj),p.Y36(p.SBq))},i.\u0275dir=p.lG2({type:i}),i})(),nc=(()=>{class i extends _C{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=p.n5z(i)))(o||i)}}(),i.\u0275dir=p.lG2({type:i,features:[p.qOj]}),i})();const Fo=new p.OlP("NgValueAccessor"),vC={provide:Fo,useExisting:(0,p.Gpc)(()=>_d),multi:!0},EC=new p.OlP("CompositionEventMode");let _d=(()=>{class i extends _C{constructor(e,o,l){super(e,o),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=O()?O().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(EC,8))},i.\u0275dir=p.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&p.NdJ("input",function(h){return o._handleInput(h.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(h){return o._compositionEnd(h.target.value)})},features:[p._Bn([vC]),p.qOj]}),i})();const ni=new p.OlP("NgValidators"),rc=new p.OlP("NgAsyncValidators");function TC(i){return null!=i}function q_(i){const t=(0,p.QGY)(i)?(0,In.D)(i):i;return(0,p.CqO)(t),t}function AC(i){let t={};return i.forEach(e=>{t=null!=e?qe(qe({},t),e):t}),0===Object.keys(t).length?null:t}function SC(i,t){return t.map(e=>e(i))}function RC(i){return i.map(t=>function(i){return!i.validate}(t)?t:e=>t.validate(e))}function Y_(i){return null!=i?function(i){if(!i)return null;const t=i.filter(TC);return 0==t.length?null:function(e){return AC(SC(e,t))}}(RC(i)):null}function J_(i){return null!=i?function(i){if(!i)return null;const t=i.filter(TC);return 0==t.length?null:function(e){return function(...i){if(1===i.length){const t=i[0];if((0,lg.k)(t))return Vl(t,null);if((0,l0.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Vl(e.map(o=>t[o]),e)}}if("function"==typeof i[i.length-1]){const t=i.pop();return Vl(i=1===i.length&&(0,lg.k)(i[0])?i[0]:i,null).pipe((0,et.U)(e=>t(...e)))}return Vl(i,null)}(SC(e,t).map(q_)).pipe((0,et.U)(AC))}}(RC(i)):null}function X_(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function ey(i){return i?Array.isArray(i)?i:[i]:[]}function of(i,t){return Array.isArray(i)?i.includes(t):i===t}function ty(i,t){const e=ey(t);return ey(i).forEach(l=>{of(e,l)||e.push(l)}),e}function PC(i,t){return ey(t).filter(e=>!of(i,e))}class NC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Y_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=J_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ri extends NC{get formDirective(){return null}get path(){return null}}class Lo extends NC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xC{constructor(t){this._cd=t}is(t){var e,o,l;return"submitted"===t?!!(null==(e=this._cd)?void 0:e.submitted):!!(null==(l=null==(o=this._cd)?void 0:o.control)?void 0:l[t])}}let cg=(()=>{class i extends xC{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(Lo,2))},i.\u0275dir=p.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&p.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[p.qOj]}),i})(),dg=(()=>{class i extends xC{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(ri,10))},i.\u0275dir=p.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&p.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[p.qOj]}),i})();function ic(i,t){sy(i,t),t.valueAccessor.writeValue(i.value),function(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&ay(i,t)})}(i,t),function(i,t){const e=(o,l)=>{t.valueAccessor.writeValue(o),l&&t.viewToModelUpdate(o)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&ay(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function(i,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function af(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function sy(i,t){const e=function(i){return i._rawValidators}(i);null!==t.validator?i.setValidators(X_(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const o=function(i){return i._rawAsyncValidators}(i);null!==t.asyncValidator?i.setAsyncValidators(X_(o,t.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const l=()=>i.updateValueAndValidity();af(t._rawValidators,l),af(t._rawAsyncValidators,l)}function ay(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function sc(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Vo="VALID",gg="INVALID",uf="PENDING",cf="DISABLED";function mg(i){return(cy(i)?i.validators:i)||null}function w0(i){return Array.isArray(i)?Y_(i):i||null}function bd(i,t){return(cy(t)?t.asyncValidators:i)||null}function kC(i){return Array.isArray(i)?J_(i):i||null}function cy(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class FC{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=w0(this._rawValidators),this._composedAsyncValidatorFn=kC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Vo}get invalid(){return this.status===gg}get pending(){return this.status==uf}get disabled(){return this.status===cf}get enabled(){return this.status!==cf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=w0(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=kC(t)}addValidators(t){this.setValidators(ty(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ty(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(PC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(PC(t,this._rawAsyncValidators))}hasValidator(t){return of(this._rawValidators,t)}hasAsyncValidator(t){return of(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=uf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=cf,this.errors=null,this._forEachChild(o=>{o.disable(Lr(qe({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Lr(qe({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Vo,this._forEachChild(o=>{o.enable(Lr(qe({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Lr(qe({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vo||this.status===uf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cf:Vo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=uf,this._hasOwnPendingAsyncValidator=!0;const e=q_(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(i,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let o=i;return t.forEach(l=>{o=o instanceof dy?o.controls.hasOwnProperty(l)?o.controls[l]:null:o instanceof I0&&o.at(l)||null}),o}(this,t)}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?cf:this.errors?gg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uf)?uf:this._anyControlsHaveStatus(gg)?gg:Vo}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cy(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class _g extends FC{constructor(t=null,e,o){super(mg(e),bd(o,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){sc(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){sc(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class dy extends FC{constructor(t,e,o){super(mg(e),bd(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,l)=>{o.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=e instanceof _g?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&t(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,o)=>((e.enabled||this.disabled)&&(t[o]=e.value),t))}_reduceChildren(t,e){let o=t;return this._forEachChild((l,h)=>{o=e(o,l,h)}),o}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class I0 extends FC{constructor(t,e,o){super(mg(e),bd(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,o={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((o,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((o,l)=>{this.at(l)&&this.at(l).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((o,l)=>{o.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof _g?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,o)=>{t(e,o)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const hy={provide:ri,useExisting:(0,p.Gpc)(()=>Bl)},wd=(()=>Promise.resolve(null))();let Bl=(()=>{class i extends ri{constructor(e,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new p.vpe,this.form=new dy({},Y_(e),J_(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){wd.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),ic(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){wd.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),sc(this._directives,e)})}addFormGroup(e){wd.then(()=>{const o=this._findContainer(e.path),l=new dy({});(function(i,t){sy(i,t)})(l,e),o.registerControl(e.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){wd.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){wd.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function(i,t){i._syncPendingControls(),t.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(ni,10),p.Y36(rc,10))},i.\u0275dir=p.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&p.NdJ("submit",function(h){return o.onSubmit(h)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([hy]),p.qOj]}),i})();const T0={provide:Lo,useExisting:(0,p.Gpc)(()=>ac)},UC=(()=>Promise.resolve(null))();let ac=(()=>{class i extends Lo{constructor(e,o,l,h){super(),this.control=new _g,this._registered=!1,this.update=new p.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(l),this.valueAccessor=function(i,t){if(!t)return null;let e,o,l;return Array.isArray(t),t.forEach(h=>{h.constructor===_d?e=h:function(i){return Object.getPrototypeOf(i.constructor)===nc}(h)?o=h:l=h}),l||o||e||null}(0,h)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,t){return[...t.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ic(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){UC.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const o=e.isDisabled.currentValue,l=""===o||o&&"false"!==o;UC.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(ri,9),p.Y36(ni,10),p.Y36(rc,10),p.Y36(Fo,10))},i.\u0275dir=p.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([T0]),p.qOj,p.TTD]}),i})(),vg=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=p.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),py=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({}),i})();const pf={provide:ni,useExisting:(0,p.Gpc)(()=>Td),multi:!0};let Td=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(i){return function(i){return null==i||0===i.length}(i.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=p.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,o){2&e&&p.uIk("required",o.required?"":null)},inputs:{required:"required"},features:[p._Bn([pf])]}),i})(),yA=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[py]]}),i})(),G0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[yA]}),i})();var xr=x(4421);function jl(i,t){return(0,xr.zg)(i,t,1)}class by{}class eb{}class Bo{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const l=e.slice(0,o),h=l.toLowerCase(),m=e.slice(o+1).trim();this.maybeSetNormalizedName(l,h),this.headers.has(h)?this.headers.get(h).push(m):this.headers.set(h,[m])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let o=t[e];const l=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(l,o),this.maybeSetNormalizedName(e,l))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Bo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Bo;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Bo?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(t.name,e);const l=("a"===t.op?this.headers.get(e):void 0)||[];l.push(...o),this.headers.set(e,l);break;case"d":const h=t.value;if(h){let m=this.headers.get(e);if(!m)return;m=m.filter(C=>-1===h.indexOf(C)),0===m.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,m)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class CA{encodeKey(t){return Cg(t)}encodeValue(t){return Cg(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Iy=/%(\d[a-f0-9])/gi,tb={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Cg(i){return encodeURIComponent(i).replace(Iy,(t,e)=>{var o;return null!=(o=tb[e])?o:t})}function bg(i){return`${i}`}class Hl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new CA,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(l=>{const h=l.indexOf("="),[m,C]=-1==h?[t.decodeKey(l),""]:[t.decodeKey(l.slice(0,h)),t.decodeValue(l.slice(h+1))],I=e.get(m)||[];I.push(C),e.set(m,I)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const o=t.fromObject[e];this.map.set(e,Array.isArray(o)?o:[o])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(o=>{const l=t[o];Array.isArray(l)?l.forEach(h=>{e.push({param:o,value:h,op:"a"})}):e.push({param:o,value:l,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Hl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(bg(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let o=this.map.get(t.param)||[];const l=o.indexOf(bg(t.value));-1!==l&&o.splice(l,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Z0{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function Dy(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function wg(i){return"undefined"!=typeof Blob&&i instanceof Blob}function Ty(i){return"undefined"!=typeof FormData&&i instanceof FormData}class Sd{constructor(t,e,o,l){let h;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==o?o:null,h=l):h=o,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params)),this.headers||(this.headers=new Bo),this.context||(this.context=new Z0),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=e;else{const C=e.indexOf("?");this.urlWithParams=e+(-1===C?"?":C<e.length-1?"&":"")+m}}else this.params=new Hl,this.urlWithParams=e}serializeBody(){return null===this.body?null:Dy(this.body)||wg(this.body)||Ty(this.body)||function(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ty(this.body)?null:wg(this.body)?this.body.type||null:Dy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var V;const e=t.method||this.method,o=t.url||this.url,l=t.responseType||this.responseType,h=void 0!==t.body?t.body:this.body,m=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,C=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let I=t.headers||this.headers,M=t.params||this.params;const W=null!=(V=t.context)?V:this.context;return void 0!==t.setHeaders&&(I=Object.keys(t.setHeaders).reduce((Q,se)=>Q.set(se,t.setHeaders[se]),I)),t.setParams&&(M=Object.keys(t.setParams).reduce((Q,se)=>Q.set(se,t.setParams[se]),M)),new Sd(e,o,h,{params:M,headers:I,context:W,reportProgress:C,responseType:l,withCredentials:m})}}var Un=(()=>((Un=Un||{})[Un.Sent=0]="Sent",Un[Un.UploadProgress=1]="UploadProgress",Un[Un.ResponseHeader=2]="ResponseHeader",Un[Un.DownloadProgress=3]="DownloadProgress",Un[Un.Response=4]="Response",Un[Un.User=5]="User",Un))();class Ay{constructor(t,e=200,o="OK"){this.headers=t.headers||new Bo,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Ig extends Ay{constructor(t={}){super(t),this.type=Un.ResponseHeader}clone(t={}){return new Ig({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class mf extends Ay{constructor(t={}){super(t),this.type=Un.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new mf({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class rb extends Ay{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Dg(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let _f=(()=>{class i{constructor(e){this.handler=e}request(e,o,l={}){let h;if(e instanceof Sd)h=e;else{let I,M;I=l.headers instanceof Bo?l.headers:new Bo(l.headers),l.params&&(M=l.params instanceof Hl?l.params:new Hl({fromObject:l.params})),h=new Sd(e,o,void 0!==l.body?l.body:null,{headers:I,context:l.context,params:M,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const m=(0,ze.of)(h).pipe(jl(I=>this.handler.handle(I)));if(e instanceof Sd||"events"===l.observe)return m;const C=m.pipe(Ju(I=>I instanceof mf));switch(l.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return C.pipe((0,et.U)(I=>{if(null!==I.body&&!(I.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return I.body}));case"blob":return C.pipe((0,et.U)(I=>{if(null!==I.body&&!(I.body instanceof Blob))throw new Error("Response is not a Blob.");return I.body}));case"text":return C.pipe((0,et.U)(I=>{if(null!==I.body&&"string"!=typeof I.body)throw new Error("Response is not a string.");return I.body}));default:return C.pipe((0,et.U)(I=>I.body))}case"response":return C;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new Hl).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,l={}){return this.request("PATCH",e,Dg(l,o))}post(e,o,l={}){return this.request("POST",e,Dg(l,o))}put(e,o,l={}){return this.request("PUT",e,Dg(l,o))}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(by))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();class Or{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const lc=new p.OlP("HTTP_INTERCEPTORS");let K0=(()=>{class i{intercept(e,o){return o.handle(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const Q0=/^\)\]\}',?\n/;let Ag=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Mn.y(o=>{const l=this.xhrFactory.build();if(l.open(e.method,e.urlWithParams),e.withCredentials&&(l.withCredentials=!0),e.headers.forEach((se,we)=>l.setRequestHeader(se,we.join(","))),e.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const se=e.detectContentTypeHeader();null!==se&&l.setRequestHeader("Content-Type",se)}if(e.responseType){const se=e.responseType.toLowerCase();l.responseType="json"!==se?se:"text"}const h=e.serializeBody();let m=null;const C=()=>{if(null!==m)return m;const se=1223===l.status?204:l.status,we=l.statusText||"OK",He=new Bo(l.getAllResponseHeaders()),Ye=function(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(l)||e.url;return m=new Ig({headers:He,status:se,statusText:we,url:Ye}),m},I=()=>{let{headers:se,status:we,statusText:He,url:Ye}=C(),Et=null;204!==we&&(Et=void 0===l.response?l.responseText:l.response),0===we&&(we=Et?200:0);let Yt=we>=200&&we<300;if("json"===e.responseType&&"string"==typeof Et){const fn=Et;Et=Et.replace(Q0,"");try{Et=""!==Et?JSON.parse(Et):null}catch(Ut){Et=fn,Yt&&(Yt=!1,Et={error:Ut,text:Et})}}Yt?(o.next(new mf({body:Et,headers:se,status:we,statusText:He,url:Ye||void 0})),o.complete()):o.error(new rb({error:Et,headers:se,status:we,statusText:He,url:Ye||void 0}))},M=se=>{const{url:we}=C(),He=new rb({error:se,status:l.status||0,statusText:l.statusText||"Unknown Error",url:we||void 0});o.error(He)};let W=!1;const V=se=>{W||(o.next(C()),W=!0);let we={type:Un.DownloadProgress,loaded:se.loaded};se.lengthComputable&&(we.total=se.total),"text"===e.responseType&&!!l.responseText&&(we.partialText=l.responseText),o.next(we)},Q=se=>{let we={type:Un.UploadProgress,loaded:se.loaded};se.lengthComputable&&(we.total=se.total),o.next(we)};return l.addEventListener("load",I),l.addEventListener("error",M),l.addEventListener("timeout",M),l.addEventListener("abort",M),e.reportProgress&&(l.addEventListener("progress",V),null!==h&&l.upload&&l.upload.addEventListener("progress",Q)),l.send(h),o.next({type:Un.Sent}),()=>{l.removeEventListener("error",M),l.removeEventListener("abort",M),l.removeEventListener("load",I),l.removeEventListener("timeout",M),e.reportProgress&&(l.removeEventListener("progress",V),null!==h&&l.upload&&l.upload.removeEventListener("progress",Q)),l.readyState!==l.DONE&&l.abort()}})}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(ts))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const Sg=new p.OlP("XSRF_COOKIE_NAME"),Rg=new p.OlP("XSRF_HEADER_NAME");class yf{}let Sy=(()=>{class i{constructor(e,o,l){this.doc=e,this.platform=o,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Si(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(fe),p.LFG(p.Lbi),p.LFG(Sg))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),sb=(()=>{class i{constructor(e,o){this.tokenService=e,this.headerName=o}intercept(e,o){const l=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||l.startsWith("http://")||l.startsWith("https://"))return o.handle(e);const h=this.tokenService.getToken();return null!==h&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,h)})),o.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(yf),p.LFG(Rg))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),ob=(()=>{class i{constructor(e,o){this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=this.injector.get(lc,[]);this.chain=o.reduceRight((l,h)=>new Or(l,h),this.backend)}return this.chain.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(eb),p.LFG(p.zs3))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),Mg=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:sb,useClass:K0}]}}static withOptions(e={}){return{ngModule:i,providers:[e.cookieName?{provide:Sg,useValue:e.cookieName}:[],e.headerName?{provide:Rg,useValue:e.headerName}:[]]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[sb,{provide:lc,useExisting:sb,multi:!0},{provide:yf,useClass:Sy},{provide:Sg,useValue:"XSRF-TOKEN"},{provide:Rg,useValue:"X-XSRF-TOKEN"}]}),i})(),ab=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[_f,{provide:by,useClass:ob},Ag,{provide:eb,useExisting:Ag}],imports:[[Mg.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})();class zi extends Wi.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new fI.N;return this._value}next(t){super.next(this._value=t)}}var ub=x(8151),eD=x(5433);const Ry={};class db{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new tD(t,this.resultSelector))}}class tD extends po{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ry),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let o=0;o<e;o++)this.add(xi(this,t[o],void 0,o))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,o){const l=this.values,m=this.toRespond?l[o]===Ry?--this.toRespond:this.toRespond:0;l[o]=e,0===m&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}var vf=x(2225);function My(...i){return(0,vf.J)(1)((0,ze.of)(...i))}function fb(i){return new Mn.y(t=>{let e;try{e=i()}catch(l){return void t.error(l)}return(e?(0,In.D)(e):(0,Gi.c)()).subscribe(t)})}var pb=x(5783);function $l(i){return function(e){const o=new gb(i),l=e.lift(o);return o.caught=l}}class gb{constructor(t){this.selector=t}call(t,e){return e.subscribe(new mb(t,this.selector,this.caught))}}class mb extends ss.Ds{constructor(t,e,o){super(t),this.selector=e,this.caught=o}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(h){return void super.error(h)}this._unsubscribeAndRecycle();const o=new ss.IY(this);this.add(o);const l=(0,ss.ft)(e,o);l!==o&&this.add(l)}}}function Pg(i){return function(e){return 0===i?(0,Gi.c)():e.lift(new rD(i))}}class rD{constructor(t){if(this.total=t,this.total<0)throw new IE}call(t,e){return e.subscribe(new iD(t,this.total))}}class iD extends Xt.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,o=this.total,l=this.count++;e.length<o?e.push(t):e[l%o]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const o=this.count>=this.total?this.total:this.count,l=this.ring;for(let h=0;h<o;h++){const m=e++%o;t.next(l[m])}}t.complete()}}var Ci=x(5722),SA=x(5234);class MA{constructor(t){this.callback=t}call(t,e){return e.subscribe(new PA(t,this.callback))}}class PA extends Xt.L{constructor(t,e){super(t),this.add(new bE.w(e))}}class Wl{constructor(t,e){this.id=t,this.url=e}}class _b extends Wl{constructor(t,e,o="imperative",l=null){super(t,e),this.navigationTrigger=o,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ng extends Wl{constructor(t,e,o){super(t,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yb extends Wl{constructor(t,e,o){super(t,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oD extends Wl{constructor(t,e,o){super(t,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aD extends Wl{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NA extends Wl{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xA extends Wl{constructor(t,e,o,l,h){super(t,e),this.urlAfterRedirects=o,this.state=l,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class OA extends Wl{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lD extends Wl{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vb{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Eb{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kA{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FA{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uD{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LA{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cb{constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const It="primary";class Py{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function zs(i){return new Py(i)}const Ny="ngNavigationCancelingError";function xy(i){const t=Error("NavigationCancelingError: "+i);return t[Ny]=!0,t}function Oy(i,t,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||o.length<i.length))return null;const l={};for(let h=0;h<o.length;h++){const m=o[h],C=i[h];if(m.startsWith(":"))l[m.substring(1)]=C;else if(m!==C.path)return null}return{consumed:i.slice(0,o.length),posParams:l}}function Zs(i,t){const e=i?Object.keys(i):void 0,o=t?Object.keys(t):void 0;if(!e||!o||e.length!=o.length)return!1;let l;for(let h=0;h<e.length;h++)if(l=e[h],!ky(i[l],t[l]))return!1;return!0}function ky(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),o=[...t].sort();return e.every((l,h)=>o[h]===l)}return i===t}function dD(i){return Array.prototype.concat.apply([],i)}function Fy(i){return i.length>0?i[i.length-1]:null}function ar(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function La(i){return(0,p.CqO)(i)?i:(0,p.QGY)(i)?(0,In.D)(Promise.resolve(i)):(0,ze.of)(i)}const UA={exact:function Db(i,t,e){if(!Gl(i.segments,t.segments)||!Og(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!i.children[o]||!Db(i.children[o],t.children[o],e))return!1;return!0},subset:fD},wb={exact:function(i,t){return Zs(i,t)},subset:function(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>ky(i[e],t[e]))},ignored:()=>!0};function hD(i,t,e){return UA[e.paths](i.root,t.root,e.matrixParams)&&wb[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function fD(i,t,e){return xg(i,t,t.segments,e)}function xg(i,t,e,o){if(i.segments.length>e.length){const l=i.segments.slice(0,e.length);return!(!Gl(l,e)||t.hasChildren()||!Og(l,e,o))}if(i.segments.length===e.length){if(!Gl(i.segments,e)||!Og(i.segments,e,o))return!1;for(const l in t.children)if(!i.children[l]||!fD(i.children[l],t.children[l],o))return!1;return!0}{const l=e.slice(0,i.segments.length),h=e.slice(i.segments.length);return!!(Gl(i.segments,l)&&Og(i.segments,l,o)&&i.children[It])&&xg(i.children[It],t,h,o)}}function Og(i,t,e){return t.every((o,l)=>wb[e](i[l].parameters,o.parameters))}class Rd{constructor(t,e,o){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zs(this.queryParams)),this._queryParamMap}toString(){return _D.serialize(this)}}class Pt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ar(e,(o,l)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Md(this)}}class Ef{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=zs(this.parameters)),this._parameterMap}toString(){return Fg(this)}}function Gl(i,t){return i.length===t.length&&i.every((e,o)=>e.path===t[o].path)}class gD{}class mD{parse(t){const e=new CD(t);return new Rd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Cf(t.root,!0)}`,o=function(i){const t=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(l=>`${kg(e)}=${kg(l)}`).join("&"):`${kg(e)}=${kg(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),l="string"==typeof t.fragment?`#${function(i){return encodeURI(i)}(t.fragment)}`:"";return`${e}${o}${l}`}}const _D=new mD;function Md(i){return i.segments.map(t=>Fg(t)).join("/")}function Cf(i,t){if(!i.hasChildren())return Md(i);if(t){const e=i.children[It]?Cf(i.children[It],!1):"",o=[];return ar(i.children,(l,h)=>{h!==It&&o.push(`${h}:${Cf(l,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(i,t){let e=[];return ar(i.children,(o,l)=>{l===It&&(e=e.concat(t(o,l)))}),ar(i.children,(o,l)=>{l!==It&&(e=e.concat(t(o,l)))}),e}(i,(o,l)=>l===It?[Cf(i.children[It],!1)]:[`${l}:${Cf(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[It]?`${Md(i)}/${e[0]}`:`${Md(i)}/(${e.join("//")})`}}function Tb(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kg(i){return Tb(i).replace(/%3B/gi,";")}function Uy(i){return Tb(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kr(i){return decodeURIComponent(i)}function Ab(i){return kr(i.replace(/\+/g,"%20"))}function Fg(i){return`${Uy(i.path)}${function(i){return Object.keys(i).map(t=>`;${Uy(t)}=${Uy(i[t])}`).join("")}(i.parameters)}`}const By=/^[^\/()?;=#]+/;function bf(i){const t=i.match(By);return t?t[0]:""}const Sb=/^[^=?&#]+/,Rb=/^[^&#]+/;class CD{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[It]=new Pt(t,e)),o}parseSegment(){const t=bf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ef(kr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=bf(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const l=bf(this.remaining);l&&(o=l,this.capture(o))}t[kr(e)]=kr(o)}parseQueryParam(t){const e=function(i){const t=i.match(Sb);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const m=function(i){const t=i.match(Rb);return t?t[0]:""}(this.remaining);m&&(o=m,this.capture(o))}const l=Ab(e),h=Ab(o);if(t.hasOwnProperty(l)){let m=t[l];Array.isArray(m)||(m=[m],t[l]=m),m.push(h)}else t[l]=h}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=bf(this.remaining),l=this.remaining[o.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let h;o.indexOf(":")>-1?(h=o.substr(0,o.indexOf(":")),this.capture(h),this.capture(":")):t&&(h=It);const m=this.parseChildren();e[h]=1===Object.keys(m).length?m[It]:new Pt([],m),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Pb{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wf(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){const e=wf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Lg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==t)}pathFromRoot(t){return Lg(t,this._root).map(e=>e.value)}}function wf(i,t){if(i===t.value)return t;for(const e of t.children){const o=wf(i,e);if(o)return o}return null}function Lg(i,t){if(i===t.value)return[t];for(const e of t.children){const o=Lg(i,e);if(o.length)return o.unshift(t),o}return[]}class jo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function zl(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class Nb extends Pb{constructor(t,e){super(t),this.snapshot=e,jy(this,t)}toString(){return this.snapshot.toString()}}function _s(i,t){const e=function(i,t){const m=new Vg([],{},{},"",{},It,t,null,i.root,-1,{});return new Ob("",new jo(m,[]))}(i,t),o=new zi([new Ef("",{})]),l=new zi({}),h=new zi({}),m=new zi({}),C=new zi(""),I=new If(o,l,m,C,h,It,t,e.root);return I.snapshot=e.root,new Nb(new jo(I,[]),e)}class If{constructor(t,e,o,l,h,m,C,I){this.url=t,this.params=e,this.queryParams=o,this.fragment=l,this.data=h,this.outlet=m,this.component=C,this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,et.U)(t=>zs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,et.U)(t=>zs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xb(i,t="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==t)for(o=e.length-1;o>=1;){const l=e[o],h=e[o-1];if(l.routeConfig&&""===l.routeConfig.path)o--;else{if(h.component)break;o--}}return function(i){return i.reduce((t,e)=>({params:qe(qe({},t.params),e.params),data:qe(qe({},t.data),e.data),resolve:qe(qe({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class Vg{constructor(t,e,o,l,h,m,C,I,M,W,V){this.url=t,this.params=e,this.queryParams=o,this.fragment=l,this.data=h,this.outlet=m,this.component=C,this.routeConfig=I,this._urlSegment=M,this._lastPathIndex=W,this._resolve=V}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ob extends Pb{constructor(t,e){super(e),this.url=t,jy(this,e)}toString(){return wD(this._root)}}function jy(i,t){t.value._routerState=i,t.children.forEach(e=>jy(i,e))}function wD(i){const t=i.children.length>0?` { ${i.children.map(wD).join(", ")} } `:"";return`${i.value}${t}`}function Hy(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Zs(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),Zs(t.params,e.params)||i.params.next(e.params),function(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!Zs(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),Zs(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function Ug(i,t){const e=Zs(i.params,t.params)&&function(i,t){return Gl(i,t)&&i.every((e,o)=>Zs(e.parameters,t[o].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||Ug(i.parent,t.parent))}function Df(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=t.value;const l=function(i,t,e){return t.children.map(o=>{for(const l of e.children)if(i.shouldReuseRoute(o.value,l.value.snapshot))return Df(i,o,l);return Df(i,o)})}(i,t,e);return new jo(o,l)}{if(i.shouldAttach(t.value)){const h=i.retrieve(t.value);if(null!==h){const m=h.route;return m.value._futureSnapshot=t.value,m.children=t.children.map(C=>Df(i,C)),m}}const o=function(i){return new If(new zi(i.url),new zi(i.params),new zi(i.queryParams),new zi(i.fragment),new zi(i.data),i.outlet,i.component,i)}(t.value),l=t.children.map(h=>Df(i,h));return new jo(o,l)}}function Tf(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Pd(i){return"object"==typeof i&&null!=i&&i.outlets}function $y(i,t,e,o,l){let h={};return o&&ar(o,(m,C)=>{h[C]=Array.isArray(m)?m.map(I=>`${I}`):`${m}`}),new Rd(e.root===i?t:Fb(e.root,i,t),h,l)}function Fb(i,t,e){const o={};return ar(i.children,(l,h)=>{o[h]=l===t?e:Fb(l,t,e)}),new Pt(i.segments,o)}class Wy{constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&Tf(o[0]))throw new Error("Root segment cannot have matrix parameters");const l=o.find(Pd);if(l&&l!==Fy(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sf{constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}function AD(i,t,e){if(i||(i=new Pt([],{})),0===i.segments.length&&i.hasChildren())return Gy(i,t,e);const o=function(i,t,e){let o=0,l=t;const h={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(o>=e.length)return h;const m=i.segments[l],C=e[o];if(Pd(C))break;const I=`${C}`,M=o<e.length-1?e[o+1]:null;if(l>0&&void 0===I)break;if(I&&M&&"object"==typeof M&&void 0===M.outlets){if(!Ub(I,M,m))return h;o+=2}else{if(!Ub(I,{},m))return h;o++}l++}return{match:!0,pathIndex:l,commandIndex:o}}(i,t,e),l=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const h=new Pt(i.segments.slice(0,o.pathIndex),{});return h.children[It]=new Pt(i.segments.slice(o.pathIndex),i.children),Gy(h,0,l)}return o.match&&0===l.length?new Pt(i.segments,{}):o.match&&!i.hasChildren()?Vb(i,t,e):o.match?Gy(i,0,l):Vb(i,t,e)}function Gy(i,t,e){if(0===e.length)return new Pt(i.segments,{});{const o=function(i){return Pd(i[0])?i[0].outlets:{[It]:i}}(e),l={};return ar(o,(h,m)=>{"string"==typeof h&&(h=[h]),null!==h&&(l[m]=AD(i.children[m],t,h))}),ar(i.children,(h,m)=>{void 0===o[m]&&(l[m]=h)}),new Pt(i.segments,l)}}function Vb(i,t,e){const o=i.segments.slice(0,t);let l=0;for(;l<e.length;){const h=e[l];if(Pd(h)){const I=zA(h.outlets);return new Pt(o,I)}if(0===l&&Tf(e[0])){o.push(new Ef(i.segments[t].path,Bg(e[0]))),l++;continue}const m=Pd(h)?h.outlets[It]:`${h}`,C=l<e.length-1?e[l+1]:null;m&&C&&Tf(C)?(o.push(new Ef(m,Bg(C))),l+=2):(o.push(new Ef(m,{})),l++)}return new Pt(o,{})}function zA(i){const t={};return ar(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[o]=Vb(new Pt([],{}),0,e))}),t}function Bg(i){const t={};return ar(i,(e,o)=>t[o]=`${e}`),t}function Ub(i,t,e){return i==e.path&&Zs(t,e.parameters)}class SD{constructor(t,e,o,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=l}activate(t){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),Hy(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){const l=zl(e);t.children.forEach(h=>{const m=h.value.outlet;this.deactivateRoutes(h,l[m],o),delete l[m]}),ar(l,(h,m)=>{this.deactivateRouteAndItsChildren(h,o)})}deactivateRoutes(t,e,o){const l=t.value,h=e?e.value:null;if(l===h)if(l.component){const m=o.getContext(l.outlet);m&&this.deactivateChildRoutes(t,e,m.children)}else this.deactivateChildRoutes(t,e,o);else h&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const o=e.getContext(t.value.outlet),l=o&&t.value.component?o.children:e,h=zl(t);for(const m of Object.keys(h))this.deactivateRouteAndItsChildren(h[m],l);if(o&&o.outlet){const m=o.outlet.detach(),C=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:m,route:t,contexts:C})}}deactivateRouteAndOutlet(t,e){const o=e.getContext(t.value.outlet),l=o&&t.value.component?o.children:e,h=zl(t);for(const m of Object.keys(h))this.deactivateRouteAndItsChildren(h[m],l);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(t,e,o){const l=zl(e);t.children.forEach(h=>{this.activateRoutes(h,l[h.value.outlet],o),this.forwardEvent(new LA(h.value.snapshot))}),t.children.length&&this.forwardEvent(new FA(t.value.snapshot))}activateRoutes(t,e,o){const l=t.value,h=e?e.value:null;if(Hy(l),l===h)if(l.component){const m=o.getOrCreateContext(l.outlet);this.activateChildRoutes(t,e,m.children)}else this.activateChildRoutes(t,e,o);else if(l.component){const m=o.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const C=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),m.children.onOutletReAttached(C.contexts),m.attachRef=C.componentRef,m.route=C.route.value,m.outlet&&m.outlet.attach(C.componentRef,C.route.value),Hy(C.route.value),this.activateChildRoutes(t,null,m.children)}else{const C=function(i){for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(l.snapshot),I=C?C.module.componentFactoryResolver:null;m.attachRef=null,m.route=l,m.resolver=I,m.outlet&&m.outlet.activateWith(l,I),this.activateChildRoutes(t,null,m.children)}}else this.activateChildRoutes(t,null,o)}}class zy{constructor(t,e){this.routes=t,this.module=e}}function Zl(i){return"function"==typeof i}function Nd(i){return i instanceof Rd}const jg=Symbol("INITIAL_VALUE");function xd(){return yn(i=>function(...i){let t,e;return(0,ub.K)(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(t=i.pop()),1===i.length&&(0,lg.k)(i[0])&&(i=i[0]),(0,eD.n)(i,e).lift(new db(t))}(i.map(t=>t.pipe(p_(1),function(...i){const t=i[i.length-1];return(0,ub.K)(t)?(i.pop(),e=>My(i,e,t)):e=>My(i,e)}(jg)))).pipe(di((t,e)=>{let o=!1;return e.reduce((l,h,m)=>l!==jg?l:(h===jg&&(o=!0),o||!1!==h&&m!==e.length-1&&!Nd(h)?l:h),t)},jg),Ju(t=>t!==jg),(0,et.U)(t=>Nd(t)?t:!0===t),p_(1)))}class Bb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rf,this.attachRef=null}}class Rf{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const o=this.getOrCreateContext(t);o.outlet=e,this.contexts.set(t,o)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Bb,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Od=(()=>{class i{constructor(e,o,l,h,m){this.parentContexts=e,this.location=o,this.resolver=l,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=h||It,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const m=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),C=this.parentContexts.getOrCreateContext(this.name).children,I=new PD(e,C,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,I),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(Rf),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},i.\u0275dir=p.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class PD{constructor(t,e,o){this.route=t,this.childContexts=e,this.parent=o}get(t,e){return t===If?this.route:t===Rf?this.childContexts:this.parent.get(t,e)}}let jb=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=p.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&p._UZ(0,"router-outlet")},directives:[Od],encapsulation:2}),i})();function qy(i,t=""){for(let e=0;e<i.length;e++){const o=i[e];uc(o,Hb(t,o))}}function uc(i,t){i.children&&qy(i.children,t)}function Hb(i,t){return t?i||t.path?i&&!t.path?`${i}/`:!i&&t.path?t.path:`${i}/${t.path}`:"":i}function Mf(i){const t=i.children&&i.children.map(Mf),e=t?Lr(qe({},i),{children:t}):qe({},i);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==It&&(e.component=jb),e}function bi(i){return i.outlet||It}function $b(i,t){const e=i.filter(o=>bi(o)===t);return e.push(...i.filter(o=>bi(o)!==t)),e}const Pf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Hg(i,t,e){var C;if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?qe({},Pf):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(t.matcher||Oy)(e,i,t);if(!l)return qe({},Pf);const h={};ar(l.posParams,(I,M)=>{h[M]=I.path});const m=l.consumed.length>0?qe(qe({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:m,positionalParamSegments:null!=(C=l.posParams)?C:{}}}function kd(i,t,e,o,l="corrected"){if(e.length>0&&function(i,t,e){return e.some(o=>$g(i,t,o)&&bi(o)!==It)}(i,e,o)){const m=new Pt(t,function(i,t,e,o){const l={};l[It]=o,o._sourceSegment=i,o._segmentIndexShift=t.length;for(const h of e)if(""===h.path&&bi(h)!==It){const m=new Pt([],{});m._sourceSegment=i,m._segmentIndexShift=t.length,l[bi(h)]=m}return l}(i,t,o,new Pt(e,i.children)));return m._sourceSegment=i,m._segmentIndexShift=t.length,{segmentGroup:m,slicedSegments:[]}}if(0===e.length&&function(i,t,e){return e.some(o=>$g(i,t,o))}(i,e,o)){const m=new Pt(i.segments,function(i,t,e,o,l,h){const m={};for(const C of o)if($g(i,e,C)&&!l[bi(C)]){const I=new Pt([],{});I._sourceSegment=i,I._segmentIndexShift="legacy"===h?i.segments.length:t.length,m[bi(C)]=I}return qe(qe({},l),m)}(i,t,e,o,i.children,l));return m._sourceSegment=i,m._segmentIndexShift=t.length,{segmentGroup:m,slicedSegments:e}}const h=new Pt(i.segments,i.children);return h._sourceSegment=i,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}function $g(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function xD(i,t,e,o){return!!(bi(i)===o||o!==It&&$g(t,e,i))&&("**"===i.path||Hg(t,i,e).matched)}function Nf(i,t,e){return 0===t.length&&!i.children[e]}class xf{constructor(t){this.segmentGroup=t||null}}class OD{constructor(t){this.urlTree=t}}function Ky(i){return new Mn.y(t=>t.error(new xf(i)))}function Yy(i){return new Mn.y(t=>t.error(new OD(i)))}function kD(i){return new Mn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class VD{constructor(t,e,o,l,h){this.configLoader=e,this.urlSerializer=o,this.urlTree=l,this.config=h,this.allowRedirects=!0,this.ngModule=t.get(p.h0i)}apply(){const t=kd(this.urlTree.root,[],[],this.config).segmentGroup,e=new Pt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,It).pipe((0,et.U)(h=>this.createUrlTree(Wg(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe($l(h=>{if(h instanceof OD)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof xf?this.noMatchError(h):h}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,It).pipe((0,et.U)(l=>this.createUrlTree(Wg(l),t.queryParams,t.fragment))).pipe($l(l=>{throw l instanceof xf?this.noMatchError(l):l}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,o){const l=t.segments.length>0?new Pt([],{[It]:t}):t;return new Rd(l,e,o)}expandSegmentGroup(t,e,o,l){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(t,e,o).pipe((0,et.U)(h=>new Pt([],h))):this.expandSegment(t,o,e,o.segments,l,!0)}expandChildren(t,e,o){const l=[];for(const h of Object.keys(o.children))"primary"===h?l.unshift(h):l.push(h);return(0,In.D)(l).pipe(jl(h=>{const m=o.children[h],C=$b(e,h);return this.expandSegmentGroup(t,C,m,h).pipe((0,et.U)(I=>({segment:I,outlet:h})))}),di((h,m)=>(h[m.outlet]=m.segment,h),{}),function(i,t){const e=arguments.length>=2;return o=>o.pipe(i?Ju((l,h)=>i(l,h,o)):TE.y,Pg(1),e?g_(t):m_(()=>new f_))}())}expandSegment(t,e,o,l,h,m){return(0,In.D)(o).pipe(jl(C=>this.expandSegmentAgainstRoute(t,e,o,C,l,h,m).pipe($l(M=>{if(M instanceof xf)return(0,ze.of)(null);throw M}))),Xu(C=>!!C),$l((C,I)=>{if(C instanceof f_||"EmptyError"===C.name){if(Nf(e,l,h))return(0,ze.of)(new Pt([],{}));throw new xf(e)}throw C}))}expandSegmentAgainstRoute(t,e,o,l,h,m,C){return xD(l,e,h,m)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(t,e,l,h,m):C&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,o,l,h,m):Ky(e):Ky(e)}expandSegmentAgainstRouteUsingRedirect(t,e,o,l,h,m){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,l,m):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,l,h,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,o,l){const h=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Yy(h):this.lineralizeSegments(o,h).pipe((0,xr.zg)(m=>{const C=new Pt(m,{});return this.expandSegment(t,C,e,m,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,l,h,m){const{matched:C,consumedSegments:I,lastChild:M,positionalParamSegments:W}=Hg(e,l,h);if(!C)return Ky(e);const V=this.applyRedirectCommands(I,l.redirectTo,W);return l.redirectTo.startsWith("/")?Yy(V):this.lineralizeSegments(l,V).pipe((0,xr.zg)(Q=>this.expandSegment(t,e,o,Q.concat(h.slice(M)),m,!1)))}matchSegmentAgainstRoute(t,e,o,l,h){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,ze.of)(o._loadedConfig):this.configLoader.load(t.injector,o)).pipe((0,et.U)(Q=>(o._loadedConfig=Q,new Pt(l,{})))):(0,ze.of)(new Pt(l,{}));const{matched:m,consumedSegments:C,lastChild:I}=Hg(e,o,l);if(!m)return Ky(e);const M=l.slice(I);return this.getChildConfig(t,o,l).pipe((0,xr.zg)(V=>{const Q=V.module,se=V.routes,{segmentGroup:we,slicedSegments:He}=kd(e,C,M,se),Ye=new Pt(we.segments,we.children);if(0===He.length&&Ye.hasChildren())return this.expandChildren(Q,se,Ye).pipe((0,et.U)(Ut=>new Pt(C,Ut)));if(0===se.length&&0===He.length)return(0,ze.of)(new Pt(C,{}));const Et=bi(o)===h;return this.expandSegment(Q,Ye,se,He,Et?It:h,!0).pipe((0,et.U)(fn=>new Pt(C.concat(fn.segments),fn.children)))}))}getChildConfig(t,e,o){return e.children?(0,ze.of)(new zy(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,ze.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,o).pipe((0,xr.zg)(l=>l?this.configLoader.load(t.injector,e).pipe((0,et.U)(h=>(e._loadedConfig=h,h))):function(i){return new Mn.y(t=>t.error(xy(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`)))}(e))):(0,ze.of)(new zy([],t))}runCanLoadGuards(t,e,o){const l=e.canLoad;if(!l||0===l.length)return(0,ze.of)(!0);const h=l.map(m=>{const C=t.get(m);let I;if(function(i){return i&&Zl(i.canLoad)}(C))I=C.canLoad(e,o);else{if(!Zl(C))throw new Error("Invalid CanLoad guard");I=C(e,o)}return La(I)});return(0,ze.of)(h).pipe(xd(),(0,Ci.b)(m=>{if(!Nd(m))return;const C=xy(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw C.url=m,C}),(0,et.U)(m=>!0===m))}lineralizeSegments(t,e){let o=[],l=e.root;for(;;){if(o=o.concat(l.segments),0===l.numberOfChildren)return(0,ze.of)(o);if(l.numberOfChildren>1||!l.children[It])return kD(t.redirectTo);l=l.children[It]}}applyRedirectCommands(t,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,o)}applyRedirectCreatreUrlTree(t,e,o,l){const h=this.createSegmentGroup(t,e.root,o,l);return new Rd(h,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const o={};return ar(t,(l,h)=>{if("string"==typeof l&&l.startsWith(":")){const C=l.substring(1);o[h]=e[C]}else o[h]=l}),o}createSegmentGroup(t,e,o,l){const h=this.createSegments(t,e.segments,o,l);let m={};return ar(e.children,(C,I)=>{m[I]=this.createSegmentGroup(t,C,o,l)}),new Pt(h,m)}createSegments(t,e,o,l){return e.map(h=>h.path.startsWith(":")?this.findPosParam(t,h,l):this.findOrReturn(h,o))}findPosParam(t,e,o){const l=o[e.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return l}findOrReturn(t,e){let o=0;for(const l of e){if(l.path===t.path)return e.splice(o),l;o++}return t}}function Wg(i){const t={};for(const o of Object.keys(i.children)){const h=Wg(i.children[o]);(h.segments.length>0||h.hasChildren())&&(t[o]=h)}return function(i){if(1===i.numberOfChildren&&i.children[It]){const t=i.children[It];return new Pt(i.segments.concat(t.segments),t.children)}return i}(new Pt(i.segments,t))}class Zb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Gg{constructor(t,e){this.component=t,this.route=e}}function qb(i,t,e){const o=i._root;return ql(o,t?t._root:null,e,[o.value])}function Zg(i,t,e){const o=function(i){if(!i)return null;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(o?o.module.injector:e).get(i)}function ql(i,t,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const h=zl(t);return i.children.forEach(m=>{(function(i,t,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const h=i.value,m=t?t.value:null,C=e?e.getContext(i.value.outlet):null;if(m&&h.routeConfig===m.routeConfig){const I=function(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!Gl(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Gl(i.url,t.url)||!Zs(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ug(i,t)||!Zs(i.queryParams,t.queryParams);default:return!Ug(i,t)}}(m,h,h.routeConfig.runGuardsAndResolvers);I?l.canActivateChecks.push(new Zb(o)):(h.data=m.data,h._resolvedData=m._resolvedData),ql(i,t,h.component?C?C.children:null:e,o,l),I&&C&&C.outlet&&C.outlet.isActivated&&l.canDeactivateChecks.push(new Gg(C.outlet.component,m))}else m&&Of(t,C,l),l.canActivateChecks.push(new Zb(o)),ql(i,null,h.component?C?C.children:null:e,o,l)})(m,h[m.value.outlet],e,o.concat([m.value]),l),delete h[m.value.outlet]}),ar(h,(m,C)=>Of(m,e.getContext(C),l)),l}function Of(i,t,e){const o=zl(i),l=i.value;ar(o,(h,m)=>{Of(h,l.component?t?t.children.getContext(m):null:t,e)}),e.canDeactivateChecks.push(new Gg(l.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,l))}class qD{}function Yb(i){return new Mn.y(t=>t.error(i))}class Kg{constructor(t,e,o,l,h,m){this.rootComponentType=t,this.config=e,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=m}recognize(){const t=kd(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,It);if(null===e)return null;const o=new Vg([],Object.freeze({}),Object.freeze(qe({},this.urlTree.queryParams)),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new jo(o,e),h=new Ob(this.url,l);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(t){const e=t.value,o=xb(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),t.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(t,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,o)}processChildren(t,e){const o=[];for(const h of Object.keys(e.children)){const m=e.children[h],C=$b(t,h),I=this.processSegmentGroup(C,m,h);if(null===I)return null;o.push(...I)}const l=Va(o);return function(i){i.sort((t,e)=>t.value.outlet===It?-1:e.value.outlet===It?1:t.value.outlet.localeCompare(e.value.outlet))}(l),l}processSegment(t,e,o,l){for(const h of t){const m=this.processSegmentAgainstRoute(h,e,o,l);if(null!==m)return m}return Nf(e,o,l)?[]:null}processSegmentAgainstRoute(t,e,o,l){if(t.redirectTo||!xD(t,e,o,l))return null;let h,m=[],C=[];if("**"===t.path){const se=o.length>0?Fy(o).parameters:{};h=new Vg(o,se,Object.freeze(qe({},this.urlTree.queryParams)),this.urlTree.fragment,it(t),bi(t),t.component,t,Fd(e),KD(e)+o.length,Qy(t))}else{const se=Hg(e,t,o);if(!se.matched)return null;m=se.consumedSegments,C=o.slice(se.lastChild),h=new Vg(m,se.parameters,Object.freeze(qe({},this.urlTree.queryParams)),this.urlTree.fragment,it(t),bi(t),t.component,t,Fd(e),KD(e)+m.length,Qy(t))}const I=function(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(t),{segmentGroup:M,slicedSegments:W}=kd(e,m,C,I.filter(se=>void 0===se.redirectTo),this.relativeLinkResolution);if(0===W.length&&M.hasChildren()){const se=this.processChildren(I,M);return null===se?null:[new jo(h,se)]}if(0===I.length&&0===W.length)return[new jo(h,[])];const V=bi(t)===l,Q=this.processSegment(I,M,W,V?It:l);return null===Q?null:[new jo(h,Q)]}}function Kt(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Va(i){const t=[],e=new Set;for(const o of i){if(!Kt(o)){t.push(o);continue}const l=t.find(h=>o.value.routeConfig===h.value.routeConfig);void 0!==l?(l.children.push(...o.children),e.add(l)):t.push(o)}for(const o of e){const l=Va(o.children);t.push(new jo(o.value,l))}return t.filter(o=>!e.has(o))}function Fd(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function KD(i){let t=i,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function it(i){return i.data||{}}function Qy(i){return i.resolve||{}}function wi(i){return yn(t=>{const e=i(t);return e?(0,In.D)(e).pipe((0,et.U)(()=>t)):(0,ze.of)(t)})}class Xb extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Yg=new p.OlP("ROUTES");class XD{constructor(t,e,o,l){this.injector=t,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=l}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const l=this.loadModuleFactory(e.loadChildren).pipe((0,et.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(e);const m=h.create(t);return new zy(dD(m.injector.get(Yg,void 0,p.XFs.Self|p.XFs.Optional)).map(Mf),m)}),$l(h=>{throw e._loader$=void 0,h}));return e._loader$=new pb.c(l,()=>new Wi.xQ).pipe((0,SA.x)()),e._loader$}loadModuleFactory(t){return La(t()).pipe((0,xr.zg)(e=>e instanceof p.YKP?(0,ze.of)(e):(0,In.D)(this.compiler.compileModuleAsync(e))))}}class tT{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ys(i){throw i}function Tn(i,t,e){return t.parse("/")}function vs(i,t){return(0,ze.of)(null)}const ew={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Er=(()=>{class i{constructor(e,o,l,h,m,C,I){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=l,this.location=h,this.config=I,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Wi.xQ,this.errorHandler=ys,this.malformedUriErrorHandler=Tn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vs,afterPreactivation:vs},this.urlHandlingStrategy=new tT,this.routeReuseStrategy=new Xb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(p.h0i),this.console=m.get(p.c2e);const V=m.get(p.R0b);this.isNgZoneEnabled=V instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(I),this.currentUrlTree=new Rd(new Pt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new XD(m,C,Q=>this.triggerEvent(new vb(Q)),Q=>this.triggerEvent(new Eb(Q))),this.routerState=_s(this.currentUrlTree,this.rootComponentType),this.transitions=new zi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null==(e=this.location.getState())?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(Ju(l=>0!==l.id),(0,et.U)(l=>Lr(qe({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),yn(l=>{let h=!1,m=!1;return(0,ze.of)(l).pipe((0,Ci.b)(C=>{this.currentNavigation={id:C.id,initialUrl:C.currentRawUrl,extractedUrl:C.extractedUrl,trigger:C.source,extras:C.extras,previousNavigation:this.lastSuccessfulNavigation?Lr(qe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yn(C=>{const I=this.browserUrlTree.toString(),M=!this.navigated||C.extractedUrl.toString()!==I||I!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||M)&&this.urlHandlingStrategy.shouldProcessUrl(C.rawUrl))return Ua(C.source)&&(this.browserUrlTree=C.extractedUrl),(0,ze.of)(C).pipe(yn(V=>{const Q=this.transitions.getValue();return o.next(new _b(V.id,this.serializeUrl(V.extractedUrl),V.source,V.restoredState)),Q!==this.transitions.getValue()?Gi.E:Promise.resolve(V)}),function(i,t,e,o){return yn(l=>function(i,t,e,o,l){return new VD(i,t,e,o,l).apply()}(i,t,e,l.extractedUrl,o).pipe((0,et.U)(h=>Lr(qe({},l),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ci.b)(V=>{this.currentNavigation=Lr(qe({},this.currentNavigation),{finalUrl:V.urlAfterRedirects})}),function(i,t,e,o,l){return(0,xr.zg)(h=>function(i,t,e,o,l="emptyOnly",h="legacy"){try{const m=new Kg(i,t,e,o,l,h).recognize();return null===m?Yb(new qD):(0,ze.of)(m)}catch(m){return Yb(m)}}(i,t,h.urlAfterRedirects,e(h.urlAfterRedirects),o,l).pipe((0,et.U)(m=>Lr(qe({},h),{targetSnapshot:m}))))}(this.rootComponentType,this.config,V=>this.serializeUrl(V),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ci.b)(V=>{if("eager"===this.urlUpdateStrategy){if(!V.extras.skipLocationChange){const se=this.urlHandlingStrategy.merge(V.urlAfterRedirects,V.rawUrl);this.setBrowserUrl(se,V)}this.browserUrlTree=V.urlAfterRedirects}const Q=new aD(V.id,this.serializeUrl(V.extractedUrl),this.serializeUrl(V.urlAfterRedirects),V.targetSnapshot);o.next(Q)}));if(M&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Q,extractedUrl:se,source:we,restoredState:He,extras:Ye}=C,Et=new _b(Q,this.serializeUrl(se),we,He);o.next(Et);const Yt=_s(se,this.rootComponentType).snapshot;return(0,ze.of)(Lr(qe({},C),{targetSnapshot:Yt,urlAfterRedirects:se,extras:Lr(qe({},Ye),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=C.rawUrl,C.resolve(null),Gi.E}),wi(C=>{const{targetSnapshot:I,id:M,extractedUrl:W,rawUrl:V,extras:{skipLocationChange:Q,replaceUrl:se}}=C;return this.hooks.beforePreactivation(I,{navigationId:M,appliedUrlTree:W,rawUrlTree:V,skipLocationChange:!!Q,replaceUrl:!!se})}),(0,Ci.b)(C=>{const I=new NA(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(I)}),(0,et.U)(C=>Lr(qe({},C),{guards:qb(C.targetSnapshot,C.currentSnapshot,this.rootContexts)})),function(i,t){return(0,xr.zg)(e=>{const{targetSnapshot:o,currentSnapshot:l,guards:{canActivateChecks:h,canDeactivateChecks:m}}=e;return 0===m.length&&0===h.length?(0,ze.of)(Lr(qe({},e),{guardsResult:!0})):function(i,t,e,o){return(0,In.D)(i).pipe((0,xr.zg)(l=>function(i,t,e,o,l){const h=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,ze.of)(!0);const m=h.map(C=>{const I=Zg(C,t,l);let M;if(function(i){return i&&Zl(i.canDeactivate)}(I))M=La(I.canDeactivate(i,t,e,o));else{if(!Zl(I))throw new Error("Invalid CanDeactivate guard");M=La(I(i,t,e,o))}return M.pipe(Xu())});return(0,ze.of)(m).pipe(xd())}(l.component,l.route,e,t,o)),Xu(l=>!0!==l,!0))}(m,o,l,i).pipe((0,xr.zg)(C=>C&&function(i){return"boolean"==typeof i}(C)?function(i,t,e,o){return(0,In.D)(t).pipe(jl(l=>My(function(i,t){return null!==i&&t&&t(new kA(i)),(0,ze.of)(!0)}(l.route.parent,o),function(i,t){return null!==i&&t&&t(new uD(i)),(0,ze.of)(!0)}(l.route,o),function(i,t,e){const o=t[t.length-1],h=t.slice(0,t.length-1).reverse().map(m=>function(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(m)).filter(m=>null!==m).map(m=>fb(()=>{const C=m.guards.map(I=>{const M=Zg(I,m.node,e);let W;if(function(i){return i&&Zl(i.canActivateChild)}(M))W=La(M.canActivateChild(o,i));else{if(!Zl(M))throw new Error("Invalid CanActivateChild guard");W=La(M(o,i))}return W.pipe(Xu())});return(0,ze.of)(C).pipe(xd())}));return(0,ze.of)(h).pipe(xd())}(i,l.path,e),function(i,t,e){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return(0,ze.of)(!0);const l=o.map(h=>fb(()=>{const m=Zg(h,t,e);let C;if(function(i){return i&&Zl(i.canActivate)}(m))C=La(m.canActivate(t,i));else{if(!Zl(m))throw new Error("Invalid CanActivate guard");C=La(m(t,i))}return C.pipe(Xu())}));return(0,ze.of)(l).pipe(xd())}(i,l.route,e))),Xu(l=>!0!==l,!0))}(o,h,i,t):(0,ze.of)(C)),(0,et.U)(C=>Lr(qe({},e),{guardsResult:C})))})}(this.ngModule.injector,C=>this.triggerEvent(C)),(0,Ci.b)(C=>{if(Nd(C.guardsResult)){const M=xy(`Redirecting to "${this.serializeUrl(C.guardsResult)}"`);throw M.url=C.guardsResult,M}const I=new xA(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot,!!C.guardsResult);this.triggerEvent(I)}),Ju(C=>!!C.guardsResult||(this.restoreHistory(C),this.cancelNavigationTransition(C,""),!1)),wi(C=>{if(C.guards.canActivateChecks.length)return(0,ze.of)(C).pipe((0,Ci.b)(I=>{const M=new OA(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(M)}),yn(I=>{let M=!1;return(0,ze.of)(I).pipe(function(i,t){return(0,xr.zg)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:l}}=e;if(!l.length)return(0,ze.of)(e);let h=0;return(0,In.D)(l).pipe(jl(m=>function(i,t,e,o){return function(i,t,e,o){const l=Object.keys(i);if(0===l.length)return(0,ze.of)({});const h={};return(0,In.D)(l).pipe((0,xr.zg)(m=>function(i,t,e,o){const l=Zg(i,t,o);return La(l.resolve?l.resolve(t,e):l(t,e))}(i[m],t,e,o).pipe((0,Ci.b)(C=>{h[m]=C}))),Pg(1),(0,xr.zg)(()=>Object.keys(h).length===l.length?(0,ze.of)(h):Gi.E))}(i._resolve,i,t,o).pipe((0,et.U)(h=>(i._resolvedData=h,i.data=qe(qe({},i.data),xb(i,e).resolve),null)))}(m.route,o,i,t)),(0,Ci.b)(()=>h++),Pg(1),(0,xr.zg)(m=>h===l.length?(0,ze.of)(e):Gi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ci.b)({next:()=>M=!0,complete:()=>{M||(this.restoreHistory(I),this.cancelNavigationTransition(I,"At least one route resolver didn't emit any value."))}}))}),(0,Ci.b)(I=>{const M=new lD(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(M)}))}),wi(C=>{const{targetSnapshot:I,id:M,extractedUrl:W,rawUrl:V,extras:{skipLocationChange:Q,replaceUrl:se}}=C;return this.hooks.afterPreactivation(I,{navigationId:M,appliedUrlTree:W,rawUrlTree:V,skipLocationChange:!!Q,replaceUrl:!!se})}),(0,et.U)(C=>{const I=function(i,t,e){const o=Df(i,t._root,e?e._root:void 0);return new Nb(o,t)}(this.routeReuseStrategy,C.targetSnapshot,C.currentRouterState);return Lr(qe({},C),{targetRouterState:I})}),(0,Ci.b)(C=>{this.currentUrlTree=C.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl),this.routerState=C.targetRouterState,"deferred"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,C),this.browserUrlTree=C.urlAfterRedirects)}),((i,t,e)=>(0,et.U)(o=>(new SD(t,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,C=>this.triggerEvent(C)),(0,Ci.b)({next(){h=!0},complete(){h=!0}}),function(i){return t=>t.lift(new MA(i))}(()=>{var C;h||m||this.cancelNavigationTransition(l,`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`),(null==(C=this.currentNavigation)?void 0:C.id)===l.id&&(this.currentNavigation=null)}),$l(C=>{if(m=!0,function(i){return i&&i[Ny]}(C)){const I=Nd(C.url);I||(this.navigated=!0,this.restoreHistory(l,!0));const M=new yb(l.id,this.serializeUrl(l.extractedUrl),C.message);o.next(M),I?setTimeout(()=>{const W=this.urlHandlingStrategy.merge(C.url,this.rawUrlTree),V={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ua(l.source)};this.scheduleNavigation(W,"imperative",null,V,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const I=new oD(l.id,this.serializeUrl(l.extractedUrl),C);o.next(I);try{l.resolve(this.errorHandler(C))}catch(M){l.reject(M)}}return Gi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(qe(qe({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o="popstate"===e.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var C;const l={replaceUrl:!0},h=(null==(C=e.state)?void 0:C.navigationId)?e.state:null;if(h){const I=qe({},h);delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(l.state=I)}const m=this.parseUrl(e.url);this.scheduleNavigation(m,o,h,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){qy(e),this.config=e.map(Mf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:l,queryParams:h,fragment:m,queryParamsHandling:C,preserveFragment:I}=o,M=l||this.routerState.root,W=I?this.currentUrlTree.fragment:m;let V=null;switch(C){case"merge":V=qe(qe({},this.currentUrlTree.queryParams),h);break;case"preserve":V=this.currentUrlTree.queryParams;break;default:V=h||null}return null!==V&&(V=this.removeEmptyProps(V)),function(i,t,e,o,l){if(0===e.length)return $y(t.root,t.root,t,o,l);const h=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new Wy(!0,0,i);let t=0,e=!1;const o=i.reduce((l,h,m)=>{if("object"==typeof h&&null!=h){if(h.outlets){const C={};return ar(h.outlets,(I,M)=>{C[M]="string"==typeof I?I.split("/"):I}),[...l,{outlets:C}]}if(h.segmentPath)return[...l,h.segmentPath]}return"string"!=typeof h?[...l,h]:0===m?(h.split("/").forEach((C,I)=>{0==I&&"."===C||(0==I&&""===C?e=!0:".."===C?t++:""!=C&&l.push(C))}),l):[...l,h]},[]);return new Wy(e,t,o)}(e);if(h.toRoot())return $y(t.root,new Pt([],{}),t,o,l);const m=function(i,t,e){if(i.isAbsolute)return new Sf(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const h=e.snapshot._urlSegment;return new Sf(h,h===t.root,0)}const o=Tf(i.commands[0])?0:1;return function(i,t,e){let o=i,l=t,h=e;for(;h>l;){if(h-=l,o=o.parent,!o)throw new Error("Invalid number of '../'");l=o.segments.length}return new Sf(o,!1,l-h)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(h,t,i),C=m.processChildren?Gy(m.segmentGroup,m.index,h.commands):AD(m.segmentGroup,m.index,h.commands);return $y(m.segmentGroup,C,t,o,l)}(M,this.currentUrlTree,e,V,null!=W?W:null)}navigateByUrl(e,o={skipLocationChange:!1}){const l=Nd(e)?e:this.parseUrl(e),h=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(i){for(let t=0;t<i.length;t++){const e=i[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(l){o=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return o}isActive(e,o){let l;if(l=!0===o?qe({},ew):!1===o?qe({},nT):o,Nd(e))return hD(this.currentUrlTree,e,l);const h=this.parseUrl(e);return hD(this.currentUrlTree,h,l)}removeEmptyProps(e){return Object.keys(e).reduce((o,l)=>{const h=e[l];return null!=h&&(o[l]=h),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ng(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,o,l,h,m){var Et,Yt,fn;if(this.disposed)return Promise.resolve(!1);const C=this.transitions.value,I=Ua(o)&&C&&!Ua(C.source),M=C.rawUrl.toString()===e.toString(),W=C.id===(null==(Et=this.currentNavigation)?void 0:Et.id);if(I&&M&&W)return Promise.resolve(!0);let Q,se,we;m?(Q=m.resolve,se=m.reject,we=m.promise):we=new Promise((Ut,Ii)=>{Q=Ut,se=Ii});const He=++this.navigationId;let Ye;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),Ye=l&&l.\u0275routerPageId?l.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!=(Yt=this.browserPageId)?Yt:0:(null!=(fn=this.browserPageId)?fn:0)+1):Ye=0,this.setTransition({id:He,targetPageId:Ye,source:o,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:h,resolve:Q,reject:se,promise:we,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),we.catch(Ut=>Promise.reject(Ut))}setBrowserUrl(e,o){const l=this.urlSerializer.serialize(e),h=qe(qe({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(l)||o.extras.replaceUrl?this.location.replaceState(l,"",h):this.location.go(l,"",h)}restoreHistory(e,o=!1){var l,h;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(l=this.currentNavigation)?void 0:l.finalUrl)||0===m?this.currentUrlTree===(null==(h=this.currentNavigation)?void 0:h.finalUrl)&&0===m&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const l=new yb(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){p.$Z()},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();function Ua(i){return"imperative"!==i}class Qg{}class Jg{preload(t,e){return(0,ze.of)(null)}}let tv=(()=>{class i{constructor(e,o,l,h){this.router=e,this.injector=l,this.preloadingStrategy=h,this.loader=new XD(l,o,I=>e.triggerEvent(new vb(I)),I=>e.triggerEvent(new Eb(I)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ju(e=>e instanceof Ng),jl(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(p.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const l=[];for(const h of o)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const m=h._loadedConfig;l.push(this.processRoutes(m.module,m.routes))}else h.loadChildren&&!h.canLoad?l.push(this.preloadConfig(e,h)):h.children&&l.push(this.processRoutes(e,h.children));return(0,In.D)(l).pipe((0,vf.J)(),(0,et.U)(h=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,ze.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,xr.zg)(h=>(o._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(Er),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(Qg))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})(),Kl=(()=>{class i{constructor(e,o,l={}){this.router=e,this.viewportScroller=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof _b?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ng&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Cb&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new Cb(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){p.$Z()},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();const Ho=new p.OlP("ROUTER_CONFIGURATION"),nv=new p.OlP("ROUTER_FORROOT_GUARD"),nw=[Ue,{provide:gD,useClass:mD},{provide:Er,useFactory:function(i,t,e,o,l,h,m={},C,I){const M=new Er(null,i,t,e,o,l,dD(h));return C&&(M.urlHandlingStrategy=C),I&&(M.routeReuseStrategy=I),function(i,t){i.errorHandler&&(t.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(t.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(t.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(t.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(t.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(t.canceledNavigationResolution=i.canceledNavigationResolution)}(m,M),m.enableTracing&&M.events.subscribe(W=>{var V,Q;null==(V=console.group)||V.call(console,`Router Event: ${W.constructor.name}`),console.log(W.toString()),console.log(W),null==(Q=console.groupEnd)||Q.call(console)}),M},deps:[gD,Rf,Ue,p.zs3,p.Sil,Yg,Ho,[class{},new p.FiY],[class{},new p.FiY]]},Rf,{provide:If,useFactory:function(i){return i.routerState.root},deps:[Er]},tv,Jg,class{preload(t,e){return e().pipe($l(()=>(0,ze.of)(null)))}},{provide:Ho,useValue:{enableTracing:!1}}];function rw(){return new p.PXZ("Router",Er)}let Ld=(()=>{class i{constructor(e,o){}static forRoot(e,o){return{ngModule:i,providers:[nw,sT(e),{provide:nv,useFactory:iv,deps:[[Er,new p.FiY,new p.tp0]]},{provide:Ho,useValue:o||{}},{provide:he,useFactory:rv,deps:[K,[new p.tBr(de),new p.FiY],Ho]},{provide:Kl,useFactory:iT,deps:[Er,$d,Ho]},{provide:Qg,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Jg},{provide:p.PXZ,multi:!0,useFactory:rw},[iw,{provide:p.ip1,multi:!0,useFactory:nS,deps:[iw]},{provide:sw,useFactory:oT,deps:[iw]},{provide:p.tb,multi:!0,useExisting:sw}]]}}static forChild(e){return{ngModule:i,providers:[sT(e)]}}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(nv,8),p.LFG(Er,8))},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({}),i})();function iT(i,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Kl(i,t,e)}function rv(i,t,e={}){return e.useHash?new Ie(i,t):new ge(i,t)}function iv(i){return"guarded"}function sT(i){return[{provide:p.deG,multi:!0,useValue:i},{provide:Yg,multi:!0,useValue:i}]}let iw=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Wi.xQ}appInitializer(){return this.injector.get(k,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const l=new Promise(C=>o=C),h=this.injector.get(Er),m=this.injector.get(Ho);return"disabled"===m.initialNavigation?(h.setUpLocationChangeListener(),o(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?(0,ze.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),h.initialNavigation()):o(!0),l})}bootstrapListener(e){const o=this.injector.get(Ho),l=this.injector.get(tv),h=this.injector.get(Kl),m=this.injector.get(Er),C=this.injector.get(p.z2F);e===C.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&m.initialNavigation(),l.setUpPreloading(),h.init(),m.resetRootComponentType(C.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(p.zs3))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i})();function nS(i){return i.appInitializer.bind(i)}function oT(i){return i.bootstrapListener.bind(i)}const sw=new p.OlP("Router Initializer"),lT=[];let qs=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({imports:[[Ld.forRoot(lT)],Ld]}),i})(),uT=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=p.Xpm({type:i,selectors:[["app-header"]],decls:5,vars:0,consts:[[1,"container","bg-light"],[1,"navbar","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["src","https://getbootstrap.com/docs/4.0/assets/brand/bootstrap-solid.svg","width","30","height","30","alt","",1,"d-inline-block","align-top"]],template:function(e,o){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"nav",1),p.TgZ(2,"a",2),p._UZ(3,"img",3),p._uU(4," Bootstrap "),p.qZA(),p.qZA(),p.qZA())},styles:[".navbar[_ngcontent-%COMP%]{position:fixed;top:0;right:0;width:100%;padding:10px 25px;z-index:9999}"]}),i})(),cT=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=p.Xpm({type:i,selectors:[["app-footer"]],decls:22,vars:0,consts:[[1,"container","bg-light"],[1,"menu"],["href","#",1,"menu-item"],[1,"material-icons"],[1,"menu-item-label"]],template:function(e,o){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"nav",1),p.TgZ(2,"a",2),p.TgZ(3,"span",3),p._uU(4,"Games"),p.qZA(),p.TgZ(5,"span",4),p._uU(6,"Games"),p.qZA(),p.qZA(),p.TgZ(7,"a",2),p.TgZ(8,"span",3),p._uU(9,"camera"),p.qZA(),p.TgZ(10,"span",4),p._uU(11,"Images"),p.qZA(),p.qZA(),p.TgZ(12,"a",2),p.TgZ(13,"span",3),p._uU(14,"store"),p.qZA(),p.TgZ(15,"span",4),p._uU(16,"Movies"),p.qZA(),p.qZA(),p.TgZ(17,"a",2),p.TgZ(18,"span",3),p._uU(19,"store"),p.qZA(),p.TgZ(20,"span",4),p._uU(21,"Store"),p.qZA(),p.qZA(),p.qZA(),p.qZA())},styles:['.container[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;width:100%;display:flex;align-items:center;justify-content:center;z-index:9999}.menu[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:72px;max-width:370px;border-radius:12px;overflow:hidden;background-color:#fff;box-shadow:0 0 1px 0 rgba(#342ead,.25),0 15px 30px 0 rgba(#342ead,.1)}.menu-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;flex-grow:1;text-decoration:none}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:hover{outline:none}.material-icons[_ngcontent-%COMP%]{font-family:"Material Icons Outlined";display:block;margin-bottom:4px;font-size:26px;color:mix(#fff,#342ead,60%);transition:.25s ease}.menu-item-label[_ngcontent-%COMP%]{display:block;font-size:13px;color:mix(#fff,#342ead,70%);transition:.25s ease}']}),i})(),dT=(()=>{class i{constructor(){this.title="BloodDonation"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=p.Xpm({type:i,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"py-5"]],template:function(e,o){1&e&&(p._UZ(0,"app-header"),p._UZ(1,"app-footer"),p.TgZ(2,"div",0),p._UZ(3,"router-outlet"),p.qZA())},directives:[uT,cT,Od],styles:[".form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:0 auto;text-align:center!important}.center-root[_ngcontent-%COMP%]{background-color:#f5f5f5}.btn-block[_ngcontent-%COMP%]{display:block;width:100%}"]}),i})(),hT=(()=>{class i{constructor(e){this.router=e}ngOnInit(){}onSubmit(){"b@n.com"==this.inputEmail&&"p"==this.inputPassword?(sessionStorage.setItem("user","ben"),this.router.navigate(["home"])):alert("Failed")}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(Er))},i.\u0275cmp=p.Xpm({type:i,selectors:[["app-login"]],decls:13,vars:2,consts:[[1,"center-root"],[1,"form-signin",3,"ngSubmit"],["src","https://getbootstrap.com/docs/4.0/assets/brand/bootstrap-solid.svg","alt","","width","72","height","72",1,"mb-4"],[1,"h3","mb-3","font-weight-normal"],["type","email","id","inputEmail","name","inputEmail","placeholder","Email address","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","id","inputPassword","name","inputPassword","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"checkbox","mb-3"],["type","checkbox","value","remember-me"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block"]],template:function(e,o){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"form",1),p.NdJ("ngSubmit",function(){return o.onSubmit()}),p._UZ(2,"img",2),p.TgZ(3,"h1",3),p._uU(4,"Please sign in"),p.qZA(),p.TgZ(5,"input",4),p.NdJ("ngModelChange",function(h){return o.inputEmail=h}),p.qZA(),p.TgZ(6,"input",5),p.NdJ("ngModelChange",function(h){return o.inputPassword=h}),p.qZA(),p.TgZ(7,"div",6),p.TgZ(8,"label"),p._UZ(9,"input",7),p._uU(10," Remember me "),p.qZA(),p.qZA(),p.TgZ(11,"button",8),p._uU(12," Sign in "),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(5),p.Q6J("ngModel",o.inputEmail),p.xp6(1),p.Q6J("ngModel",o.inputPassword))},directives:[vg,dg,Bl,_d,Td,cg,ac],styles:[".form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:0 auto;text-align:center!important}.center-root[_ngcontent-%COMP%]{background-color:#f5f5f5}.btn-block[_ngcontent-%COMP%]{display:block;width:100%}"]}),i})(),ow=(()=>{class i{constructor(e,o){this.router=e,this.http=o,this.user="",this.getUrl="https://blooddonationaapi-default-rtdb.asia-southeast1.firebasedatabase.app/person.json/"}ngOnInit(){"ben"!=sessionStorage.getItem("user")?(alert("unauthorized"),this.router.navigate([""])):this.onLoad()}onLoad(){this.http.get(this.getUrl).pipe((0,et.U)(e=>{const o=[];for(const l in e)o.push(Object.assign({id:l},e[l]));return o})).subscribe(e=>{this.person=e,console.log(e)})}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(Er),p.Y36(_f))},i.\u0275cmp=p.Xpm({type:i,selectors:[["app-home"]],decls:13,vars:1,consts:[[1,"container","bg-light"],[1,"navbar","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["src","https://getbootstrap.com/docs/4.0/assets/brand/bootstrap-solid.svg","width","30","height","30","alt","",1,"d-inline-block","align-top"],[1,"container"],[3,"person"]],template:function(e,o){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"nav",1),p.TgZ(2,"a",2),p._UZ(3,"img",3),p._uU(4," Bootstrap "),p.qZA(),p.qZA(),p.qZA(),p._UZ(5,"br"),p.TgZ(6,"div",4),p._UZ(7,"app-personfilter"),p.qZA(),p._UZ(8,"br"),p.TgZ(9,"div",4),p._UZ(10,"app-addperson"),p.qZA(),p.TgZ(11,"div",4),p._UZ(12,"app-personlist",5),p.qZA()),2&e&&(p.xp6(12),p.Q6J("person",o.person))},styles:[""]}),i})();new Bo({"Content-Type":"application/json"});let sv=(()=>{class i{constructor(e){this.http=e,this.apiUrl="http://www.mocky.io/v2/5ea172973100002d001eeada",this.subject=new Wi.xQ,this.subject2=new Wi.xQ,this.subject3=new Wi.xQ,this.subject4=new Wi.xQ}sendMessage(e){this.subject.next(e)}getMessage(){return this.subject.asObservable()}sendMessageToChangeText(e){this.subject3.next(e)}getMessageToChangeText(){return this.subject3.asObservable()}sendMessagePopulateData(e){this.subject2.next(e)}getMessagePopulateData(){return this.subject2.asObservable()}sendMessageSearchPerson(e){this.subject4.next(e)}getMessageSearchPerson(){return this.subject4.asObservable()}getPersons(){return this.http.get("https://blooddonationaapi-default-rtdb.asia-southeast1.firebasedatabase.app/person.json").subscribe(e=>{console.log(e)})}}return i.\u0275fac=function(e){return new(e||i)(p.LFG(_f))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function sS(i,t){if(1&i){const e=p.EpF();p.TgZ(0,"div",3),p.TgZ(1,"div",4),p.TgZ(2,"div",5),p._uU(3),p.TgZ(4,"button",6),p.NdJ("click",function(){const h=p.CHM(e).$implicit;return p.oxw().DeletePerson(h)}),p._uU(5,"X"),p.qZA(),p.qZA(),p.TgZ(6,"div",7),p.NdJ("click",function(){const h=p.CHM(e).$implicit;return p.oxw().PopulatePerson(h)}),p.TgZ(7,"h5",8),p._uU(8),p.ALo(9,"uppercase"),p.qZA(),p.TgZ(10,"p",9),p._uU(11),p.qZA(),p.TgZ(12,"p",9),p._uU(13),p.qZA(),p.TgZ(14,"p",10),p._uU(15),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&i){const e=t.$implicit;p.xp6(3),p.hij("Last Donation Date: ",null==e?null:e.donationdate," "),p.xp6(5),p.hij("Name: ",p.lcZ(9,5,null==e?null:e.name),""),p.xp6(3),p.hij("Blood Group: ",null==e?null:e.bloodgroup,""),p.xp6(2),p.hij("Age: ",null==e?null:e.age,""),p.xp6(2),p.hij("Id: ",null==e?null:e.id,"")}}let oS=(()=>{class i{constructor(e,o,l){this.service=e,this.http=o,this.db=l,this.getUrl="https://blooddonationaapi-default-rtdb.asia-southeast1.firebasedatabase.app/person.json/"}ngOnInit(){this.service.getMessageSearchPerson().subscribe(e=>{this.SearchPerson(e)}),this.service.getMessagePopulateData().subscribe(e=>{this.onLoad()})}onLoad(){this.http.get(this.getUrl).pipe((0,et.U)(e=>{const o=[];for(const l in e)o.push(Object.assign({id:l},e[l]));return o})).subscribe(e=>{this.person=e})}PopulatePerson(e){this.service.sendMessage(e)}DeletePerson(e){confirm("Are you sure to delete?")&&this.http.delete(ha_firebase.databaseURL+"/person/"+e.id+".json").subscribe(l=>{console.log(l),this.service.sendMessagePopulateData("getData"),this.service.sendMessageToChangeText("Save")})}SearchPerson(e){this.http.get(this.getUrl).pipe((0,et.U)(o=>{const l=[];for(const h in o)l.push(Object.assign({id:h},o[h]));return l})).subscribe(o=>{if(""==e.personname){var l=o.filter(h=>h.mobile==e.personmobile);this.person=l}else""==e.personmobile&&(l=o.filter(m=>m.name==e.personname),this.person=l)})}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(sv),p.Y36(_f),p.Y36(G_))},i.\u0275cmp=p.Xpm({type:i,selectors:[["app-personlist"]],inputs:{person:"person"},decls:5,vars:1,consts:[[1,"container"],[1,"row"],["class","col-sm-3",4,"ngFor","ngForOf"],[1,"col-sm-3"],[1,"card","text-black","bg-warning","mb-3",2,"max-width","18rem"],[1,"card-header"],[1,"close",3,"click"],[1,"card-body",2,"cursor","pointer",3,"click"],[1,"card-title"],[1,"card-text"],[1,"card-text",2,"visibility","hidden"]],template:function(e,o){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.YNc(2,sS,16,7,"div",2),p.qZA(),p.qZA(),p.TgZ(3,"div"),p._UZ(4,"label"),p.qZA()),2&e&&(p.xp6(2),p.Q6J("ngForOf",o.person))},directives:[Ko],pipes:[tu],styles:[""]}),i})();const fT=["person"];let Fr=(()=>{class i{constructor(e,o,l,h){this.http=e,this.datepipe=o,this.router=l,this.service=h,this.myDate=new Date,this.getUrl="https://blooddonationaapi-default-rtdb.asia-southeast1.firebasedatabase.app/person.json/"}ngOnInit(){this.saveButtonText="Save",this.service.getMessage().subscribe(e=>{console.log("items recieved"),console.log(e.name),console.log("items recieved"),this.form.controls.name.setValue(e.name),this.form.controls.address.setValue(e.address),this.form.controls.pincode.setValue(e.pincode),this.form.controls.age.setValue(e.age),this.form.controls.bloodgroup.setValue(e.bloodgroup),this.form.controls.mobile.setValue(e.mobile),this.form.controls.lblId.setValue(e.id),this.saveButtonText="Update"}),this.service.getMessageToChangeText().subscribe(e=>{this.ClearFormValues(),this.saveButtonText=e})}SavePerson(e,o){this.id=this.form.controls.lblId.value,"Save"==this.saveButtonText?(this.month=(this.myDate.getMonth()+1).toString(),this.day=this.myDate.getUTCDate().toString(),this.year=this.myDate.getFullYear().toString(),e.name=e.name.toLowerCase(),e.address=e.address.toLowerCase(),e.donationdate=this.year+this.month+this.day,this.http.post(ha_firebase.databaseURL+"/person.json",e).subscribe(l=>{console.log(l),o.resetForm(),this.service.sendMessagePopulateData("getData")})):"Update"==this.saveButtonText&&(this.month=(this.myDate.getMonth()+1).toString(),this.day=this.myDate.getUTCDate().toString(),this.year=this.myDate.getFullYear().toString(),e.name=e.name.toLowerCase(),e.address=e.address.toLowerCase(),e.donationdate=this.year+this.month+this.day,this.http.put(ha_firebase.databaseURL+"/person/"+this.id+".json",e).subscribe(l=>{alert("Record updated successfully"),console.log(l),this.saveButtonText="Save",o.resetForm(),this.service.sendMessagePopulateData("getData")}))}ClearFormValues(){this.form.controls.name.setValue(""),this.form.controls.address.setValue(""),this.form.controls.pincode.setValue(""),this.form.controls.age.setValue(""),this.form.controls.bloodgroup.setValue(""),this.form.controls.mobile.setValue(""),this.form.controls.lblId.setValue(""),this.saveButtonText="Save"}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(_f),p.Y36(za),p.Y36(Er),p.Y36(sv))},i.\u0275cmp=p.Xpm({type:i,selectors:[["app-addperson"]],viewQuery:function(e,o){if(1&e&&p.Gf(fT,5),2&e){let l;p.iGM(l=p.CRH())&&(o.form=l.first)}},decls:40,vars:1,consts:[["person","ngForm"],[1,"form-group","row"],["for","inputEmail3",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","name","name","id","name","placeholder","Name","ngModel","",1,"form-control"],["type","text","name","address","id","inputAddress","placeholder","Address","ngModel","",1,"form-control"],["type","text","name","pincode","id","inputPincode","placeholder","Pincode","ngModel","",1,"form-control"],["type","text","name","age","id","inputAge","placeholder","Age","ngModel","",1,"form-control"],["type","text","name","bloodgroup","id","inputBloodGroup","placeholder","Blood Group","ngModel","",1,"form-control"],["type","text","name","mobile","id","inputMobile","placeholder","Mobile Number","ngModel","",1,"form-control"],[1,"col-sm-2"],["type","submit","name","btnSubmit",1,"btn","btn-primary","mb-2",3,"click"],["name","btnReset",1,"btn","btn-primary","mb-2",3,"click"],["type","text","name","lblId","ngModel","",2,"visibility","hidden"]],template:function(e,o){if(1&e){const l=p.EpF();p.TgZ(0,"form",null,0),p.TgZ(2,"div",1),p.TgZ(3,"label",2),p._uU(4,"Name"),p.qZA(),p.TgZ(5,"div",3),p._UZ(6,"input",4),p.qZA(),p.qZA(),p.TgZ(7,"div",1),p.TgZ(8,"label",2),p._uU(9,"Address"),p.qZA(),p.TgZ(10,"div",3),p._UZ(11,"input",5),p.qZA(),p.qZA(),p.TgZ(12,"div",1),p.TgZ(13,"label",2),p._uU(14,"Pincode"),p.qZA(),p.TgZ(15,"div",3),p._UZ(16,"input",6),p.qZA(),p.qZA(),p.TgZ(17,"div",1),p.TgZ(18,"label",2),p._uU(19,"Age"),p.qZA(),p.TgZ(20,"div",3),p._UZ(21,"input",7),p.qZA(),p.qZA(),p.TgZ(22,"div",1),p.TgZ(23,"label",2),p._uU(24,"Blood Group"),p.qZA(),p.TgZ(25,"div",3),p._UZ(26,"input",8),p.qZA(),p.qZA(),p.TgZ(27,"div",1),p.TgZ(28,"label",2),p._uU(29,"Mobile"),p.qZA(),p.TgZ(30,"div",3),p._UZ(31,"input",9),p.qZA(),p.qZA(),p.TgZ(32,"div",1),p.TgZ(33,"div",10),p.TgZ(34,"button",11),p.NdJ("click",function(){p.CHM(l);const m=p.MAs(1);return o.SavePerson(m.value,m)}),p._uU(35),p.qZA(),p._uU(36," \xa0 "),p.TgZ(37,"button",12),p.NdJ("click",function(){return o.ClearFormValues()}),p._uU(38,"Reset Values"),p.qZA(),p._UZ(39,"input",13),p.qZA(),p.qZA(),p.qZA()}2&e&&(p.xp6(35),p.Oqu(o.saveButtonText))},directives:[vg,dg,Bl,_d,cg,ac],styles:[""]}),i})(),pT=(()=>{class i{constructor(e){this.service=e}ngOnInit(){}SearchPerson(e){""!==e.personname&&""!==e.personmobile?alert("Please search with either name or mobile"):""==e.personname&&""==e.personmobile?alert("Please enter either name or mobile"):this.service.sendMessageSearchPerson(e)}ClearFilter(){this.service.sendMessageToChangeText("Save"),this.service.sendMessagePopulateData("getData")}}return i.\u0275fac=function(e){return new(e||i)(p.Y36(sv))},i.\u0275cmp=p.Xpm({type:i,selectors:[["app-personfilter"]],decls:13,vars:0,consts:[["search","ngForm"],[1,"container"],["type","text","name","personname","ngModel",""],["type","text","name","personmobile","ngModel",""],["name","btnSearch",3,"click"],["name","btnClearFilter",3,"click"]],template:function(e,o){if(1&e){const l=p.EpF();p.TgZ(0,"form",null,0),p.TgZ(2,"div",1),p.TgZ(3,"label"),p._uU(4,"Person Name"),p.qZA(),p._UZ(5,"input",2),p.TgZ(6,"label"),p._uU(7,"Mobile Number"),p.qZA(),p._UZ(8,"input",3),p.TgZ(9,"button",4),p.NdJ("click",function(){p.CHM(l);const m=p.MAs(1);return o.SearchPerson(m.value)}),p._uU(10,"Search"),p.qZA(),p.TgZ(11,"button",5),p.NdJ("click",function(){return o.ClearFilter()}),p._uU(12,"Clear Filter"),p.qZA(),p.qZA(),p.qZA()}},directives:[vg,dg,Bl,_d,cg,ac],styles:[""]}),i})();const gT=[{path:"",component:hT},{path:"home",component:ow}];let ov=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=p.oAB({type:i,bootstrap:[dT]}),i.\u0275inj=p.cJS({providers:[za],imports:[[Dc,qs,G0,ab,qn.hO.initializeApp(ha_firebase),mC,Ld.forRoot(gT,{enableTracing:!0})]]}),i})();p.B6R(ow,[pT,Fr,oS],[]),(0,p.G48)(),co().bootstrapModule(ov).catch(i=>console.error(i))},3668:(xe,me,x)=>{"use strict";x.d(me,{deG:()=>ls,tb:()=>ky,AFp:()=>Ny,ip1:()=>Py,CZH:()=>zs,hGG:()=>Yb,z2F:()=>Af,sBO:()=>RD,Sil:()=>Md,_Vd:()=>Cd,EJc:()=>ar,SBq:()=>Uo,qLn:()=>Do,vpe:()=>Gs,tBr:()=>Co,XFs:()=>ke,OlP:()=>$t,zs3:()=>hn,ZZ4:()=>zg,aQg:()=>ql,soG:()=>Ly,YKP:()=>py,h0i:()=>Id,PXZ:()=>ID,R0b:()=>kr,FiY:()=>Jr,Lbi:()=>Zs,g9A:()=>bb,Qsj:()=>kC,FYo:()=>bd,JOm:()=>mi,Tiy:()=>hy,q3G:()=>En,tp0:()=>us,Rgc:()=>Ad,dDg:()=>Rb,q4F:()=>Bl,GfV:()=>wd,s_b:()=>Cy,ifc:()=>Re,eFA:()=>kb,G48:()=>Nb,Gpc:()=>U,X6Q:()=>zl,_c5:()=>HD,VLi:()=>Pb,c2e:()=>Fy,zSh:()=>Fh,wAp:()=>Ke,vHH:()=>ye,EiD:()=>Io,mCW:()=>wo,qzn:()=>yl,JVY:()=>np,pB0:()=>ip,eBb:()=>rp,L6k:()=>hm,LAX:()=>fm,cg1:()=>og,Tjo:()=>$g,kL8:()=>j_,yhl:()=>wa,dqk:()=>Xe,sIi:()=>jh,CqO:()=>pd,QGY:()=>Gn,F4k:()=>ms,RDi:()=>$d,AaK:()=>K,z3N:()=>cs,qOj:()=>u_,TTD:()=>Xi,_Bn:()=>ay,xp6:()=>Cp,uIk:()=>d_,ekj:()=>tg,Suo:()=>Sd,Xpm:()=>dn,lG2:()=>bs,Yz7:()=>Qt,cJS:()=>un,oAB:()=>Go,Yjl:()=>Xl,Y36:()=>Zp,_UZ:()=>wI,qZA:()=>ME,TgZ:()=>RE,EpF:()=>PE,n5z:()=>hl,LFG:()=>gt,$8M:()=>ga,$Z:()=>AE,NdJ:()=>zh,CRH:()=>Un,oxw:()=>OE,ALo:()=>vy,lcZ:()=>ff,Q6J:()=>w_,iGM:()=>Ty,MAs:()=>vE,CHM:()=>ui,LSH:()=>ih,B6R:()=>tr,YNc:()=>yE,_uU:()=>YE,Oqu:()=>md,hij:()=>Jh,Gf:()=>nb});var p=x(3405),X=x(1346),O=x(5548),ue=x(8526),ne=x(6669);function Y(n){for(let r in n)if(n[r]===Y)return r;throw Error("Could not find renamed property on target object.")}function fe(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function K(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(K).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function J(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const k=Y({__forward_ref__:Y});function U(n){return n.__forward_ref__=U,n.toString=function(){return K(this())},n}function H(n){return oe(n)?n():n}function oe(n){return"function"==typeof n&&n.hasOwnProperty(k)&&n.__forward_ref__===U}class ye extends Error{constructor(r,s){super(function(n,r){return`${n?`NG0${n}: `:""}${r}`}(r,s)),this.code=r}}function te(n){return"string"==typeof n?n:null==n?"":String(n)}function de(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():te(n)}function ht(n,r){const s=r?` in ${r}`:"";throw new ye("201",`No provider for ${de(n)} found${s}`)}function Dt(n,r){null==n&&function(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Qt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function un(n){return{providers:n.providers||[],imports:n.imports||[]}}function An(n){return wt(n,si)||wt(n,xn)}function wt(n,r){return n.hasOwnProperty(r)?n[r]:null}function Vr(n){return n&&(n.hasOwnProperty(be)||n.hasOwnProperty(Cn))?n[be]:null}const si=Y({\u0275prov:Y}),be=Y({\u0275inj:Y}),xn=Y({ngInjectableDef:Y}),Cn=Y({ngInjectorDef:Y});var ke=(()=>((ke=ke||{})[ke.Default=0]="Default",ke[ke.Host=1]="Host",ke[ke.Self=2]="Self",ke[ke.SkipSelf=4]="SkipSelf",ke[ke.Optional=8]="Optional",ke))();let At;function Jn(n){const r=At;return At=n,r}function je(n,r,s){const a=An(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&ke.Optional?null:void 0!==r?r:void ht(K(n),"Injector")}function ft(n){return{toString:n}.toString()}var pt=(()=>((pt=pt||{})[pt.OnPush=0]="OnPush",pt[pt.Default=1]="Default",pt))(),Re=(()=>{return(n=Re||(Re={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Re;var n})();const Be="undefined"!=typeof globalThis&&globalThis,Ql="undefined"!=typeof window&&window,Yi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Xe=Be||"undefined"!=typeof global&&global||Ql||Yi,G={},B=[],z=Y({\u0275cmp:Y}),ve=Y({\u0275dir:Y}),re=Y({\u0275pipe:Y}),Ne=Y({\u0275mod:Y}),We=Y({\u0275fac:Y}),Ft=Y({__NG_ELEMENT_ID__:Y});let Bn=0;function dn(n){return ft(()=>{const s={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===pt.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||B,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Re.Emulated,id:"c",styles:n.styles||B,_:null,setInput:null,schemas:n.schemas||null,tView:null},u=n.directives,c=n.features,g=n.pipes;return a.id+=Bn++,a.inputs=$a(n.inputs,s),a.outputs=$a(n.outputs),c&&c.forEach(y=>y(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(yt):null,a.pipeDefs=g?()=>("function"==typeof g?g():g).map(jn):null,a})}function tr(n,r,s){const a=n.\u0275cmp;a.directiveDefs=()=>r.map(yt),a.pipeDefs=()=>s.map(jn)}function yt(n){return Gt(n)||function(n){return n[ve]||null}(n)}function jn(n){return function(n){return n[re]||null}(n)}const Cs={};function Go(n){return ft(()=>{const r={type:n.type,bootstrap:n.bootstrap||B,declarations:n.declarations||B,imports:n.imports||B,exports:n.exports||B,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Cs[n.id]=n.type),r})}function $a(n,r){if(null==n)return G;const s={};for(const a in n)if(n.hasOwnProperty(a)){let u=n[a],c=u;Array.isArray(u)&&(c=u[1],u=u[0]),s[u]=a,r&&(r[u]=c)}return s}const bs=dn;function Xl(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Gt(n){return n[z]||null}function Hn(n,r){const s=n[Ne]||null;if(!s&&!0===r)throw new Error(`Type ${K(n)} does not have '\u0275mod' property.`);return s}function oi(n){return Array.isArray(n)&&"object"==typeof n[1]}function ai(n){return Array.isArray(n)&&!0===n[1]}function Sn(n){return 0!=(8&n.flags)}function Ri(n){return 2==(2&n.flags)}function eu(n){return 1==(1&n.flags)}function Ar(n){return null!==n.template}function Ud(n){return 0!=(512&n[2])}function li(n,r){return n.hasOwnProperty(We)?n[We]:null}class qa{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Xi(){return Xs}function Xs(n){return n.type.prototype.ngOnChanges&&(n.setInput=iu),es}function es(){const n=$n(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===G)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function iu(n,r,s,a){const u=$n(n)||function(n,r){return n[yc]=r}(n,{previous:G,current:null}),c=u.current||(u.current={}),g=u.previous,y=this.declaredInputs[s],E=g[y];c[y]=new qa(E&&E.currentValue,r,g===G),n[a]=r}Xi.ngInherit=!0;const yc="__ngSimpleChanges__";function $n(n){return n[yc]||null}let Ka;function $d(n){Ka=n}function Ht(n){return!!n.listen}const ou={createRenderer:(n,r)=>void 0!==Ka?Ka:"undefined"!=typeof document?document:void 0};function mn(n){for(;Array.isArray(n);)n=n[0];return n}function Wr(n,r){return mn(r[n])}function _n(n,r){return mn(r[n.index])}function As(n,r){return n.data[r]}function Ss(n,r){return n[r]}function Lt(n,r){const s=r[n];return oi(s)?s:s[0]}function Pi(n){return 4==(4&n[2])}function ta(n){return 128==(128&n[2])}function Gr(n,r){return null==r?null:n[r]}function au(n){n[18]=0}function eo(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Oe={lFrame:hu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function cu(){return Oe.bindingsEnabled}function Ce(){return Oe.lFrame.lView}function mt(){return Oe.lFrame.tView}function ui(n){return Oe.lFrame.contextLView=n,n[8]}function zt(){let n=ns();for(;null!==n&&64===n.type;)n=n.parent;return n}function ns(){return Oe.lFrame.currentTNode}function Rn(n,r){const s=Oe.lFrame;s.currentTNode=n,s.isParent=r}function ra(){return Oe.lFrame.isParent}function to(){return Oe.isInCheckNoChangesMode}function no(n){Oe.isInCheckNoChangesMode=n}function Zr(){return Oe.lFrame.bindingIndex++}function Ps(n,r){const s=Oe.lFrame;s.bindingIndex=s.bindingRootIndex=n,ro(r)}function ro(n){Oe.lFrame.currentDirectiveIndex=n}function il(){return Oe.lFrame.currentQueryIndex}function sa(n){Oe.lFrame.currentQueryIndex=n}function du(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function so(n,r,s){if(s&ke.SkipSelf){let u=r,c=n;for(;!(u=u.parent,null!==u||s&ke.Host||(u=du(c),null===u||(c=c[15],10&u.type))););if(null===u)return!1;r=u,n=c}const a=Oe.lFrame=ao();return a.currentTNode=r,a.lView=n,!0}function oo(n){const r=ao(),s=n[1];Oe.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function ao(){const n=Oe.lFrame,r=null===n?null:n.child;return null===r?hu(n):r}function hu(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function oa(){const n=Oe.lFrame;return Oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Wd=oa;function lo(){const n=oa();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wn(){return Oe.lFrame.selectedIndex}function is(n){Oe.lFrame.selectedIndex=n}function Jt(){const n=Oe.lFrame;return As(n.tView,n.selectedIndex)}function Ni(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const c=n.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:E,ngAfterViewChecked:w,ngOnDestroy:A}=c;g&&(n.contentHooks||(n.contentHooks=[])).push(-s,g),y&&((n.contentHooks||(n.contentHooks=[])).push(s,y),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,y)),E&&(n.viewHooks||(n.viewHooks=[])).push(-s,E),w&&((n.viewHooks||(n.viewHooks=[])).push(s,w),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,w)),null!=A&&(n.destroyHooks||(n.destroyHooks=[])).push(s,A)}}function sl(n,r,s){mu(n,r,3,s)}function uo(n,r,s,a){(3&n[2])===s&&mu(n,r,s,a)}function gu(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function mu(n,r,s,a){const c=null!=a?a:-1,g=r.length-1;let y=0;for(let E=void 0!==a?65535&n[18]:0;E<g;E++)if("number"==typeof r[E+1]){if(y=r[E],null!=a&&y>=a)break}else r[E]<0&&(n[18]+=65536),(y<c||-1==c)&&(Gd(n,s,r,E),n[18]=(4294901760&n[18])+E+2),E++}function Gd(n,r,s,a){const u=s[a]<0,c=s[a+1],y=n[u?-s[a]:s[a]];if(u){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{c.call(y)}finally{}}}else try{c.call(y)}finally{}}class co{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ol(n,r,s){const a=Ht(n);let u=0;for(;u<s.length;){const c=s[u];if("number"==typeof c){if(0!==c)break;u++;const g=s[u++],y=s[u++],E=s[u++];a?n.setAttribute(r,y,E,g):r.setAttributeNS(g,y,E)}else{const g=c,y=s[++u];kn(g)?a&&n.setProperty(r,g,y):a?n.setAttribute(r,g,y):r.setAttribute(g,y),u++}}return u}function Tc(n){return 3===n||4===n||6===n}function kn(n){return 64===n.charCodeAt(0)}function al(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const u=r[a];"number"==typeof u?s=u:0===s||Zf(n,s,u,null,-1===s||2===s?r[++a]:null)}}return n}function Zf(n,r,s,a,u){let c=0,g=n.length;if(-1===r)g=-1;else for(;c<n.length;){const y=n[c++];if("number"==typeof y){if(y===r){g=-1;break}if(y>r){g=c-1;break}}}for(;c<n.length;){const y=n[c];if("number"==typeof y)break;if(y===s){if(null===a)return void(null!==u&&(n[c+1]=u));if(a===n[c+1])return void(n[c+2]=u)}c++,null!==a&&c++,null!==u&&c++}-1!==g&&(n.splice(g,0,r),c=g+1),n.splice(c++,0,s),null!==a&&n.splice(c++,0,a),null!==u&&n.splice(c++,0,u)}function qf(n){return-1!==n}function ca(n){return 32767&n}function ll(n,r){let s=function(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let ul=!0;function da(n){const r=ul;return ul=n,r}let Yf=0;function qn(n,r){const s=Mn(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,fa(a.data,n),fa(r,null),fa(a.blueprint,null));const u=ze(n,r),c=n.injectorIndex;if(qf(u)){const g=ca(u),y=ll(u,r),E=y[1].data;for(let w=0;w<8;w++)r[c+w]=y[g+w]|E[g+w]}return r[c+8]=u,c}function fa(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Mn(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function ze(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,u=r;for(;null!==u;){const c=u[1],g=c.type;if(a=2===g?c.declTNode:1===g?u[6]:null,null===a)return-1;if(s++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Kr(n,r,s){!function(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Ft)&&(a=s[Ft]),null==a&&(a=s[Ft]=Yf++);const u=255&a;r.data[n+(u>>5)]|=1<<u}(n,r,s)}function ci(n,r,s){if(s&ke.Optional)return n;ht(r,"NodeInjector")}function In(n,r,s,a){if(s&ke.Optional&&void 0===a&&(a=null),0==(s&(ke.Self|ke.Host))){const u=n[9],c=Jn(void 0);try{return u?u.get(r,a,s&ke.Optional):je(r,a,s&ke.Optional)}finally{Jn(c)}}return ci(a,r,s)}function ss(n,r,s,a=ke.Default,u){if(null!==n){const c=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Ft)?n[Ft]:void 0;return"number"==typeof r?r>=0?255&r:pa:r}(s);if("function"==typeof c){if(!so(r,n,a))return a&ke.Host?ci(u,s,a):In(r,s,a,u);try{const g=c(a);if(null!=g||a&ke.Optional)return g;ht(s)}finally{Wd()}}else if("number"==typeof c){let g=null,y=Mn(n,r),E=-1,w=a&ke.Host?r[16][6]:null;for((-1===y||a&ke.SkipSelf)&&(E=-1===y?ze(n,r):r[y+8],-1!==E&&Ac(a,!1)?(g=r[1],y=ca(E),r=ll(E,r)):y=-1);-1!==y;){const A=r[1];if(fo(c,y,A.data)){const P=Zd(y,r,s,g,a,w);if(P!==yn)return P}E=r[y+8],-1!==E&&Ac(a,r[1].data[y+8]===w)&&fo(c,y,r)?(g=A,y=ca(E),r=ll(E,r)):y=-1}}}return In(r,s,a,u)}const yn={};function pa(){return new tn(zt(),Ce())}function Zd(n,r,s,a,u,c){const g=r[1],y=g.data[n+8],A=Xt(y,g,s,null==a?Ri(y)&&ul:a!=g&&0!=(3&y.type),u&ke.Host&&c===y);return null!==A?di(r,g,A,y):yn}function Xt(n,r,s,a,u){const c=n.providerIndexes,g=r.data,y=1048575&c,E=n.directiveStart,A=c>>20,N=u?y+A:n.directiveEnd;for(let j=a?y:y+A;j<N;j++){const Z=g[j];if(j<E&&s===Z||j>=E&&Z.type===s)return j}if(u){const j=g[E];if(j&&Ar(j)&&j.type===s)return E}return null}function di(n,r,s,a){let u=n[s];const c=r.data;if(function(n){return n instanceof co}(u)){const g=u;g.resolving&&function(n,r){throw new ye("200",`Circular dependency in DI detected for ${n}`)}(de(c[s]));const y=da(g.canSeeViewProviders);g.resolving=!0;const E=g.injectImpl?Jn(g.injectImpl):null;so(n,a,ke.Default);try{u=n[s]=g.factory(void 0,c,n,a),r.firstCreatePass&&s>=a.directiveStart&&function(n,r,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:c}=r.type.prototype;if(a){const g=Xs(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,g)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,u),c&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,c),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,c))}(s,c[s],r)}finally{null!==E&&Jn(E),da(y),g.resolving=!1,Wd()}}return u}function fo(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Ac(n,r){return!(n&ke.Self||n&ke.Host&&r)}class tn{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return ss(this._tNode,this._lView,r,a,s)}}function hl(n){return ft(()=>{const r=n.prototype.constructor,s=r[We]||po(r),a=Object.prototype;let u=Object.getPrototypeOf(n.prototype).constructor;for(;u&&u!==a;){const c=u[We]||po(u);if(c&&c!==s)return c;u=Object.getPrototypeOf(u)}return c=>new c})}function po(n){return oe(n)?()=>{const r=po(H(n));return r&&r()}:li(n)}function ga(n){return function(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const c=s[u];if(Tc(c))break;if(0===c)u+=2;else if("number"==typeof c)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(c===r)return s[u+1];u+=2}}}return null}(zt(),n)}const xi="__parameters__";function Sr(n,r,s){return ft(()=>{const a=function(n){return function(...s){if(n){const a=n(...s);for(const u in a)this[u]=a[u]}}}(r);function u(...c){if(this instanceof u)return a.apply(this,c),this;const g=new u(...c);return y.annotation=g,y;function y(E,w,A){const P=E.hasOwnProperty(xi)?E[xi]:Object.defineProperty(E,xi,{value:[]})[xi];for(;P.length<=A;)P.push(null);return(P[A]=P[A]||[]).push(g),E}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}class $t{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Qt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ls=new $t("AnalyzeForEntryComponents");function Yn(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),Yn(a,r)):r!==n&&r.push(a)}return r}function fr(n,r){n.forEach(s=>Array.isArray(s)?fr(s,r):r(s))}function ki(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function Pn(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ir(n,r,s){let a=Os(n,r);return a>=0?n[1|a]=s:(a=~a,function(n,r,s,a){let u=n.length;if(u==r)n.push(s,a);else if(1===u)n.push(a,n[0]),n[0]=s;else{for(u--,n.push(n[u-1],n[u]);u>r;)n[u]=n[u-2],u--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function _o(n,r){const s=Os(n,r);if(s>=0)return n[1|s]}function Os(n,r){return function(n,r,s){let a=0,u=n.length>>s;for(;u!==a;){const c=a+(u-a>>1),g=n[c<<s];if(r===g)return c<<s;g>r?u=c:a=c+1}return~(u<<s)}(n,r,1)}const R={},L="__NG_DI_FLAG__",q="ngTempTokenPath",Ee=/\n/gm,Pe="__source",ut=Y({provide:String,useValue:Y});let Ot;function vn(n){const r=Ot;return Ot=n,r}function Ln(n,r=ke.Default){if(void 0===Ot)throw new Error("inject() must be called from an injection context");return null===Ot?je(n,void 0,r):Ot.get(n,r&ke.Optional?null:void 0,r)}function gt(n,r=ke.Default){return(At||Ln)(H(n),r)}function Rr(n){const r=[];for(let s=0;s<n.length;s++){const a=H(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");let u,c=ke.Default;for(let g=0;g<a.length;g++){const y=a[g],E=ks(y);"number"==typeof E?-1===E?u=y.token:c|=E:u=y}r.push(gt(u,c))}else r.push(gt(a))}return r}function or(n,r){return n[L]=r,n.prototype[L]=r,n}function ks(n){return n[L]}function Eo(n,r,s,a){const u=n[q];throw r[Pe]&&u.unshift(r[Pe]),n.message=function(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let u=K(r);if(Array.isArray(r))u=r.map(K).join(" -> ");else if("object"==typeof r){let c=[];for(let g in r)if(r.hasOwnProperty(g)){let y=r[g];c.push(g+":"+("string"==typeof y?JSON.stringify(y):K(y)))}u=`{${c.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${n.replace(Ee,"\n  ")}`}("\n"+n.message,u,s,a),n.ngTokenPath=u,n[q]=null,n}const Co=or(Sr("Inject",n=>({token:n})),-1),Jr=or(Sr("Optional"),8),us=or(Sr("SkipSelf"),4);let va;function Ea(n){var r;return(null==(r=function(){if(void 0===va&&(va=null,Xe.trustedTypes))try{va=Xe.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return va}())?void 0:r.createHTML(n))||n}class ba{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Su extends ba{getTypeName(){return"HTML"}}class Ru extends ba{getTypeName(){return"Style"}}class Mu extends ba{getTypeName(){return"Script"}}class cm extends ba{getTypeName(){return"URL"}}class dm extends ba{getTypeName(){return"ResourceURL"}}function cs(n){return n instanceof ba?n.changingThisBreaksApplicationSecurity:n}function yl(n,r){const s=wa(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function wa(n){return n instanceof ba&&n.getTypeName()||null}function np(n){return new Su(n)}function hm(n){return new Ru(n)}function rp(n){return new Mu(n)}function fm(n){return new cm(n)}function ip(n){return new dm(n)}class sp{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Ea(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class op{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Ea(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Ea(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let u=s.length-1;0<u;u--){const g=s.item(u).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&r.removeAttribute(g)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const ap=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,lp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wo(n){return(n=String(n)).match(ap)||n.match(lp)?n:"unsafe:"+n}function fi(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function St(...n){const r={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Mt=fi("area,br,col,hr,img,wbr"),ct=fi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fs=fi("rp,rt"),Ia=St(Mt,St(ct,fi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),St(Fs,fi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),St(Fs,ct)),Pu=fi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rn=fi("srcset"),nh=St(Pu,rn,fi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jc=fi("script,style,template");class pi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let u=this.checkClobberedElement(s,s.nextSibling);if(u){s=u;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Ia.hasOwnProperty(s))return this.sanitizedSomething=!0,!jc.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let u=0;u<a.length;u++){const c=a.item(u),g=c.name,y=g.toLowerCase();if(!nh.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let E=c.value;Pu[y]&&(E=wo(E)),rn[y]&&(n=E,E=(n=String(n)).split(",").map(r=>wo(r.trim())).join(", ")),this.buf.push(" ",g,'="',_m(E),'"')}var n;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Ia.hasOwnProperty(s)&&!Mt.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(_m(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const gm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mm=/([^\#-~ |!])/g;function _m(n){return n.replace(/&/g,"&amp;").replace(gm,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(mm,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Li;function Io(n,r){let s=null;try{Li=Li||function(n){const r=new op(n);return function(){try{return!!(new window.DOMParser).parseFromString(Ea(""),"text/html")}catch(n){return!1}}()?new sp(r):r}(n);let a=r?String(r):"";s=Li.getInertBodyElement(a);let u=5,c=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=c,c=s.innerHTML,s=Li.getInertBodyElement(a)}while(a!==c);return Ea((new pi).sanitizeChildren(Nu(s)||s))}finally{if(s){const a=Nu(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Nu(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var En=(()=>((En=En||{})[En.NONE=0]="NONE",En[En.HTML=1]="HTML",En[En.STYLE=2]="STYLE",En[En.SCRIPT=3]="SCRIPT",En[En.URL=4]="URL",En[En.RESOURCE_URL=5]="RESOURCE_URL",En))();function ih(n){const r=function(){const n=Ce();return n&&n[12]}();return r?r.sanitize(En.URL,n)||"":yl(n,"URL")?cs(n):wo(te(n))}const mr="__ngContext__";function Wn(n,r){n[mr]=r}function xu(n){const r=function(n){return n[mr]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function gi(n){return n.ngOriginalError}function tt(n,...r){n.error(...r)}class Do{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=this._findContext(r),u=(n=r)&&n.ngErrorLogger||tt;var n;u(this._console,"ERROR",r),s&&u(this._console,"ORIGINAL ERROR",s),a&&u(this._console,"ERROR CONTEXT",a)}_findContext(r){return r?r.ngDebugContext||this._findContext(gi(r)):null}_findOriginalError(r){let s=r&&gi(r);for(;s&&gi(s);)s=gi(s);return s||null}}const hh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Xe))();function Nr(n){return n instanceof Function?n():n}var mi=(()=>((mi=mi||{})[mi.Important=1]="Important",mi[mi.DashCase=2]="DashCase",mi))();function Ui(n,r){return undefined(n,r)}function To(n){const r=n[3];return ai(r)?r[3]:r}function gh(n){return mh(n[13])}function wl(n){return mh(n[4])}function mh(n){for(;null!==n&&!ai(n);)n=n[4];return n}function d(n,r,s,a,u){if(null!=a){let c,g=!1;ai(a)?c=a:oi(a)&&(g=!0,a=a[0]);const y=mn(a);0===n&&null!==s?null==u?hs(r,s,y):Xr(r,s,y,u||null,!0):1===n&&null!==s?Xr(r,s,y,u||null,!0):2===n?function(n,r,s){const a=So(n,r);a&&function(n,r,s,a){Ht(n)?n.removeChild(r,s,a):r.removeChild(s)}(n,a,r,s)}(r,y,g):3===n&&r.destroyNode(y),null!=c&&function(n,r,s,a,u){const c=s[7];c!==mn(s)&&d(r,n,a,c,u);for(let y=10;y<s.length;y++){const E=s[y];ju(E[1],E,n,r,a,c)}}(r,n,c,s,u)}}function S(n,r,s){return Ht(n)?n.createElement(r,s):null===s?n.createElement(r):n.createElementNS(s,r)}function vt(n,r){const s=n[9],a=s.indexOf(r),u=r[3];1024&r[2]&&(r[2]&=-1025,eo(u,-1)),s.splice(a,1)}function Vt(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const u=a[17];null!==u&&u!==n&&vt(u,a),r>0&&(n[s-1][4]=a[4]);const c=Pn(n,10+r);!function(n,r){ju(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const g=c[19];null!==g&&g.detachView(c[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Bi(n,r){if(!(256&r[2])){const s=r[11];Ht(s)&&s.destroyNode&&ju(n,r,s,3,null,null),function(n){let r=n[13];if(!r)return Ao(n[1],n);for(;r;){let s=null;if(oi(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)oi(r)&&Ao(r[1],r),r=r[3];null===r&&(r=n),oi(r)&&Ao(r[1],r),s=r&&r[4]}r=s}}(r)}}function Ao(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const u=r[s[a]];if(!(u instanceof co)){const c=s[a+1];if(Array.isArray(c))for(let g=0;g<c.length;g+=2){const y=u[c[g]],E=c[g+1];try{E.call(y)}finally{}}else try{c.call(u)}finally{}}}}(n,r),function(n,r){const s=n.cleanup,a=r[7];let u=-1;if(null!==s)for(let c=0;c<s.length-1;c+=2)if("string"==typeof s[c]){const g=s[c+1],y="function"==typeof g?g(r):mn(r[g]),E=a[u=s[c+2]],w=s[c+3];"boolean"==typeof w?y.removeEventListener(s[c],E,w):w>=0?a[u=w]():a[u=-w].unsubscribe(),c+=2}else{const g=a[u=s[c+1]];s[c].call(g)}if(null!==a){for(let c=u+1;c<a.length;c++)a[c]();r[7]=null}}(n,r),1===r[1].type&&Ht(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&ai(r[3])){s!==r[3]&&vt(s,r);const a=r[19];null!==a&&a.detachView(n)}}}function Ma(n,r,s){return function(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const u=n.data[a.directiveStart].encapsulation;if(u===Re.None||u===Re.Emulated)return null}return _n(a,s)}(n,r.parent,s)}function Xr(n,r,s,a,u){Ht(n)?n.insertBefore(r,s,a,u):r.insertBefore(s,a,u)}function hs(n,r,s){Ht(n)?n.appendChild(r,s):r.appendChild(s)}function Kc(n,r,s,a,u){null!==a?Xr(n,r,s,a,u):hs(n,r,s)}function So(n,r){return Ht(n)?n.parentNode(r):r.parentNode}let Yc=function(n,r,s){return 40&n.type?_n(n,s):null};function Ro(n,r,s,a){const u=Ma(n,a,r),c=r[11],y=function(n,r,s){return Yc(n,r,s)}(a.parent||r[6],a,r);if(null!=u)if(Array.isArray(s))for(let E=0;E<s.length;E++)Kc(c,u,s[E],y,!1);else Kc(c,u,s,y,!1)}function Qc(n,r){if(null!==r){const s=r.type;if(3&s)return _n(r,n);if(4&s)return sn(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Qc(n,a);{const u=n[r.index];return ai(u)?sn(-1,u):mn(u)}}if(32&s)return Ui(r,n)()||mn(n[r.index]);{const a=pv(n,r);return null!==a?Array.isArray(a)?a[0]:Qc(To(n[16]),a):Qc(n,r.next)}}return null}function pv(n,r){return null!==r?n[16][6].projection[r.projection]:null}function sn(n,r){const s=10+n+1;if(s<r.length){const a=r[s],u=a[1].firstChild;if(null!==u)return Qc(a,u)}return r[7]}function Bu(n,r,s,a,u,c,g){for(;null!=s;){const y=a[s.index],E=s.type;if(g&&0===r&&(y&&Wn(mn(y),a),s.flags|=4),64!=(64&s.flags))if(8&E)Bu(n,r,s.child,a,u,c,!1),d(r,n,u,y,c);else if(32&E){const w=Ui(s,a);let A;for(;A=w();)d(r,n,u,A,c);d(r,n,u,y,c)}else 16&E?Ep(n,r,a,s,u,c):d(r,n,u,y,c);s=g?s.projectionNext:s.next}}function ju(n,r,s,a,u,c){Bu(s,a,n.firstChild,r,u,c,!1)}function Ep(n,r,s,a,u,c){const g=s[16],E=g[6].projection[a.projection];if(Array.isArray(E))for(let w=0;w<E.length;w++)d(r,n,u,E[w],c);else Bu(n,r,E,g[3],u,c,!0)}function Pa(n,r,s){Ht(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Eh(n,r,s){Ht(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function $u(n,r,s){let a=n.length;for(;;){const u=n.indexOf(r,s);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const c=r.length;if(u+c===a||n.charCodeAt(u+c)<=32)return u}s=u+1}}const Ch="ng-template";function pw(n,r,s){let a=0;for(;a<n.length;){let u=n[a++];if(s&&"class"===u){if(u=n[a],-1!==$u(u.toLowerCase(),r,0))return!0}else if(1===u){for(;a<n.length&&"string"==typeof(u=n[a++]);)if(u.toLowerCase()===r)return!0;return!1}}return!1}function _v(n){return 4===n.type&&n.value!==Ch}function gw(n,r,s){return r===(4!==n.type||s?n.value:Ch)}function mw(n,r,s){let a=4;const u=n.attrs||[],c=function(n){for(let r=0;r<n.length;r++)if(Tc(n[r]))return r;return n.length}(u);let g=!1;for(let y=0;y<r.length;y++){const E=r[y];if("number"!=typeof E){if(!g)if(4&a){if(a=2|1&a,""!==E&&!gw(n,E,s)||""===E&&1===r.length){if(Bs(a))return!1;g=!0}}else{const w=8&a?E:r[++y];if(8&a&&null!==n.attrs){if(!pw(n.attrs,w,s)){if(Bs(a))return!1;g=!0}continue}const P=_w(8&a?"class":E,u,_v(n),s);if(-1===P){if(Bs(a))return!1;g=!0;continue}if(""!==w){let N;N=P>c?"":u[P+1].toLowerCase();const j=8&a?N:null;if(j&&-1!==$u(j,w,0)||2&a&&w!==N){if(Bs(a))return!1;g=!0}}}}else{if(!g&&!Bs(a)&&!Bs(E))return!1;if(g&&Bs(E))continue;g=!1,a=E|1&a}}return Bs(a)||g}function Bs(n){return 0==(1&n)}function _w(n,r,s,a){if(null===r)return-1;let u=0;if(a||!s){let c=!1;for(;u<r.length;){const g=r[u];if(g===n)return u;if(3===g||6===g)c=!0;else{if(1===g||2===g){let y=r[++u];for(;"string"==typeof y;)y=r[++u];continue}if(4===g)break;if(0===g){u+=4;continue}}u+=c?1:2}return-1}return function(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function yv(n,r,s=!1){for(let a=0;a<r.length;a++)if(mw(n,r[a],s))return!0;return!1}function Cv(n,r){return n?":not("+r.trim()+")":r}function Ew(n){let r=n[0],s=1,a=2,u="",c=!1;for(;s<n.length;){let g=n[s];if("string"==typeof g)if(2&a){const y=n[++s];u+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&a?u+="."+g:4&a&&(u+=" "+g);else""!==u&&!Bs(g)&&(r+=Cv(c,u),u=""),a=g,c=c||!Bs(a);s++}return""!==u&&(r+=Cv(c,u)),r}const nt={};function Cp(n){Tm(mt(),Ce(),wn()+n,to())}function Tm(n,r,s,a){if(!a)if(3==(3&r[2])){const c=n.preOrderCheckHooks;null!==c&&sl(r,c,s)}else{const c=n.preOrderHooks;null!==c&&uo(r,c,0,s)}is(s)}function bp(n,r){return n<<17|r<<2}function ji(n){return n>>17&32767}function Sm(n){return 2|n}function Na(n){return(131068&n)>>2}function wp(n,r){return-131069&n|r<<2}function Rm(n){return 1|n}function Rv(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const u=s[a],c=s[a+1];if(-1!==c){const g=n.data[c];sa(u),g.contentQueries(2,r[c],c)}}}function Th(n,r,s,a,u,c,g,y,E,w){const A=r.blueprint.slice();return A[0]=u,A[2]=140|a,au(A),A[3]=A[15]=n,A[8]=s,A[10]=g||n&&n[10],A[11]=y||n&&n[11],A[12]=E||n&&n[12]||null,A[9]=w||n&&n[9]||null,A[6]=c,A[16]=2==r.type?n[16]:A,A}function Xc(n,r,s,a,u){let c=n.data[r];if(null===c)c=function(n,r,s,a,u){const c=ns(),g=ra(),E=n.data[r]=function(n,r,s,a,u,c){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?c:c&&c.parent,s,r,a,u);return null===n.firstChild&&(n.firstChild=E),null!==c&&(g?null==c.child&&null!==E.parent&&(c.child=E):null===c.next&&(c.next=E)),E}(n,r,s,a,u),Oe.lFrame.inI18n&&(c.flags|=64);else if(64&c.type){c.type=s,c.value=a,c.attrs=u;const g=function(){const n=Oe.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();c.injectorIndex=null===g?-1:g.injectorIndex}return Rn(c,!0),c}function Sl(n,r,s,a){if(0===s)return-1;const u=r.length;for(let c=0;c<s;c++)r.push(a),n.blueprint.push(a),n.data.push(null);return u}function Ah(n,r,s){oo(r);try{const a=n.viewQuery;null!==a&&Oh(1,a,s);const u=n.template;null!==u&&Sh(n,r,u,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Rv(n,r),n.staticViewQueries&&Oh(2,n.viewQuery,s);const c=n.components;null!==c&&function(n,r){for(let s=0;s<r.length;s++)Vw(n,r[s])}(r,c)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,lo()}}function ed(n,r,s,a){const u=r[2];if(256==(256&u))return;oo(r);const c=to();try{au(r),function(n){Oe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Sh(n,r,s,2,a);const g=3==(3&u);if(!c)if(g){const w=n.preOrderCheckHooks;null!==w&&sl(r,w,null)}else{const w=n.preOrderHooks;null!==w&&uo(r,w,0,null),gu(r,0)}if(function(n){for(let r=gh(n);null!==r;r=wl(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const u=s[a],c=u[3];0==(1024&u[2])&&eo(c,1),u[2]|=1024}}}(r),function(n){for(let r=gh(n);null!==r;r=wl(r))for(let s=10;s<r.length;s++){const a=r[s],u=a[1];ta(a)&&ed(u,a,u.template,a[8])}}(r),null!==n.contentQueries&&Rv(n,r),!c)if(g){const w=n.contentCheckHooks;null!==w&&sl(r,w)}else{const w=n.contentHooks;null!==w&&uo(r,w,1),gu(r,1)}!function(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)is(~u);else{const c=u,g=s[++a],y=s[++a];Ps(g,c),y(2,r[c])}}}finally{is(-1)}}(n,r);const y=n.components;null!==y&&function(n,r){for(let s=0;s<r.length;s++)Po(n,r[s])}(r,y);const E=n.viewQuery;if(null!==E&&Oh(2,E,a),!c)if(g){const w=n.viewCheckHooks;null!==w&&sl(r,w)}else{const w=n.viewHooks;null!==w&&uo(r,w,2),gu(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),c||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,eo(r[3],-1))}finally{lo()}}function Mv(n,r,s,a){const u=r[10],c=!to(),g=Pi(r);try{c&&!g&&u.begin&&u.begin(),g&&Ah(n,r,a),ed(n,r,s,a)}finally{c&&!g&&u.end&&u.end()}}function Sh(n,r,s,a,u){const c=wn(),g=2&a;try{is(-1),g&&r.length>20&&Tm(n,r,20,to()),s(a,u)}finally{is(c)}}function Rl(n,r,s){!cu()||(function(n,r,s,a){const u=s.directiveStart,c=s.directiveEnd;n.firstCreatePass||qn(s,r),Wn(a,r);const g=s.initialInputs;for(let y=u;y<c;y++){const E=n.data[y],w=Ar(E);w&&jm(r,s,E);const A=di(r,n,y,s);Wn(A,r),null!==g&&Fw(0,y-u,A,E,0,g),w&&(Lt(s.index,r)[8]=A)}}(n,r,s,_n(s,r)),128==(128&s.flags)&&function(n,r,s){const a=s.directiveStart,u=s.directiveEnd,g=s.index,y=Oe.lFrame.currentDirectiveIndex;try{is(g);for(let E=a;E<u;E++){const w=n.data[E],A=r[E];ro(E),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Lp(w,A)}}finally{is(-1),ro(y)}}(n,r,s))}function Pp(n,r,s=_n){const a=r.localNames;if(null!==a){let u=r.index+1;for(let c=0;c<a.length;c+=2){const g=a[c+1],y=-1===g?s(r,n):n[g];n[u++]=y}}}function Lm(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Rh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Rh(n,r,s,a,u,c,g,y,E,w){const A=20+a,P=A+u,N=function(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:nt);return s}(A,P),j="function"==typeof w?w():w;return N[1]={type:n,blueprint:N,template:s,queries:null,viewQuery:y,declTNode:r,data:N.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:E,consts:j,incompleteFirstPass:!1}}function Op(n,r,s,a){const u=jv(r);null===s?u.push(a):(u.push(s),n.firstCreatePass&&qm(n).push(a,u.length-1))}function td(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const u=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,u):s[a]=[r,u]}return s}function Ph(n,r,s,a){let u=!1;if(cu()){const c=function(n,r,s){const a=n.directiveRegistry;let u=null;if(a)for(let c=0;c<a.length;c++){const g=a[c];yv(s,g.selectors,!1)&&(u||(u=[]),Kr(qn(s,r),n,g.type),Ar(g)?(Fv(n,s),u.unshift(g)):u.push(g))}return u}(n,r,s),g=null===a?null:{"":-1};if(null!==c){u=!0,Vv(s,n.data.length,c.length);for(let A=0;A<c.length;A++){const P=c[A];P.providersResolver&&P.providersResolver(P)}let y=!1,E=!1,w=Sl(n,r,c.length,null);for(let A=0;A<c.length;A++){const P=c[A];s.mergedAttrs=al(s.mergedAttrs,P.hostAttrs),nd(n,s,r,w,P),Lv(w,P,g),null!==P.contentQueries&&(s.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(s.flags|=128);const N=P.type.prototype;!y&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),y=!0),!E&&(N.ngOnChanges||N.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),E=!0),w++}!function(n,r){const a=r.directiveEnd,u=n.data,c=r.attrs,g=[];let y=null,E=null;for(let w=r.directiveStart;w<a;w++){const A=u[w],P=A.inputs,N=null===c||_v(r)?null:$m(P,c);g.push(N),y=td(P,w,y),E=td(A.outputs,w,E)}null!==y&&(y.hasOwnProperty("class")&&(r.flags|=16),y.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=g,r.inputs=y,r.outputs=E}(n,s)}g&&function(n,r,s){if(r){const a=n.localNames=[];for(let u=0;u<r.length;u+=2){const c=s[r[u+1]];if(null==c)throw new ye("301",`Export of name '${r[u+1]}' not found!`);a.push(r[u],c)}}}(s,a,g)}return s.mergedAttrs=al(s.mergedAttrs,s.attrs),u}function kp(n,r,s,a,u,c){const g=c.hostBindings;if(g){let y=n.hostBindingOpCodes;null===y&&(y=n.hostBindingOpCodes=[]);const E=~r.index;(function(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(y)!=E&&y.push(E),y.push(a,u,g)}}function Lp(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Fv(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Lv(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Ar(r)&&(s[""]=n)}}function Vv(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function nd(n,r,s,a,u){n.data[a]=u;const c=u.factory||(u.factory=li(u.type)),g=new co(c,Ar(u),null);n.blueprint[a]=g,s[a]=g,kp(n,r,0,a,Sl(n,s,u.hostVars,nt),u)}function jm(n,r,s){const a=_n(r,n),u=Lm(s),c=n[10],g=rd(n,Th(n,u,null,s.onPush?64:16,a,r,c,c.createRenderer(a,s),null,null));n[r.index]=g}function Mo(n,r,s,a,u,c){const g=_n(n,r);!function(n,r,s,a,u,c,g){if(null==c)Ht(n)?n.removeAttribute(r,u,s):r.removeAttribute(u);else{const y=null==g?te(c):g(c,a||"",u);Ht(n)?n.setAttribute(r,u,y,s):s?r.setAttributeNS(s,u,y):r.setAttribute(u,y)}}(r[11],g,c,n.value,s,a,u)}function Fw(n,r,s,a,u,c){const g=c[r];if(null!==g){const y=a.setInput;for(let E=0;E<g.length;){const w=g[E++],A=g[E++],P=g[E++];null!==y?a.setInput(s,P,w,A):s[A]=P}}}function $m(n,r){let s=null,a=0;for(;a<r.length;){const u=r[a];if(0!==u)if(5!==u){if("number"==typeof u)break;n.hasOwnProperty(u)&&(null===s&&(s=[]),s.push(u,n[u],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Gm(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Po(n,r){const s=Lt(r,n);if(ta(s)){const a=s[1];80&s[2]?ed(a,s,a.template,s[8]):s[5]>0&&zu(s)}}function zu(n){for(let a=gh(n);null!==a;a=wl(a))for(let u=10;u<a.length;u++){const c=a[u];if(1024&c[2]){const g=c[1];ed(g,c,g.template,c[8])}else c[5]>0&&zu(c)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const u=Lt(s[a],n);ta(u)&&u[5]>0&&zu(u)}}function Vw(n,r){const s=Lt(r,n),a=s[1];(function(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),Ah(a,s,s[8])}function rd(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Zu(n){for(;n;){n[2]|=64;const r=To(n);if(Ud(n)&&!r)return n;n=r}return null}function _i(n,r,s){const a=r[10];a.begin&&a.begin();try{ed(n,r,n.template,s)}catch(u){throw $v(r,u),u}finally{a.end&&a.end()}}function Zm(n){!function(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],a=xu(s),u=a[1];Mv(u,a,u.template,s)}}(n[8])}function Oh(n,r,s){sa(0),r(n,s)}const Bv=(()=>Promise.resolve(null))();function jv(n){return n[7]||(n[7]=[])}function qm(n){return n.cleanup||(n.cleanup=[])}function $v(n,r){const s=n[9],a=s?s.get(Do,null):null;a&&a.handleError(r)}function Wv(n,r,s,a,u){for(let c=0;c<s.length;){const g=s[c++],y=s[c++],E=r[g],w=n.data[g];null!==w.setInput?w.setInput(E,u,a,y):E[y]=u}}function No(n,r,s){const a=Wr(r,n);!function(n,r,s){Ht(n)?n.setValue(r,s):r.textContent=s}(n[11],a,s)}function Ml(n,r,s){let a=s?n.styles:null,u=s?n.classes:null,c=0;if(null!==r)for(let g=0;g<r.length;g++){const y=r[g];"number"==typeof y?c=y:1==c?u=J(u,y):2==c&&(a=J(a,y+": "+r[++g]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=u:n.classesWithoutHost=u}const qu=new $t("INJECTOR",-1);class kh{get(r,s=R){if(s===R){const a=new Error(`NullInjectorError: No provider for ${K(r)}!`);throw a.name="NullInjectorError",a}return s}}const Fh=new $t("Set Injector scope."),Ku={},Bw={};let Km;function Zv(){return void 0===Km&&(Km=new kh),Km}function Kv(n,r=null,s=null,a){return new jw(n,s,r||Zv(),a)}class jw{constructor(r,s,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];s&&fr(s,y=>this.processProvider(y,r,s)),fr([r],y=>this.processInjectorType(y,[],c)),this.records.set(qu,Hs(void 0,this));const g=this.records.get(Fh);this.scope=null!=g?g.value:null,this.source=u||("object"==typeof r?null:K(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=R,a=ke.Default){this.assertNotDestroyed();const u=vn(this),c=Jn(void 0);try{if(!(a&ke.SkipSelf)){let y=this.records.get(r);if(void 0===y){const E=("function"==typeof(n=r)||"object"==typeof n&&n instanceof $t)&&An(r);y=E&&this.injectableDefInScope(E)?Hs(Ym(r),Ku):null,this.records.set(r,y)}if(null!=y)return this.hydrate(r,y)}return(a&ke.Self?Zv():this.parent).get(r,s=a&ke.Optional&&s===R?null:s)}catch(g){if("NullInjectorError"===g.name){if((g[q]=g[q]||[]).unshift(K(r)),u)throw g;return Eo(g,r,"R3InjectorError",this.source)}throw g}finally{Jn(c),vn(u)}var n}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,u)=>r.push(K(u))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(r,s,a){if(!(r=H(r)))return!1;let u=Vr(r);const c=null==u&&r.ngModule||void 0,g=void 0===c?r:c,y=-1!==a.indexOf(g);if(void 0!==c&&(u=Vr(c)),null==u)return!1;if(null!=u.imports&&!y){let A;a.push(g);try{fr(u.imports,P=>{this.processInjectorType(P,s,a)&&(void 0===A&&(A=[]),A.push(P))})}finally{}if(void 0!==A)for(let P=0;P<A.length;P++){const{ngModule:N,providers:j}=A[P];fr(j,Z=>this.processProvider(Z,N,j||B))}}this.injectorDefTypes.add(g);const E=li(g)||(()=>new g);this.records.set(g,Hs(E,Ku));const w=u.providers;if(null!=w&&!y){const A=r;fr(w,P=>this.processProvider(P,A,w))}return void 0!==c&&void 0!==r.providers}processProvider(r,s,a){let u=ka(r=H(r))?r:H(r&&r.provide);const c=(n=r,Oa(n)?Hs(void 0,n.useValue):Hs(Qv(n),Ku));var n;if(ka(r)||!0!==r.multi)this.records.get(u);else{let g=this.records.get(u);g||(g=Hs(void 0,Ku,!0),g.factory=()=>Rr(g.multi),this.records.set(u,g)),u=r,g.multi.push(r)}this.records.set(u,c)}hydrate(r,s){return s.value===Ku&&(s.value=Bw,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(n=s.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var n}injectableDefInScope(r){if(!r.providedIn)return!1;const s=H(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Ym(n){const r=An(n),s=null!==r?r.factory:li(n);if(null!==s)return s;if(n instanceof $t)throw new Error(`Token ${K(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const r=n.length;if(r>0){const a=function(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?");throw new Error(`Can't resolve all parameters for ${K(n)}: (${a.join(", ")}).`)}const s=function(n){const r=n&&(n[si]||n[xn]);if(r){const s=function(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Error("unreachable")}function Qv(n,r,s){let a;if(ka(n)){const u=H(n);return li(u)||Ym(u)}if(Oa(n))a=()=>H(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Rr(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))a=()=>gt(H(n.useExisting));else{const u=H(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return li(u)||Ym(u);a=()=>new u(...Rr(n.deps))}return a}function Hs(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Oa(n){return null!==n&&"object"==typeof n&&ut in n}function ka(n){return"function"==typeof n}const Lh=function(n,r,s){return function(n,r=null,s=null,a){const u=Kv(n,r,s,a);return u._resolveInjectorDefTypes(),u}({name:s},r,n,s)};let hn=(()=>{class n{static create(s,a){return Array.isArray(s)?Lh(s,a,""):Lh(s.providers,s.parent,s.name||"")}}return n.THROW_IF_NOT_FOUND=R,n.NULL=new kh,n.\u0275prov=Qt({token:n,providedIn:"any",factory:()=>gt(qu)}),n.__NG_ELEMENT_ID__=-1,n})();function aE(n,r){Ni(xu(n)[1],zt())}function u_(n){let r=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let u;if(Ar(n))u=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Error("Directives cannot inherit Components");u=r.\u0275dir}if(u){if(s){a.push(u);const g=n;g.inputs=c_(n.inputs),g.declaredInputs=c_(n.declaredInputs),g.outputs=c_(n.outputs);const y=u.hostBindings;y&&tI(n,y);const E=u.viewQuery,w=u.contentQueries;if(E&&Xw(n,E),w&&eI(n,w),fe(n.inputs,u.inputs),fe(n.declaredInputs,u.declaredInputs),fe(n.outputs,u.outputs),Ar(u)&&u.data.animation){const A=n.data;A.animation=(A.animation||[]).concat(u.data.animation)}}const c=u.features;if(c)for(let g=0;g<c.length;g++){const y=c[g];y&&y.ngInherit&&y(n),y===u_&&(s=!1)}}r=Object.getPrototypeOf(r)}!function(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const u=n[a];u.hostVars=r+=u.hostVars,u.hostAttrs=al(u.hostAttrs,s=al(s,u.hostAttrs))}}(a)}function c_(n){return n===G?{}:n===B?[]:n}function Xw(n,r){const s=n.viewQuery;n.viewQuery=s?(a,u)=>{r(a,u),s(a,u)}:r}function eI(n,r){const s=n.contentQueries;n.contentQueries=s?(a,u,c)=>{r(a,u,c),s(a,u,c)}:r}function tI(n,r){const s=n.hostBindings;n.hostBindings=s?(a,u)=>{r(a,u),s(a,u)}:r}let $p=null;function sd(){if(!$p){const n=Xe.Symbol;if(n&&n.iterator)$p=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&($p=a)}}}return $p}function jh(n){return!!$i(n)&&(Array.isArray(n)||!(n instanceof Map)&&sd()in n)}function $i(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function yr(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function d_(n,r,s,a){const u=Ce();return yr(u,Zr(),r)&&(mt(),Mo(Jt(),u,n,r,s,a)),d_}function yE(n,r,s,a,u,c,g,y){const E=Ce(),w=mt(),A=n+20,P=w.firstCreatePass?function(n,r,s,a,u,c,g,y,E){const w=r.consts,A=Xc(r,n,4,g||null,Gr(w,y));Ph(r,s,A,Gr(w,E)),Ni(r,A);const P=A.tViews=Rh(2,A,a,u,c,r.directiveRegistry,r.pipeRegistry,null,r.schemas,w);return null!==r.queries&&(r.queries.template(r,A),P.queries=r.queries.embeddedTView(A)),A}(A,w,E,r,s,a,u,c,g):w.data[A];Rn(P,!1);const N=E[11].createComment("");Ro(w,E,N,P),Wn(N,E),rd(E,E[A]=Gm(N,E,N,P)),eu(P)&&Rl(w,E,P),null!=g&&Pp(E,P,y)}function vE(n){return Ss(Oe.lFrame.contextLView,20+n)}function Zp(n,r=ke.Default){const s=Ce();return null===s?gt(n,r):ss(zt(),s,H(n),r)}function AE(){throw new Error("invalid")}function w_(n,r,s){const a=Ce();return yr(a,Zr(),r)&&function(n,r,s,a,u,c,g,y){const E=_n(r,s);let A,w=r.inputs;!y&&null!=w&&(A=w[a])?(Wv(n,s,A,a,u),Ri(r)&&function(n,r){const s=Lt(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),u=null!=g?g(u,r.value||"",a):u,Ht(c)?c.setProperty(E,a,u):kn(a)||(E.setProperty?E.setProperty(a,u):E[a]=u))}(mt(),Jt(),a,n,r,a[11],s,!1),w_}function SE(n,r,s,a,u){const g=u?"class":"style";Wv(n,s,r.inputs[g],g,a)}function RE(n,r,s,a){const u=Ce(),c=mt(),g=20+n,y=u[11],E=u[g]=S(y,r,Oe.lFrame.currentNamespace),w=c.firstCreatePass?function(n,r,s,a,u,c,g){const y=r.consts,w=Xc(r,n,2,u,Gr(y,c));return Ph(r,s,w,Gr(y,g)),null!==w.attrs&&Ml(w,w.attrs,!1),null!==w.mergedAttrs&&Ml(w,w.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,w),w}(g,c,u,0,r,s,a):c.data[g];Rn(w,!0);const A=w.mergedAttrs;null!==A&&ol(y,E,A);const P=w.classes;null!==P&&Eh(y,E,P);const N=w.styles;null!==N&&Pa(y,E,N),64!=(64&w.flags)&&Ro(c,u,E,w),0===Oe.lFrame.elementDepthCount&&Wn(E,u),Oe.lFrame.elementDepthCount++,eu(w)&&(Rl(c,u,w),function(n,r,s){if(Sn(r)){const u=r.directiveEnd;for(let c=r.directiveStart;c<u;c++){const g=n.data[c];g.contentQueries&&g.contentQueries(1,s[c],c)}}}(c,w,u)),null!==a&&Pp(u,w)}function ME(){let n=zt();ra()?Oe.lFrame.isParent=!1:(n=n.parent,Rn(n,!1));const r=n;Oe.lFrame.elementDepthCount--;const s=mt();s.firstCreatePass&&(Ni(s,n),Sn(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(r)&&SE(s,r,Ce(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(r)&&SE(s,r,Ce(),r.stylesWithoutHost,!1)}function wI(n,r,s,a){RE(n,r,s,a),ME()}function PE(){return Ce()}function Gn(n){return!!n&&"function"==typeof n.then}function ms(n){return!!n&&"function"==typeof n.subscribe}const pd=ms;function zh(n,r,s,a){const u=Ce(),c=mt(),g=zt();return function(n,r,s,a,u,c,g,y){const E=eu(a),A=n.firstCreatePass&&qm(n),P=r[8],N=jv(r);let j=!0;if(3&a.type||y){const ee=_n(a,r),Te=y?y(ee):ee,_e=N.length,$e=y?rt=>y(mn(rt[a.index])):a.index;if(Ht(s)){let rt=null;if(!y&&E&&(rt=function(n,r,s,a){const u=n.cleanup;if(null!=u)for(let c=0;c<u.length-1;c+=2){const g=u[c];if(g===s&&u[c+1]===a){const y=r[7],E=u[c+2];return y.length>E?y[E]:null}"string"==typeof g&&(c+=2)}return null}(n,r,u,a.index)),null!==rt)(rt.__ngLastListenerFn__||rt).__ngNextListenerFn__=c,rt.__ngLastListenerFn__=c,j=!1;else{c=T_(a,r,P,c,!1);const Nt=s.listen(Te,u,c);N.push(c,Nt),A&&A.push(u,$e,_e,_e+1)}}else c=T_(a,r,P,c,!0),Te.addEventListener(u,c,g),N.push(c),A&&A.push(u,$e,_e,g)}else c=T_(a,r,P,c,!1);const Z=a.outputs;let le;if(j&&null!==Z&&(le=Z[u])){const ee=le.length;if(ee)for(let Te=0;Te<ee;Te+=2){const Cr=r[le[Te]][le[Te+1]].subscribe(c),$o=N.length;N.push(c,Cr),A&&A.push(u,a.index,$o,-($o+1))}}}(c,u,u[11],g,n,r,!!s,a),zh}function D_(n,r,s,a){try{return!1!==s(a)}catch(u){return $v(n,u),!1}}function T_(n,r,s,a,u){return function c(g){if(g===Function)return a;const y=2&n.flags?Lt(n.index,r):r;0==(32&r[2])&&Zu(y);let E=D_(r,0,a,g),w=c.__ngNextListenerFn__;for(;w;)E=D_(r,0,w,g)&&E,w=w.__ngNextListenerFn__;return u&&!1===E&&(g.preventDefault(),g.returnValue=!1),E}}function OE(n=1){return function(n){return(Oe.lFrame.contextLView=function(n,r){for(;n>0;)r=r[15],n--;return r}(n,Oe.lFrame.contextLView))[8]}(n)}function A_(n,r,s,a,u){const c=n[s+1],g=null===r;let y=a?ji(c):Na(c),E=!1;for(;0!==y&&(!1===E||g);){const A=n[y+1];Jp(n[y],r)&&(E=!0,n[y+1]=a?Rm(A):Sm(A)),y=a?ji(A):Na(A)}E&&(n[s+1]=a?Sm(c):Rm(c))}function Jp(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Os(n,r)>=0}function tg(n,r){return function(n,r,s,a){const u=Ce(),c=mt(),g=function(n){const r=Oe.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);c.firstUpdatePass&&function(n,r,s,a){const u=n.data;if(null===u[s+1]){const c=u[wn()],g=function(n,r){return r>=n.expandoStartIndex}(n,s);(function(n,r){return 0!=(n.flags&(r?16:32))})(c,a)&&null===r&&!g&&(r=!1),r=function(n,r,s,a){const u=function(n){const r=Oe.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let c=a?r.residualClasses:r.residualStyles;if(null===u)0===(a?r.classBindings:r.styleBindings)&&(s=Qh(s=gd(null,n,r,s,a),r.attrs,a),c=null);else{const g=r.directiveStylingLast;if(-1===g||n[g]!==u)if(s=gd(u,n,r,s,a),null===c){let E=function(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Na(a))return n[ji(a)]}(n,r,a);void 0!==E&&Array.isArray(E)&&(E=gd(null,n,r,E[1],a),E=Qh(E,r.attrs,a),function(n,r,s,a){n[ji(s?r.classBindings:r.styleBindings)]=a}(n,r,a,E))}else c=function(n,r,s){let a;const u=r.directiveEnd;for(let c=1+r.directiveStylingLast;c<u;c++)a=Qh(a,n[c].hostAttrs,s);return Qh(a,r.attrs,s)}(n,r,a)}return void 0!==c&&(a?r.residualClasses=c:r.residualStyles=c),s}(u,c,r,a),function(n,r,s,a,u,c){let g=c?r.classBindings:r.styleBindings,y=ji(g),E=Na(g);n[a]=s;let A,w=!1;if(Array.isArray(s)){const P=s;A=P[1],(null===A||Os(P,A)>0)&&(w=!0)}else A=s;if(u)if(0!==E){const N=ji(n[y+1]);n[a+1]=bp(N,y),0!==N&&(n[N+1]=wp(n[N+1],a)),n[y+1]=function(n,r){return 131071&n|r<<17}(n[y+1],a)}else n[a+1]=bp(y,0),0!==y&&(n[y+1]=wp(n[y+1],a)),y=a;else n[a+1]=bp(E,0),0===y?y=a:n[E+1]=wp(n[E+1],a),E=a;w&&(n[a+1]=Sm(n[a+1])),A_(n,A,a,!0),A_(n,A,a,!1),function(n,r,s,a,u){const c=u?n.residualClasses:n.residualStyles;null!=c&&"string"==typeof r&&Os(c,r)>=0&&(s[a+1]=Rm(s[a+1]))}(r,A,n,a,c),g=bp(y,E),c?r.classBindings=g:r.styleBindings=g}(u,c,r,s,g,a)}}(c,n,g,a),r!==nt&&yr(u,g,r)&&function(n,r,s,a,u,c,g,y){if(!(3&r.type))return;const E=n.data,w=E[y+1];ig(function(n){return 1==(1&n)}(w)?qE(E,r,s,u,Na(w),g):void 0)||(ig(c)||function(n){return 2==(2&n)}(w)&&(c=qE(E,null,s,u,y,g)),function(n,r,s,a,u){const c=Ht(n);if(r)u?c?n.addClass(s,a):s.classList.add(a):c?n.removeClass(s,a):s.classList.remove(a);else{let g=-1===a.indexOf("-")?void 0:mi.DashCase;if(null==u)c?n.removeStyle(s,a,g):s.style.removeProperty(a);else{const y="string"==typeof u&&u.endsWith("!important");y&&(u=u.slice(0,-10),g|=mi.Important),c?n.setStyle(s,a,u,g):s.style.setProperty(a,u,y?"important":"")}}}(a,g,Wr(wn(),s),u,c))}(c,c.data[wn()],u,u[11],n,u[g+1]=function(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=K(cs(n)))),n}(r,s),a,g)}(n,r,null,!0),tg}function gd(n,r,s,a,u){let c=null;const g=s.directiveEnd;let y=s.directiveStylingLast;for(-1===y?y=s.directiveStart:y++;y<g&&(c=r[y],a=Qh(a,c.hostAttrs,u),c!==n);)y++;return null!==n&&(s.directiveStylingLast=y),a}function Qh(n,r,s){const a=s?1:2;let u=-1;if(null!==r)for(let c=0;c<r.length;c++){const g=r[c];"number"==typeof g?u=g:u===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ir(n,g,!!s||r[++c]))}return void 0===n?null:n}function qE(n,r,s,a,u,c){const g=null===r;let y;for(;u>0;){const E=n[u],w=Array.isArray(E),A=w?E[1]:E,P=null===A;let N=s[u+1];N===nt&&(N=P?B:void 0);let j=P?_o(N,a):A===a?N:void 0;if(w&&!ig(j)&&(j=_o(E,a)),ig(j)&&(y=j,g))return y;const Z=n[u+1];u=g?ji(Z):Na(Z)}if(null!==r){let E=c?r.residualClasses:r.residualStyles;null!=E&&(y=_o(E,a))}return y}function ig(n){return void 0!==n}function YE(n,r=""){const s=Ce(),a=mt(),u=n+20,c=a.firstCreatePass?Xc(a,u,1,r,null):a.data[u],g=s[u]=function(n,r){return Ht(n)?n.createText(r):n.createTextNode(r)}(s[11],r);Ro(a,s,g,c),Rn(c,!1)}function md(n){return Jh("",n,""),md}function Jh(n,r,s){const a=Ce(),u=function(n,r,s,a){return yr(n,Zr(),s)?r+te(s)+a:nt}(a,n,r,s);return u!==nt&&No(a,wn(),u),Jh}const ec=void 0;var aC=["en",[["a","p"],["AM","PM"],ec],[["AM","PM"],ec,ec],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ec,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ec,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ec,"{1} 'at' {0}",ec],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let tc={};function og(n){const r=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=H_(r);if(s)return s;const a=r.split("-")[0];if(s=H_(a),s)return s;if("en"===a)return aC;throw new Error(`Missing locale data for the locale "${n}".`)}function j_(n){return og(n)[Ke.PluralCase]}function H_(n){return n in tc||(tc[n]=Xe.ng&&Xe.ng.common&&Xe.ng.common.locales&&Xe.ng.common.locales[n]),tc[n]}var Ke=(()=>((Ke=Ke||{})[Ke.LocaleId=0]="LocaleId",Ke[Ke.DayPeriodsFormat=1]="DayPeriodsFormat",Ke[Ke.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ke[Ke.DaysFormat=3]="DaysFormat",Ke[Ke.DaysStandalone=4]="DaysStandalone",Ke[Ke.MonthsFormat=5]="MonthsFormat",Ke[Ke.MonthsStandalone=6]="MonthsStandalone",Ke[Ke.Eras=7]="Eras",Ke[Ke.FirstDayOfWeek=8]="FirstDayOfWeek",Ke[Ke.WeekendRange=9]="WeekendRange",Ke[Ke.DateFormat=10]="DateFormat",Ke[Ke.TimeFormat=11]="TimeFormat",Ke[Ke.DateTimeFormat=12]="DateTimeFormat",Ke[Ke.NumberSymbols=13]="NumberSymbols",Ke[Ke.NumberFormats=14]="NumberFormats",Ke[Ke.CurrencyCode=15]="CurrencyCode",Ke[Ke.CurrencySymbol=16]="CurrencySymbol",Ke[Ke.CurrencyName=17]="CurrencyName",Ke[Ke.Currencies=18]="Currencies",Ke[Ke.Directionality=19]="Directionality",Ke[Ke.PluralCase=20]="PluralCase",Ke[Ke.ExtraData=21]="ExtraData",Ke))();const Xh="en-US";let cC=Xh;function ic(n,r,s,a,u){if(n=H(n),Array.isArray(n))for(let c=0;c<n.length;c++)ic(n[c],r,s,a,u);else{const c=mt(),g=Ce();let y=ka(n)?n:H(n.provide),E=Qv(n);const w=zt(),A=1048575&w.providerIndexes,P=w.directiveStart,N=w.providerIndexes>>20;if(ka(n)||!n.multi){const j=new co(E,u,Zp),Z=iy(y,r,u?A:A+N,P);-1===Z?(Kr(qn(w,g),c,y),Ed(c,n,r.length),r.push(y),w.directiveStart++,w.directiveEnd++,u&&(w.providerIndexes+=1048576),s.push(j),g.push(j)):(s[Z]=j,g[Z]=j)}else{const j=iy(y,r,A+N,P),Z=iy(y,r,A,A+N),le=j>=0&&s[j],ee=Z>=0&&s[Z];if(u&&!ee||!u&&!le){Kr(qn(w,g),c,y);const Te=function(n,r,s,a,u){const c=new co(n,s,Zp);return c.multi=[],c.index=r,c.componentProviders=0,af(c,u,a&&!s),c}(u?pg:sy,s.length,u,a,E);!u&&ee&&(s[Z].providerFactory=Te),Ed(c,n,r.length,0),r.push(y),w.directiveStart++,w.directiveEnd++,u&&(w.providerIndexes+=1048576),s.push(Te),g.push(Te)}else Ed(c,n,j>-1?j:Z,af(s[u?Z:j],E,!u&&a));!u&&a&&ee&&s[Z].componentProviders++}}}function Ed(n,r,s,a){const u=ka(r);if(u||function(n){return!!n.useClass}(r)){const g=(r.useClass||r).prototype.ngOnDestroy;if(g){const y=n.destroyHooks||(n.destroyHooks=[]);if(!u&&r.multi){const E=y.indexOf(s);-1===E?y.push(s,[a,g]):y[E+1].push(a,g)}else y.push(s,g)}}}function af(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function iy(n,r,s,a){for(let u=s;u<a;u++)if(r[u]===n)return u;return-1}function sy(n,r,s,a){return oy(this.multi,[])}function pg(n,r,s,a){const u=this.multi;let c;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=di(s,s[1],this.providerFactory.index,a);c=y.slice(0,g),oy(u,c);for(let E=g;E<y.length;E++)c.push(y[E])}else c=[],oy(u,c);return c}function oy(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function ay(n,r=[]){return s=>{s.providersResolver=(a,u)=>function(n,r,s){const a=mt();if(a.firstCreatePass){const u=Ar(n);ic(s,a.data,a.blueprint,u,!0),ic(r,a.data,a.blueprint,u,!1)}}(a,u?u(n):n,r)}}class ly{}const C0="ngComponent";class uy{resolveComponentFactory(r){throw function(n){const r=Error(`No component factory found for ${K(n)}. Did you add it to @NgModule.entryComponents?`);return r[C0]=n,r}(r)}}let Cd=(()=>{class n{}return n.NULL=new uy,n})();function sc(...n){}function Vo(n,r){return new Uo(_n(n,r))}const cf=function(){return Vo(zt(),Ce())};let Uo=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=cf,n})();function mg(n){return n instanceof Uo?n.nativeElement:n}class bd{}let kC=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>_g(),n})();const _g=function(){const n=Ce(),s=Lt(zt().index,n);return function(n){return n[11]}(oi(s)?s:n)};let hy=(()=>{class n{}return n.\u0275prov=Qt({token:n,providedIn:"root",factory:()=>null}),n})();class wd{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Bl=new wd("13.0.2"),oc={};function fy(n,r,s,a,u=!1){for(;null!==s;){const c=r[s.index];if(null!==c&&a.push(mn(c)),ai(c))for(let y=10;y<c.length;y++){const E=c[y],w=E[1].firstChild;null!==w&&fy(E[1],E,w,a)}const g=s.type;if(8&g)fy(n,r,s.child,a);else if(32&g){const y=Ui(s,r);let E;for(;E=y();)a.push(E)}else if(16&g){const y=pv(r,s);if(Array.isArray(y))a.push(...y);else{const E=To(r[16]);fy(E[1],E,y,a,!0)}}s=u?s.projectionNext:s.next}return a}class yg{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return fy(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(ai(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Vt(r,a),Pn(s,a))}this._attachedToViewContainer=!1}Bi(this._lView[1],this._lView)}onDestroy(r){Op(this._lView[1],this._lView,null,r)}markForCheck(){Zu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){_i(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,r,s){no(!0);try{_i(n,r,s)}finally{no(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var r;this._appRef=null,ju(this._lView[1],r=this._lView,r[11],2,null,null)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=r}}class fA extends yg{constructor(r){super(r),this._view=r}detectChanges(){Zm(this._view)}checkNoChanges(){!function(n){no(!0);try{Zm(n)}finally{no(!1)}}(this._view)}get context(){return null}}class D0 extends Cd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Gt(r);return new ac(s,this.ngModule)}}function LC(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}const T0=new $t("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>hh});class ac extends ly{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=r.selectors.map(Ew).join(","),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return LC(this.componentDef.inputs)}get outputs(){return LC(this.componentDef.outputs)}create(r,s,a,u){const c=(u=u||this.ngModule)?function(n,r){return{get:(s,a,u)=>{const c=n.get(s,oc,u);return c!==oc||a===oc?c:r.get(s,a,u)}}}(r,u.injector):r,g=c.get(bd,ou),y=c.get(hy,null),E=g.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",A=a?function(n,r,s){if(Ht(n))return n.selectRootElement(r,s===Re.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(E,a,this.componentDef.encapsulation):S(g.createRenderer(null,this.componentDef),w,function(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(w)),P=this.componentDef.onPush?576:528,N=function(n,r){return{components:[],scheduler:n||hh,clean:Bv,playerHandler:r||null,flags:0}}(),j=Rh(0,null,null,1,0,null,null,null,null,null),Z=Th(null,j,N,P,null,null,g,E,y,c);let le,ee;oo(Z);try{const Te=function(n,r,s,a,u,c){const g=s[1];s[20]=n;const E=Xc(g,20,2,"#host",null),w=E.mergedAttrs=r.hostAttrs;null!==w&&(Ml(E,w,!0),null!==n&&(ol(u,n,w),null!==E.classes&&Eh(u,n,E.classes),null!==E.styles&&Pa(u,n,E.styles)));const A=a.createRenderer(n,r),P=Th(s,Lm(r),null,r.onPush?64:16,s[20],E,a,A,c||null,null);return g.firstCreatePass&&(Kr(qn(E,s),g,r.type),Fv(g,E),Vv(E,s.length,1)),rd(s,P),s[20]=P}(A,this.componentDef,Z,g,E);if(A)if(a)ol(E,A,["ng-version",Bl.full]);else{const{attrs:_e,classes:$e}=function(n){const r=[],s=[];let a=1,u=2;for(;a<n.length;){let c=n[a];if("string"==typeof c)2===u?""!==c&&r.push(c,n[++a]):8===u&&s.push(c);else{if(!Bs(u))break;u=c}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);_e&&ol(E,A,_e),$e&&$e.length>0&&Eh(E,A,$e.join(" "))}if(ee=As(j,20),void 0!==s){const _e=ee.projection=[];for(let $e=0;$e<this.ngContentSelectors.length;$e++){const rt=s[$e];_e.push(null!=rt?Array.from(rt):null)}}le=function(n,r,s,a,u){const c=s[1],g=function(n,r,s){const a=zt();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),nd(n,a,r,Sl(n,r,1,null),s));const u=di(r,n,a.directiveStart,a);Wn(u,r);const c=_n(a,r);return c&&Wn(c,r),u}(c,s,r);if(a.components.push(g),n[8]=g,u&&u.forEach(E=>E(g,r)),r.contentQueries){const E=zt();r.contentQueries(1,g,E.directiveStart)}const y=zt();return!c.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(is(y.index),kp(s[1],y,0,y.directiveStart,y.directiveEnd,r),Lp(r,g)),g}(Te,this.componentDef,Z,N,[aE]),Ah(j,Z,null)}finally{lo()}return new BC(this.componentType,le,Vo(ee,Z),Z,ee)}}class BC extends class{}{constructor(r,s,a,u,c){super(),this.location=a,this._rootLView=u,this._tNode=c,this.instance=s,this.hostView=this.changeDetectorRef=new fA(u),this.componentType=r}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Id{}class py{}const Dd=new Map;class WC extends Id{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new D0(this);const a=Hn(r);this._bootstrapComponents=Nr(a.bootstrap),this._r3Injector=Kv(r,s,[{provide:Id,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],K(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=hn.THROW_IF_NOT_FOUND,a=ke.Default){return r===hn||r===Id||r===qu?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class df extends py{constructor(r){super(),this.moduleType=r,null!==Hn(r)&&function(n){const r=new Set;!function s(a){const u=Hn(a,!0),c=u.id;null!==c&&(function(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${K(r)} vs ${K(r.name)}`)}(c,Dd.get(c),a),Dd.set(c,a));const g=Nr(u.imports);for(const y of g)r.has(y)||(r.add(y),s(y))}(n)}(r)}create(r){return new WC(this.moduleType,r)}}function yy(n,r,s,a,u,c){const g=r+s;return yr(n,g,u)?function(n,r,s){return n[r]=s}(n,g+1,c?a.call(c,u):a(u)):function(n,r){const s=n[r];return s===nt?void 0:s}(n,g+1)}function vy(n,r){const s=mt();let a;const u=n+20;s.firstCreatePass?(a=function(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}throw new ye("302",`The pipe '${n}' could not be found!`)}(r,s.pipeRegistry),s.data[u]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(u,a.onDestroy)):a=s.data[u];const c=a.factory||(a.factory=li(a.type)),g=Jn(Zp);try{const y=da(!1),E=c();return da(y),function(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,Ce(),u,E),E}finally{Jn(g)}}function ff(n,r,s){const a=n+20,u=Ce(),c=Ss(u,a);return function(n,r){return n[1].data[r].pure}(u,a)?yy(u,function(){const n=Oe.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}(),r,c.transform,s,c):c.transform(s)}function Td(n){return r=>{setTimeout(n,void 0,r)}}const Gs=class extends p.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var E,w,A;let u=r,c=s||(()=>null),g=a;if(r&&"object"==typeof r){const P=r;u=null==(E=P.next)?void 0:E.bind(P),c=null==(w=P.error)?void 0:w.bind(P),g=null==(A=P.complete)?void 0:A.bind(P)}this.__isAsync&&(c=Td(c),u&&(u=Td(u)),g&&(g=Td(g)));const y=super.subscribe({next:u,error:c,complete:g});return r instanceof X.w&&r.add(y),y}};function B0(){return this._results[sd()]()}class gf{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=sd(),a=gf.prototype;a[s]||(a[s]=B0)}get changes(){return this._changes||(this._changes=new Gs)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const u=Yn(r);(this._changesDetected=!function(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let u=n[a],c=r[a];if(s&&(u=s(u),c=s(c)),c!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const $0=function(){return Ey(zt(),Ce())};let Ad=(()=>{class n{}return n.__NG_ELEMENT_ID__=$0,n})();const W0=Ad,XC=class extends W0{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=Th(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(a[19]=c.createEmbeddedView(s)),Ah(s,a,r),new yg(a)}};function Ey(n,r){return 4&n.type?new XC(r,n,Vo(n,r)):null}const G0=function(){return by(zt(),Ce())};let Cy=(()=>{class n{}return n.__NG_ELEMENT_ID__=G0,n})();const EA=Cy,z0=class extends EA{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Vo(this._hostTNode,this._hostLView)}get injector(){return new tn(this._hostTNode,this._hostLView)}get parentInjector(){const r=ze(this._hostTNode,this._hostLView);if(qf(r)){const s=ll(r,this._hostLView),a=ca(r);return new tn(s[1].data[a+8],s)}return new tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=xr(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const u=r.createEmbeddedView(s||{});return this.insert(u,a),u}createComponent(r,s,a,u,c){const g=r&&!("function"==typeof r);let y;if(g)y=s;else{const P=s||{};y=P.index,a=P.injector,u=P.projectableNodes,c=P.ngModuleRef}const E=g?r:new ac(Gt(r)),w=a||this.parentInjector;if(!c&&null==E.ngModule&&w){const P=w.get(Id,null);P&&(c=P)}const A=E.create(w,u,void 0,c);return this.insert(A.hostView,y),A}insert(r,s){const a=r._lView,u=a[1];if(ai(a[3])){const A=this.indexOf(r);if(-1!==A)this.detach(A);else{const P=a[3],N=new z0(P,P[6],P[3]);N.detach(N.indexOf(r))}}const c=this._adjustIndex(s),g=this._lContainer;!function(n,r,s,a){const u=10+a,c=s.length;a>0&&(s[u-1][4]=r),a<c-10?(r[4]=s[u],ki(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const g=r[17];null!==g&&s!==g&&function(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(g,r);const y=r[19];null!==y&&y.insertView(n),r[2]|=128}(u,a,g,c);const y=sn(c,g),E=a[11],w=So(E,g[7]);return null!==w&&function(n,r,s,a,u,c){a[0]=u,a[6]=r,ju(n,a,s,1,u,c)}(u,g[6],E,a,w,y),r.attachToViewContainerRef(),ki(jl(g),c,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=xr(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Vt(this._lContainer,s);a&&(Pn(jl(this._lContainer),s),Bi(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Vt(this._lContainer,s);return a&&null!=Pn(jl(this._lContainer),s)?new yg(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function xr(n){return n[8]}function jl(n){return n[8]||(n[8]=[])}function by(n,r){let s;const a=r[n.index];if(ai(a))s=a;else{let u;if(8&n.type)u=mn(a);else{const c=r[11];u=c.createComment("");const g=_n(n,r);Xr(c,So(c,g),u,function(n,r){return Ht(n)?n.nextSibling(r):r.nextSibling}(c,g),!1)}r[n.index]=s=Gm(a,r,u,n),rd(r,s)}return new z0(s,n,r)}class wy{constructor(r){this.queryList=r,this.matches=null}clone(){return new wy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Iy{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,u=[];for(let c=0;c<a;c++){const g=s.getByIndex(c);u.push(this.queries[g.indexInDeclarationView].clone())}return new Iy(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==Dg(r,s).matches&&this.queries[s].setDirty()}}class tb{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Cg{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,c=this.getByIndex(a).embeddedTView(r,u);c&&(c.indexInDeclarationView=a,null!==s?s.push(c):s=[c])}return null!==s?new Cg(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class bg{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new bg(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const c=a[u];this.matchTNodeWithReadOption(r,s,Hl(s,c)),this.matchTNodeWithReadOption(r,s,Xt(s,r,c,!1,!1))}else a===Ad?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Xt(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Uo||u===Cy||u===Ad&&4&s.type)this.addMatch(s.index,-2);else{const c=Xt(s,r,u,!1,!1);null!==c&&this.addMatch(s.index,c)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Hl(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function Z0(n,r,s,a){return-1===s?function(n,r){return 11&n.type?Vo(n,r):4&n.type?Ey(n,r):null}(r,n):-2===s?function(n,r,s){return s===Uo?Vo(r,n):s===Ad?Ey(r,n):s===Cy?by(r,n):void 0}(n,r,a):di(n,n[1],s,r)}function Dy(n,r,s,a){const u=r[19].queries[a];if(null===u.matches){const c=n.data,g=s.matches,y=[];for(let E=0;E<g.length;E+=2){const w=g[E];y.push(w<0?null:Z0(r,c[w],g[E+1],s.metadata.read))}u.matches=y}return u.matches}function wg(n,r,s,a){const u=n.queries.getByIndex(s),c=u.matches;if(null!==c){const g=Dy(n,r,u,s);for(let y=0;y<c.length;y+=2){const E=c[y];if(E>0)a.push(g[y/2]);else{const w=c[y+1],A=r[-E];for(let P=10;P<A.length;P++){const N=A[P];N[17]===N[3]&&wg(N[1],N,w,a)}if(null!==A[9]){const P=A[9];for(let N=0;N<P.length;N++){const j=P[N];wg(j[1],j,w,a)}}}}}return a}function Ty(n){const r=Ce(),s=mt(),a=il();sa(a+1);const u=Dg(s,a);if(n.dirty&&Pi(r)===(2==(2&u.metadata.flags))){if(null===u.matches)n.reset([]);else{const c=u.crossesNgTemplate?wg(s,r,a,[]):Dy(s,r,u,a);n.reset(c,mg),n.notifyOnChanges()}return!0}return!1}function nb(n,r,s){const a=mt();a.firstCreatePass&&(mf(a,new tb(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),Ig(a,Ce(),r)}function Sd(n,r,s,a){const u=mt();if(u.firstCreatePass){const c=zt();mf(u,new tb(r,s,a),c.index),function(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(u,n),2==(2&s)&&(u.staticContentQueries=!0)}Ig(u,Ce(),s)}function Un(){return n=Ce(),r=il(),n[19].queries[r].queryList;var n,r}function Ig(n,r,s){const a=new gf(4==(4&s));Op(n,r,a,a.destroy),null===r[19]&&(r[19]=new Iy),r[19].queries.push(new wy(a))}function mf(n,r,s){null===n.queries&&(n.queries=new Cg),n.queries.track(new bg(r,s))}function Dg(n,r){return n.queries.getByIndex(r)}const Py=new $t("Application Initializer");let zs=(()=>{class n{constructor(s){this.appInits=s,this.resolve=sc,this.reject=sc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const c=this.appInits[u]();if(Gn(c))s.push(c);else if(pd(c)){const g=new Promise((y,E)=>{c.subscribe({complete:y,error:E})});s.push(g)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(gt(Py,8))},n.\u0275prov=Qt({token:n,factory:n.\u0275fac}),n})();const Ny=new $t("AppId"),cD={provide:Ny,useFactory:function(){return`${Oy()}${Oy()}${Oy()}`},deps:[]};function Oy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bb=new $t("Platform Initializer"),Zs=new $t("Platform ID"),ky=new $t("appBootstrapListener");let Fy=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Qt({token:n,factory:n.\u0275fac}),n})();const Ly=new $t("LocaleId"),ar=new $t("DefaultCurrencyCode");class Db{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}const xg=function(n){return new df(n)},Og=xg,Ef=function(n){return Promise.resolve(xg(n))},Gl=function(n){const r=xg(n),a=Nr(Hn(n).declarations).reduce((u,c)=>{const g=Gt(c);return g&&u.push(new ac(g)),u},[]);return new Db(r,a)},pD=Gl,_D=function(n){return Promise.resolve(Gl(n))};let Md=(()=>{class n{constructor(){this.compileModuleSync=Og,this.compileModuleAsync=Ef,this.compileModuleAndAllComponentsSync=pD,this.compileModuleAndAllComponentsAsync=_D}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Qt({token:n,factory:n.\u0275fac}),n})();const kg=(()=>Promise.resolve(0))();function Vy(n){"undefined"==typeof Zone?kg.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class kr{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gs(!1),this.onMicrotaskEmpty=new Gs(!1),this.onStable=new Gs(!1),this.onError=new Gs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let n=Xe.requestAnimationFrame,r=Xe.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function(n){const r=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Xe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,By(n),n.isCheckStableRunning=!0,Fg(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),By(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,c,g,y)=>{try{return bf(n),s.invokeTask(u,c,g,y)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||n.shouldCoalesceRunChangeDetection)&&r(),Sb(n)}},onInvoke:(s,a,u,c,g,y,E)=>{try{return bf(n),s.invoke(u,c,g,y,E)}finally{n.shouldCoalesceRunChangeDetection&&r(),Sb(n)}},onHasTask:(s,a,u,c)=>{s.hasTask(u,c),a===u&&("microTask"==c.change?(n._hasPendingMicrotasks=c.microTask,By(n),Fg(n)):"macroTask"==c.change&&(n.hasPendingMacrotasks=c.macroTask))},onHandleError:(s,a,u,c)=>(s.handleError(u,c),n.runOutsideAngular(()=>n.onError.emit(c)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(kr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,u){const c=this._inner,g=c.scheduleEventTask("NgZoneEvent: "+u,r,Ab,sc,sc);try{return c.runTask(g,s,a)}finally{c.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Ab={};function Fg(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function By(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function bf(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Sb(n){n._nesting--,Fg(n)}class ED{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gs,this.onMicrotaskEmpty=new Gs,this.onStable=new Gs,this.onError=new Gs}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,u){return r.apply(s,a)}}let Rb=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kr.assertNotInAngularZone(),Vy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vy(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let c=-1;a&&a>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==c),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:c,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,u){return[]}}return n.\u0275fac=function(s){return new(s||n)(gt(kr))},n.\u0275prov=Qt({token:n,factory:n.\u0275fac}),n})(),Mb=(()=>{class n{constructor(){this._applications=new Map,wf.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return wf.findTestabilityInTree(this,s,a)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Qt({token:n,factory:n.\u0275fac}),n})();class CD{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function Pb(n){wf=n}let wf=new CD,Lg=!0,jo=!1;function zl(){return jo=!0,Lg}function Nb(){if(jo)throw new Error("Cannot enable prod mode after platform setup.");Lg=!1}let _s;const Ug=new $t("AllowMultipleToken");class ID{constructor(r,s){this.name=r,this.token=s}}function kb(n,r,s=[]){const a=`Platform: ${r}`,u=new $t(a);return(c=[])=>{let g=Tf();if(!g||g.injector.get(Ug,!1))if(n)n(s.concat(c).concat({provide:u,useValue:!0}));else{const y=s.concat(c).concat({provide:u,useValue:!0},{provide:Fh,useValue:"platform"});!function(n){if(_s&&!_s.destroyed&&!_s.injector.get(Ug,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_s=n.get(Pd);const r=n.get(bb,null);r&&r.forEach(s=>s())}(hn.create({providers:y,name:a}))}return function(n){const r=Tf();if(!r)throw new Error("No platform exists!");if(!r.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return r}(u)}}function Tf(){return _s&&!_s.destroyed?_s:null}let Pd=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const y=function(n,r){let s;return s="noop"===n?new ED:("zone.js"===n?void 0:n)||new kr({enableLongStackTrace:zl(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),E=[{provide:kr,useValue:y}];return y.run(()=>{const w=hn.create({providers:E,parent:this.injector,name:s.moduleType.name}),A=s.create(w),P=A.injector.get(Do,null);if(!P)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const N=y.onError.subscribe({next:j=>{P.handleError(j)}});A.onDestroy(()=>{Sf(this._modules,A),N.unsubscribe()})}),function(n,r,s){try{const a=s();return Gn(a)?a.catch(u=>{throw r.runOutsideAngular(()=>n.handleError(u)),u}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(P,y,()=>{const N=A.injector.get(zs);return N.runInitializers(),N.donePromise.then(()=>(function(n){Dt(n,"Expected localeId to be defined"),"string"==typeof n&&(cC=n.toLowerCase().replace(/_/g,"-"))}(A.injector.get(Ly,Xh)||Xh),this._moduleDoBootstrap(A),A))})})}bootstrapModule(s,a=[]){const u=Wy({},a);return function(n,r,s){const a=new df(s);return Promise.resolve(a)}(0,0,s).then(c=>this.bootstrapModuleFactory(c,u))}_moduleDoBootstrap(s){const a=s.injector.get(Af);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${K(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(gt(hn))},n.\u0275prov=Qt({token:n,factory:n.\u0275fac}),n})();function Wy(n,r){return Array.isArray(r)?r.reduce(Wy,n):qe(qe({},n),r)}let Af=(()=>{class n{constructor(s,a,u,c,g){this._zone=s,this._injector=a,this._exceptionHandler=u,this._componentFactoryResolver=c,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new O.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),E=new O.y(w=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{kr.assertNotInAngularZone(),Vy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{kr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{A.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ue.T)(y,E.pipe((0,ne.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=s instanceof ly?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(u.componentType);const c=function(n){return n.isBoundToModule}(u)?void 0:this._injector.get(Id),y=u.create(hn.NULL,[],a||u.selector,c),E=y.location.nativeElement,w=y.injector.get(Rb,null),A=w&&y.injector.get(Mb);return w&&A&&A.registerApplication(E,w),y.onDestroy(()=>{this.detachView(y.hostView),Sf(this.components,y),A&&A.unregisterApplication(E)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Sf(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(ky,[]).concat(this._bootstrapListeners).forEach(u=>u(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(gt(kr),gt(hn),gt(Do),gt(Cd),gt(zs))},n.\u0275prov=Qt({token:n,factory:n.\u0275fac}),n})();function Sf(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}const SD=function(n){return function(n,r,s){if(Ri(n)&&!s){const a=Lt(n.index,r);return new yg(a,a)}return 47&n.type?new yg(r[16],r):null}(zt(),Ce(),16==(16&n))};let RD=(()=>{class n{}return n.__NG_ELEMENT_ID__=SD,n})();const $g=function(n){return null};class Yy{constructor(){}supports(r){return jh(r)}create(r){return new FD(r)}}const kD=(n,r)=>r;class FD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||kD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,u=0,c=null;for(;s||a;){const g=!a||s&&s.currentIndex<Wg(a,u,c)?s:a,y=Wg(g,u,c),E=g.currentIndex;if(g===a)u--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)u++;else{c||(c=[]);const w=y-u,A=E-u;if(w!=A){for(let N=0;N<w;N++){const j=N<c.length?c[N]:c[N]=0,Z=j+N;A<=Z&&Z<w&&(c[N]=j+1)}c[g.previousIndex]=A-w}}y!==E&&r(g,y,E)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!jh(r))throw new Error(`Error trying to diff '${K(r)}'. Only arrays and iterables are allowed`);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,c,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let y=0;y<this.length;y++)c=r[y],g=this._trackByFn(y,c),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,c,g,y)),Object.is(s.item,c)||this._addIdentityChange(s,c)):(s=this._mismatch(s,c,g,y),a=!0),s=s._next}else u=0,function(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[sd()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,y=>{g=this._trackByFn(u,y),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,y,g,u)),Object.is(s.item,y)||this._addIdentityChange(s,y)):(s=this._mismatch(s,y,g,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,u){let c;return null===r?c=this._itTail:(c=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,c,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,c,u)):r=this._addAfter(new LD(s,a),c,u),r}_verifyReinsertion(r,s,a,u){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==c?r=this._reinsertAfter(c,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,c=r._nextRemoved;return null===u?this._removalsHead=c:u._nextRemoved=c,null===c?this._removalsTail=u:c._prevRemoved=u,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const u=null===s?this._itHead:s._next;return r._next=u,r._prev=s,null===u?this._itTail=r:u._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Gb),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class LD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Gb{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new VD,this.map.set(s,a)),a.add(r)}get(r,s){const u=this.map.get(r);return u?u.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wg(n,r,s){const a=n.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+r+u}class zb{constructor(){}supports(r){return r instanceof Map||$i(r)}create(){return new Zb}}class Zb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||$i(r)))throw new Error(`Error trying to diff '${K(r)}'. Only maps and objects are allowed`)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const c=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,c)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,s);const c=u._prev,g=u._next;return c&&(c._next=g),g&&(g._prev=c),u._next=null,u._prev=null,u}const a=new Gg(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Gg{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qb(){return new zg([new Yy])}let zg=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||qb()),deps:[[n,new us,new Jr]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(n){return n.name||typeof n}(s)}'`)}}return n.\u0275prov=Qt({token:n,providedIn:"root",factory:qb}),n})();function Kb(){return new ql([new zb])}let ql=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Kb()),deps:[[n,new us,new Jr]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(a)return a;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return n.\u0275prov=Qt({token:n,providedIn:"root",factory:Kb}),n})();const UD=[new zb],Of=new zg([new Yy]),jD=new ql(UD),HD=kb(null,"core",[{provide:Zs,useValue:"unknown"},{provide:Pd,deps:[hn]},{provide:Mb,deps:[]},{provide:Fy,deps:[]}]),ZD=[{provide:Af,useClass:Af,deps:[kr,hn,Do,Cd,zs]},{provide:T0,deps:[kr],useFactory:function(n){let r=[];return n.onStable.subscribe(()=>{for(;r.length;)r.pop()()}),function(s){r.push(s)}}},{provide:zs,useClass:zs,deps:[[new Jr,Py]]},{provide:Md,useClass:Md,deps:[]},cD,{provide:zg,useFactory:function(){return Of},deps:[]},{provide:ql,useFactory:function(){return jD},deps:[]},{provide:Ly,useFactory:function(n){return n||"undefined"!=typeof $localize&&$localize.locale||Xh},deps:[[new Co(Ly),new Jr,new us]]},{provide:ar,useValue:"USD"}];let Yb=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(gt(Af))},n.\u0275mod=Go({type:n}),n.\u0275inj=un({providers:ZD}),n})()},6293:(xe,me,x)=>{"use strict";x.d(me,{Z:()=>ye});var p=x(4213),X=x(1177),O=x(1572),ue=x(3855);class ne{constructor(he,te){this._delegate=he,this.firebase=te,(0,O._addComponent)(he,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(he,te=O._DEFAULT_ENTRY_NAME){var de;this._delegate.checkDestroyed();const ge=this._delegate.container.getProvider(he);return!ge.isInitialized()&&"EXPLICIT"===(null===(de=ge.getComponent())||void 0===de?void 0:de.instantiationMode)&&ge.initialize(),ge.getImmediate({identifier:te})}_removeServiceInstance(he,te=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(te)}_addComponent(he){(0,O._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,O._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function J(){const pe=function(pe){const he={},te={__esModule:!0,initializeApp:function(lt,ln={}){const at=O.initializeApp(lt,ln);if((0,p.r3)(he,at.name))return he[at.name];const Qe=new pe(at,te);return he[at.name]=Qe,Qe},app:ge,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(lt){const ln=lt.name,at=ln.replace("-compat","");if(O._registerComponent(lt)&&"PUBLIC"===lt.type){const Qe=(xt=ge())=>{if("function"!=typeof xt[at])throw fe.create("invalid-app-argument",{appName:ln});return xt[at]()};void 0!==lt.serviceProps&&(0,p.ZB)(Qe,lt.serviceProps),te[at]=Qe,pe.prototype[at]=function(...xt){return this._getService.bind(this,ln).apply(this,lt.multipleInstances?xt:[])}}return"PUBLIC"===lt.type?te[at]:null},removeApp:function(lt){delete he[lt]},useAsService:function(lt,ln){return"serverAuth"===ln?null:ln},modularAPIs:O}};function ge(lt){if(!(0,p.r3)(he,lt=lt||O._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:lt});return he[lt]}return te.default=te,Object.defineProperty(te,"apps",{get:function(){return Object.keys(he).map(lt=>he[lt])}}),ge.App=pe,te}(ne);return pe.INTERNAL=Object.assign(Object.assign({},pe.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function(te){(0,p.ZB)(pe,te)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),pe}(),U=new ue.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pe=self.firebase.SDK_VERSION;pe&&pe.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ye=k;(0,O.registerVersion)("@firebase/app-compat","0.1.10",undefined)},1572:(xe,me,x)=>{"use strict";x.r(me),x.d(me,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Ys,_DEFAULT_ENTRY_NAME:()=>Ti,_addComponent:()=>Ai,_addOrOverwriteComponent:()=>Ki,_apps:()=>Dt,_clearComponents:()=>un,_components:()=>Tt,_getProvider:()=>Qt,_registerComponent:()=>ii,_removeServiceInstance:()=>Ks,deleteApp:()=>xn,getApp:()=>si,getApps:()=>be,initializeApp:()=>Vr,onLog:()=>At,registerVersion:()=>ke,setLogLevel:()=>Ur});var p=x(8239),X=x(1177),O=x(3855),ue=x(4213);class ne{constructor(Ge){this.container=Ge}getPlatformInfoString(){return this.container.getProviders().map(ft=>{if(function(je){const Ge=je.getComponent();return"VERSION"===(null==Ge?void 0:Ge.type)}(ft)){const pt=ft.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(ft=>ft).join(" ")}}const fe="@firebase/app",K="0.7.9",J=new O.Yd("@firebase/app"),Ti="[DEFAULT]",Wo={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dt=new Map,Tt=new Map;function Ai(je,Ge){try{je.container.addComponent(Ge)}catch(ft){J.debug(`Component ${Ge.name} failed to register with FirebaseApp ${je.name}`,ft)}}function Ki(je,Ge){je.container.addOrOverwriteComponent(Ge)}function ii(je){const Ge=je.name;if(Tt.has(Ge))return J.debug(`There were multiple attempts to register component ${Ge}.`),!1;Tt.set(Ge,je);for(const ft of Dt.values())Ai(ft,je);return!0}function Qt(je,Ge){return je.container.getProvider(Ge)}function Ks(je,Ge,ft=Ti){Qt(je,Ge).clearInstance(ft)}function un(){Tt.clear()}const wt=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class cn{constructor(Ge,ft,pt){this._isDeleted=!1,this._options=Object.assign({},Ge),this._config=Object.assign({},ft),this._name=ft.name,this._automaticDataCollectionEnabled=ft.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ge){this._isDeleted=Ge}checkDestroyed(){if(this.isDeleted)throw wt.create("app-deleted",{appName:this._name})}}const Ys="9.5.0";function Vr(je,Ge={}){"object"!=typeof Ge&&(Ge={name:Ge});const ft=Object.assign({name:Ti,automaticDataCollectionEnabled:!1},Ge),pt=ft.name;if("string"!=typeof pt||!pt)throw wt.create("bad-app-name",{appName:String(pt)});const Xn=Dt.get(pt);if(Xn){if((0,ue.vZ)(je,Xn.options)&&(0,ue.vZ)(ft,Xn.config))return Xn;throw wt.create("duplicate-app",{appName:pt})}const Rt=new X.H0(pt);for(const Be of Tt.values())Rt.addComponent(Be);const Re=new cn(je,ft,Rt);return Dt.set(pt,Re),Re}function si(je=Ti){const Ge=Dt.get(je);if(!Ge)throw wt.create("no-app",{appName:je});return Ge}function be(){return Array.from(Dt.values())}function xn(je){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,p.Z)(function*(je){const Ge=je.name;Dt.has(Ge)&&(Dt.delete(Ge),yield Promise.all(je.container.getProviders().map(ft=>ft.delete())),je.isDeleted=!0)})).apply(this,arguments)}function ke(je,Ge,ft){var pt;let Xn=null!==(pt=Wo[je])&&void 0!==pt?pt:je;ft&&(Xn+=`-${ft}`);const Rt=Xn.match(/\s|\//),Re=Ge.match(/\s|\//);if(Rt||Re){const Be=[`Unable to register library "${Xn}" with version "${Ge}":`];return Rt&&Be.push(`library name "${Xn}" contains illegal characters (whitespace or "/")`),Rt&&Re&&Be.push("and"),Re&&Be.push(`version name "${Ge}" contains illegal characters (whitespace or "/")`),void J.warn(Be.join(" "))}ii(new X.wA(`${Xn}-version`,()=>({library:Xn,version:Ge}),"VERSION"))}function At(je,Ge){if(null!==je&&"function"!=typeof je)throw wt.create("invalid-log-argument");(0,O.Am)(je,Ge)}function Ur(je){(0,O.Ub)(je)}ii(new X.wA("platform-logger",Ge=>new ne(Ge),"PRIVATE")),ke(fe,K,""),ke(fe,K,"esm2017"),ke("fire-js","")},1177:(xe,me,x)=>{"use strict";x.d(me,{wA:()=>O,H0:()=>K,zt:()=>ne});var p=x(8239),X=x(4213);class O{constructor(k,U,H){this.name=k,this.instanceFactory=U,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(k){return this.instantiationMode=k,this}setMultipleInstances(k){return this.multipleInstances=k,this}setServiceProps(k){return this.serviceProps=k,this}setInstanceCreatedCallback(k){return this.onInstanceCreated=k,this}}const ue="[DEFAULT]";class ne{constructor(k,U){this.name=k,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(k){const U=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(U)){const H=new X.BH;if(this.instancesDeferred.set(U,H),this.isInitialized(U)||this.shouldAutoInitialize())try{const oe=this.getOrInitializeService({instanceIdentifier:U});oe&&H.resolve(oe)}catch(oe){}}return this.instancesDeferred.get(U).promise}getImmediate(k){var U;const H=this.normalizeInstanceIdentifier(null==k?void 0:k.identifier),oe=null!==(U=null==k?void 0:k.optional)&&void 0!==U&&U;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(ce){if(oe)return null;throw ce}}getComponent(){return this.component}setComponent(k){if(k.name!==this.name)throw Error(`Mismatching Component ${k.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=k,this.shouldAutoInitialize()){if("EAGER"===k.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ue})}catch(U){}for(const[U,H]of this.instancesDeferred.entries()){const oe=this.normalizeInstanceIdentifier(U);try{const ce=this.getOrInitializeService({instanceIdentifier:oe});H.resolve(ce)}catch(ce){}}}}clearInstance(k=ue){this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)}delete(){var k=this;return(0,p.Z)(function*(){const U=Array.from(k.instances.values());yield Promise.all([...U.filter(H=>"INTERNAL"in H).map(H=>H.INTERNAL.delete()),...U.filter(H=>"_delete"in H).map(H=>H._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(k=ue){return this.instances.has(k)}getOptions(k=ue){return this.instancesOptions.get(k)||{}}initialize(k={}){const{options:U={}}=k,H=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(H))throw Error(`${this.name}(${H}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const oe=this.getOrInitializeService({instanceIdentifier:H,options:U});for(const[ce,ye]of this.instancesDeferred.entries())H===this.normalizeInstanceIdentifier(ce)&&ye.resolve(oe);return oe}onInit(k,U){var H;const oe=this.normalizeInstanceIdentifier(U),ce=null!==(H=this.onInitCallbacks.get(oe))&&void 0!==H?H:new Set;ce.add(k),this.onInitCallbacks.set(oe,ce);const ye=this.instances.get(oe);return ye&&k(ye,oe),()=>{ce.delete(k)}}invokeOnInitCallbacks(k,U){const H=this.onInitCallbacks.get(U);if(H)for(const oe of H)try{oe(k,U)}catch(ce){}}getOrInitializeService({instanceIdentifier:k,options:U={}}){let H=this.instances.get(k);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:(J=k,J===ue?void 0:J),options:U}),this.instances.set(k,H),this.instancesOptions.set(k,U),this.invokeOnInitCallbacks(H,k),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,k,H)}catch(oe){}var J;return H||null}normalizeInstanceIdentifier(k=ue){return this.component?this.component.multipleInstances?k:ue:k}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class K{constructor(k){this.name=k,this.providers=new Map}addComponent(k){const U=this.getProvider(k.name);if(U.isComponentSet())throw new Error(`Component ${k.name} has already been registered with ${this.name}`);U.setComponent(k)}addOrOverwriteComponent(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)}getProvider(k){if(this.providers.has(k))return this.providers.get(k);const U=new ne(k,this);return this.providers.set(k,U),U}getProviders(){return Array.from(this.providers.values())}}},3855:(xe,me,x)=>{"use strict";x.d(me,{in:()=>X,Yd:()=>fe,Ub:()=>K,Am:()=>J});const p=[];var X=(()=>{return(k=X||(X={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",X;var k})();const O={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ue=X.INFO,ne={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},Y=(k,U,...H)=>{if(U<k.logLevel)return;const oe=(new Date).toISOString(),ce=ne[U];if(!ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[ce](`[${oe}]  ${k.name}:`,...H)};class fe{constructor(U){this.name=U,this._logLevel=ue,this._logHandler=Y,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in X))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?O[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...U),this._logHandler(this,X.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...U),this._logHandler(this,X.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,X.INFO,...U),this._logHandler(this,X.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,X.WARN,...U),this._logHandler(this,X.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...U),this._logHandler(this,X.ERROR,...U)}}function K(k){p.forEach(U=>{U.setLogLevel(k)})}function J(k,U){for(const H of p){let oe=null;U&&U.level&&(oe=O[U.level]),H.userLogHandler=null===k?null:(ce,ye,...pe)=>{const he=pe.map(te=>{if(null==te)return null;if("string"==typeof te)return te;if("number"==typeof te||"boolean"==typeof te)return te.toString();if(te instanceof Error)return te.message;try{return JSON.stringify(te)}catch(de){return null}}).filter(te=>te).join(" ");ye>=(null!=oe?oe:ce.logLevel)&&k({level:X[ye].toLowerCase(),message:he,args:pe,type:ce.name})}}}},8239:(xe,me,x)=>{"use strict";function p(O,ue,ne,Y,fe,K,J){try{var k=O[K](J),U=k.value}catch(H){return void ne(H)}k.done?ue(U):Promise.resolve(U).then(Y,fe)}function X(O){return function(){var ue=this,ne=arguments;return new Promise(function(Y,fe){var K=O.apply(ue,ne);function J(U){p(K,Y,fe,J,k,"next",U)}function k(U){p(K,Y,fe,J,k,"throw",U)}J(void 0)})}}x.d(me,{Z:()=>X})}},xe=>{xe(xe.s=3730)}]);